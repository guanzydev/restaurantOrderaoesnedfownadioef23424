(()=>{var e={};e.id=974,e.ids=[974],e.modules={257:(e,t,r)=>{"use strict";let{EMPTY_BUFFER:n}=r(1813),i=Buffer[Symbol.species];function a(e,t,r,n,i){for(let a=0;a<i;a++)r[n+a]=e[a]^t[3&a]}function s(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}function o(e){let t;return(o.readOnly=!0,Buffer.isBuffer(e))?e:(e instanceof ArrayBuffer?t=new i(e):ArrayBuffer.isView(e)?t=new i(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),o.readOnly=!1),t)}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let r=Buffer.allocUnsafe(t),a=0;for(let t=0;t<e.length;t++){let n=e[t];r.set(n,a),a+=n.length}return a<t?new i(r.buffer,r.byteOffset,a):r},mask:a,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:o,unmask:s},!process.env.WS_NO_BUFFER_UTIL)try{let t=r(9727);e.exports.mask=function(e,r,n,i,s){s<48?a(e,r,n,i,s):t.mask(e,r,n,i,s)},e.exports.unmask=function(e,r){e.length<32?s(e,r):t.unmask(e,r)}}catch(e){}},512:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return m},defaultHead:function(){return d}});let n=r(4985),i=r(740),a=r(687),s=i._(r(3210)),o=n._(r(7755)),l=r(4959),u=r(9513),c=r(4604);function d(e){void 0===e&&(e=!1);let t=[(0,a.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,a.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function p(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}r(148);let h=["name","httpEquiv","charSet","itemProp"];function f(e,t){let{inAmpMode:r}=t;return e.reduce(p,[]).reverse().concat(d(r).reverse()).filter(function(){let e=new Set,t=new Set,r=new Set,n={};return i=>{let a=!0,s=!1;if(i.key&&"number"!=typeof i.key&&i.key.indexOf("$")>0){s=!0;let t=i.key.slice(i.key.indexOf("$")+1);e.has(t)?a=!1:e.add(t)}switch(i.type){case"title":case"base":t.has(i.type)?a=!1:t.add(i.type);break;case"meta":for(let e=0,t=h.length;e<t;e++){let t=h[e];if(i.props.hasOwnProperty(t))if("charSet"===t)r.has(t)?a=!1:r.add(t);else{let e=i.props[t],r=n[t]||new Set;("name"!==t||!s)&&r.has(e)?a=!1:(r.add(e),n[t]=r)}}}return a}}()).reverse().map((e,t)=>{let n=e.key||t;if(process.env.__NEXT_OPTIMIZE_FONTS&&!r&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,s.default.cloneElement(e,t)}return s.default.cloneElement(e,{key:n})})}let m=function(e){let{children:t}=e,r=(0,s.useContext)(l.AmpStateContext),n=(0,s.useContext)(u.HeadManagerContext);return(0,a.jsx)(o.default,{reduceComponentsToState:f,headManager:n,inAmpMode:(0,c.isInAmpMode)(r),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},612:()=>{},678:(e,t,r)=>{let n=r(3997),i=r(8354);t.init=function(e){e.inspectOpts={};let r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(r){let{namespace:n,useColors:i}=this;if(i){let t=this.color,i="\x1b[3"+(t<8?t:"8;5;"+t),a=`  ${i};1m${n} \u001B[0m`;r[0]=a+r[0].split("\n").join("\n"+a),r.push(i+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else r[0]=(t.inspectOpts.hideDate?"":new Date().toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)},t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=r(9228);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(6211)(t);let{formatters:a}=e.exports;a.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},a.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},946:(e,t,r)=>{"use strict";let{tokenChars:n}=r(7293);e.exports={parse:function(e){let t=new Set,r=-1,i=-1,a=0;for(;a<e.length;a++){let s=e.charCodeAt(a);if(-1===i&&1===n[s])-1===r&&(r=a);else if(0!==a&&(32===s||9===s))-1===i&&-1!==r&&(i=a);else if(44===s){if(-1===r)throw SyntaxError(`Unexpected character at index ${a}`);-1===i&&(i=a);let n=e.slice(r,i);if(t.has(n))throw SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),r=i=-1}else throw SyntaxError(`Unexpected character at index ${a}`)}if(-1===r||-1!==i)throw SyntaxError("Unexpected end of input");let s=e.slice(r,a);if(t.has(s))throw SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}}},1135:()=>{},1187:(e,t,r)=>{"use strict";let n,i,a,s,o,l;r.d(t,{default:()=>uv});var u,c,d,p,h,f={};r.r(f),r.d(f,{boolean:()=>R,booleanish:()=>j,commaOrSpaceSeparated:()=>Z,commaSeparated:()=>F,number:()=>D,overloadedBoolean:()=>L,spaceSeparated:()=>M});var m={};r.r(m),r.d(m,{attentionMarkers:()=>tB,contentInitial:()=>tF,disable:()=>tV,document:()=>tM,flow:()=>tz,flowInitial:()=>tZ,insideSpan:()=>tU,string:()=>t$,text:()=>tq});var g=r(687),y=r(3210),_=r.n(y),v=r(5773);r(5495);var b=r(1261),x=r.n(b);let w=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,k=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,S={};function C(e,t){return((t||S).jsx?k:w).test(e)}let T=/[ \t\n\f\r]/g;function E(e){return""===e.replace(T,"")}class A{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}function I(e,t){let r={},n={};for(let t of e)Object.assign(r,t.property),Object.assign(n,t.normal);return new A(r,n,t)}function O(e){return e.toLowerCase()}A.prototype.normal={},A.prototype.property={},A.prototype.space=void 0;class N{constructor(e,t){this.attribute=t,this.property=e}}N.prototype.attribute="",N.prototype.booleanish=!1,N.prototype.boolean=!1,N.prototype.commaOrSpaceSeparated=!1,N.prototype.commaSeparated=!1,N.prototype.defined=!1,N.prototype.mustUseProperty=!1,N.prototype.number=!1,N.prototype.overloadedBoolean=!1,N.prototype.property="",N.prototype.spaceSeparated=!1,N.prototype.space=void 0;let P=0,R=z(),j=z(),L=z(),D=z(),M=z(),F=z(),Z=z();function z(){return 2**++P}let $=Object.keys(f);class q extends N{constructor(e,t,r,n){let i=-1;if(super(e,t),function(e,t,r){r&&(e[t]=r)}(this,"space",n),"number"==typeof r)for(;++i<$.length;){let e=$[i];!function(e,t,r){r&&(e[t]=r)}(this,$[i],(r&f[e])===f[e])}}}function U(e){let t={},r={};for(let[n,i]of Object.entries(e.properties)){let a=new q(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[O(n)]=n,r[O(a.attribute)]=n}return new A(t,r,e.space)}q.prototype.defined=!0;let B=U({properties:{ariaActiveDescendant:null,ariaAtomic:j,ariaAutoComplete:null,ariaBusy:j,ariaChecked:j,ariaColCount:D,ariaColIndex:D,ariaColSpan:D,ariaControls:M,ariaCurrent:null,ariaDescribedBy:M,ariaDetails:null,ariaDisabled:j,ariaDropEffect:M,ariaErrorMessage:null,ariaExpanded:j,ariaFlowTo:M,ariaGrabbed:j,ariaHasPopup:null,ariaHidden:j,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:M,ariaLevel:D,ariaLive:null,ariaModal:j,ariaMultiLine:j,ariaMultiSelectable:j,ariaOrientation:null,ariaOwns:M,ariaPlaceholder:null,ariaPosInSet:D,ariaPressed:j,ariaReadOnly:j,ariaRelevant:null,ariaRequired:j,ariaRoleDescription:M,ariaRowCount:D,ariaRowIndex:D,ariaRowSpan:D,ariaSelected:j,ariaSetSize:D,ariaSort:null,ariaValueMax:D,ariaValueMin:D,ariaValueNow:D,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function V(e,t){return t in e?e[t]:t}function G(e,t){return V(e,t.toLowerCase())}let H=U({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:F,acceptCharset:M,accessKey:M,action:null,allow:null,allowFullScreen:R,allowPaymentRequest:R,allowUserMedia:R,alt:null,as:null,async:R,autoCapitalize:null,autoComplete:M,autoFocus:R,autoPlay:R,blocking:M,capture:null,charSet:null,checked:R,cite:null,className:M,cols:D,colSpan:null,content:null,contentEditable:j,controls:R,controlsList:M,coords:D|F,crossOrigin:null,data:null,dateTime:null,decoding:null,default:R,defer:R,dir:null,dirName:null,disabled:R,download:L,draggable:j,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:R,formTarget:null,headers:M,height:D,hidden:L,high:D,href:null,hrefLang:null,htmlFor:M,httpEquiv:M,id:null,imageSizes:null,imageSrcSet:null,inert:R,inputMode:null,integrity:null,is:null,isMap:R,itemId:null,itemProp:M,itemRef:M,itemScope:R,itemType:M,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:R,low:D,manifest:null,max:null,maxLength:D,media:null,method:null,min:null,minLength:D,multiple:R,muted:R,name:null,nonce:null,noModule:R,noValidate:R,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:R,optimum:D,pattern:null,ping:M,placeholder:null,playsInline:R,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:R,referrerPolicy:null,rel:M,required:R,reversed:R,rows:D,rowSpan:D,sandbox:M,scope:null,scoped:R,seamless:R,selected:R,shadowRootClonable:R,shadowRootDelegatesFocus:R,shadowRootMode:null,shape:null,size:D,sizes:null,slot:null,span:D,spellCheck:j,src:null,srcDoc:null,srcLang:null,srcSet:null,start:D,step:null,style:null,tabIndex:D,target:null,title:null,translate:null,type:null,typeMustMatch:R,useMap:null,value:j,width:D,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:M,axis:null,background:null,bgColor:null,border:D,borderColor:null,bottomMargin:D,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:R,declare:R,event:null,face:null,frame:null,frameBorder:null,hSpace:D,leftMargin:D,link:null,longDesc:null,lowSrc:null,marginHeight:D,marginWidth:D,noResize:R,noHref:R,noShade:R,noWrap:R,object:null,profile:null,prompt:null,rev:null,rightMargin:D,rules:null,scheme:null,scrolling:j,standby:null,summary:null,text:null,topMargin:D,valueType:null,version:null,vAlign:null,vLink:null,vSpace:D,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:R,disableRemotePlayback:R,prefix:null,property:null,results:D,security:null,unselectable:null},space:"html",transform:G}),W=U({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Z,accentHeight:D,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:D,amplitude:D,arabicForm:null,ascent:D,attributeName:null,attributeType:null,azimuth:D,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:D,by:null,calcMode:null,capHeight:D,className:M,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:D,diffuseConstant:D,direction:null,display:null,dur:null,divisor:D,dominantBaseline:null,download:R,dx:null,dy:null,edgeMode:null,editable:null,elevation:D,enableBackground:null,end:null,event:null,exponent:D,externalResourcesRequired:null,fill:null,fillOpacity:D,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:F,g2:F,glyphName:F,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:D,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:D,horizOriginX:D,horizOriginY:D,id:null,ideographic:D,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:D,k:D,k1:D,k2:D,k3:D,k4:D,kernelMatrix:Z,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:D,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:D,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:D,overlineThickness:D,paintOrder:null,panose1:null,path:null,pathLength:D,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:M,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:D,pointsAtY:D,pointsAtZ:D,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Z,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Z,rev:Z,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Z,requiredFeatures:Z,requiredFonts:Z,requiredFormats:Z,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:D,specularExponent:D,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:D,strikethroughThickness:D,string:null,stroke:null,strokeDashArray:Z,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:D,strokeOpacity:D,strokeWidth:null,style:null,surfaceScale:D,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Z,tabIndex:D,tableValues:null,target:null,targetX:D,targetY:D,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Z,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:D,underlineThickness:D,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:D,values:null,vAlphabetic:D,vMathematical:D,vectorEffect:null,vHanging:D,vIdeographic:D,version:null,vertAdvY:D,vertOriginX:D,vertOriginY:D,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:D,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:V}),J=U({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),Y=U({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:G}),K=U({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),Q=I([B,H,J,Y,K],"html"),X=I([B,W,J,Y,K],"svg"),ee=/[A-Z]/g,et=/-[a-z]/g,er=/^data[-\w.:]+$/i;function en(e){return"-"+e.toLowerCase()}function ei(e){return e.charAt(1).toUpperCase()}let ea={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var es=r(8739);let eo=eu("end"),el=eu("start");function eu(e){return function(t){let r=t&&t.position&&t.position[e]||{};if("number"==typeof r.line&&r.line>0&&"number"==typeof r.column&&r.column>0)return{line:r.line,column:r.column,offset:"number"==typeof r.offset&&r.offset>-1?r.offset:void 0}}}function ec(e){return e&&"object"==typeof e?"position"in e||"type"in e?ep(e.position):"start"in e||"end"in e?ep(e):"line"in e||"column"in e?ed(e):"":""}function ed(e){return eh(e&&e.line)+":"+eh(e&&e.column)}function ep(e){return ed(e&&e.start)+"-"+ed(e&&e.end)}function eh(e){return e&&"number"==typeof e?e:1}class ef extends Error{constructor(e,t,r){super(),"string"==typeof t&&(r=t,t=void 0);let n="",i={},a=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?n=e:!i.cause&&e&&(a=!0,n=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"==typeof r){let e=r.indexOf(":");-1===e?i.ruleId=r:(i.source=r.slice(0,e),i.ruleId=r.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){let e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}let s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=n,this.line=s?s.line:void 0,this.name=ec(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&"string"==typeof i.cause.stack?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}ef.prototype.file="",ef.prototype.name="",ef.prototype.reason="",ef.prototype.message="",ef.prototype.stack="",ef.prototype.column=void 0,ef.prototype.line=void 0,ef.prototype.ancestors=void 0,ef.prototype.cause=void 0,ef.prototype.fatal=void 0,ef.prototype.place=void 0,ef.prototype.ruleId=void 0,ef.prototype.source=void 0;let em={}.hasOwnProperty,eg=new Map,ey=/[A-Z]/g,e_=new Set(["table","tbody","thead","tfoot","tr"]),ev=new Set(["td","th"]),eb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ex(e,t,r){var n;return"element"===t.type?function(e,t,r){let n=e.schema,i=n;"svg"===t.tagName.toLowerCase()&&"html"===n.space&&(e.schema=X),e.ancestors.push(t);let a=eC(e,t.tagName,!1),s=function(e,t){let r,n,i={};for(n in t.properties)if("children"!==n&&em.call(t.properties,n)){let a=function(e,t,r){let n=function(e,t){let r=O(t),n=t,i=N;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&"data"===r.slice(0,4)&&er.test(t)){if("-"===t.charAt(4)){let e=t.slice(5).replace(et,ei);n="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{let e=t.slice(4);if(!et.test(e)){let r=e.replace(ee,en);"-"!==r.charAt(0)&&(r="-"+r),t="data"+r}}i=q}return new i(n,t)}(e.schema,t);if(!(null==r||"number"==typeof r&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?function(e,t){let r={};return(""===e[e.length-1]?[...e,""]:e).join((r.padRight?" ":"")+","+(!1===r.padLeft?"":" ")).trim()}(r):r.join(" ").trim()),"style"===n.property){let t="object"==typeof r?r:function(e,t){try{return es(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};let t=new ef("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw t.file=e.filePath||void 0,t.url=eb+"#cannot-parse-style-attribute",t}}(e,String(r));return"css"===e.stylePropertyNameCase&&(t=function(e){let t,r={};for(t in e)em.call(e,t)&&(r[function(e){let t=e.replace(ey,eE);return"ms-"===t.slice(0,3)&&(t="-"+t),t}(t)]=e[t]);return r}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&n.space?ea[n.property]||n.property:n.attribute,r]}}(e,n,t.properties[n]);if(a){let[n,s]=a;e.tableCellAlignToStyle&&"align"===n&&"string"==typeof s&&ev.has(t.tagName)?r=s:i[n]=s}}return r&&((i.style||(i.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r),i}(e,t),o=eS(e,t);return e_.has(t.tagName)&&(o=o.filter(function(e){return"string"!=typeof e||!("object"==typeof e?"text"===e.type&&E(e.value):E(e))})),ew(e,s,a,t),ek(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}(e,t,r):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){let r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}eT(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,r){let n=e.schema,i=n;"svg"===t.name&&"html"===n.space&&(e.schema=X),e.ancestors.push(t);let a=null===t.name?e.Fragment:eC(e,t.name,!0),s=function(e,t){let r={};for(let n of t.attributes)if("mdxJsxExpressionAttribute"===n.type)if(n.data&&n.data.estree&&e.evaluater){let t=n.data.estree.body[0];t.type;let i=t.expression;i.type;let a=i.properties[0];a.type,Object.assign(r,e.evaluater.evaluateExpression(a.argument))}else eT(e,t.position);else{let i,a=n.name;if(n.value&&"object"==typeof n.value)if(n.value.data&&n.value.data.estree&&e.evaluater){let t=n.value.data.estree.body[0];t.type,i=e.evaluater.evaluateExpression(t.expression)}else eT(e,t.position);else i=null===n.value||n.value;r[a]=i}return r}(e,t),o=eS(e,t);return ew(e,s,a,t),ek(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}(e,t,r):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);eT(e,t.position)}(e,t):"root"===t.type?function(e,t,r){let n={};return ek(n,eS(e,t)),e.create(t,e.Fragment,n,r)}(e,t,r):"text"===t.type?(n=0,t.value):void 0}function ew(e,t,r,n){"string"!=typeof r&&r!==e.Fragment&&e.passNode&&(t.node=n)}function ek(e,t){if(t.length>0){let r=t.length>1?t:t[0];r&&(e.children=r)}}function eS(e,t){let r=[],n=-1,i=e.passKeys?new Map:eg;for(;++n<t.children.length;){let a,s=t.children[n];if(e.passKeys){let e="element"===s.type?s.tagName:"mdxJsxFlowElement"===s.type||"mdxJsxTextElement"===s.type?s.name:void 0;if(e){let t=i.get(e)||0;a=e+"-"+t,i.set(e,t+1)}}let o=ex(e,s,a);void 0!==o&&r.push(o)}return r}function eC(e,t,r){let n;if(r)if(t.includes(".")){let e,r=t.split("."),i=-1;for(;++i<r.length;){let t=C(r[i])?{type:"Identifier",name:r[i]}:{type:"Literal",value:r[i]};e=e?{type:"MemberExpression",object:e,property:t,computed:!!(i&&"Literal"===t.type),optional:!1}:t}n=e}else n=C(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else n={type:"Literal",value:t};if("Literal"===n.type){let t=n.value;return em.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(n);eT(e)}function eT(e,t){let r=new ef("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=eb+"#cannot-handle-mdx-estrees-without-createevaluater",r}function eE(e){return"-"+e.toLowerCase()}let eA={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},eI={};function eO(e,t,r){var n;if((n=e)&&"object"==typeof n){if("value"in e)return"html"!==e.type||r?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return eN(e.children,t,r)}return Array.isArray(e)?eN(e,t,r):""}function eN(e,t,r){let n=[],i=-1;for(;++i<e.length;)n[i]=eO(e[i],t,r);return n.join("")}function eP(e,t,r,n){let i,a=e.length,s=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,r=r>0?r:0,n.length<1e4)(i=Array.from(n)).unshift(t,r),e.splice(...i);else for(r&&e.splice(t,r);s<n.length;)(i=n.slice(s,s+1e4)).unshift(t,0),e.splice(...i),s+=1e4,t+=1e4}function eR(e,t){return e.length>0?(eP(e,e.length,0,t),e):t}class ej{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){let r=null==t?Number.POSITIVE_INFINITY:t;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){this.setCursor(Math.trunc(e));let n=this.right.splice(this.right.length-(t||0),Number.POSITIVE_INFINITY);return r&&eL(this.left,r),n.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),eL(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),eL(this.right,e.reverse())}setCursor(e){if(e!==this.left.length&&(!(e>this.left.length)||0!==this.right.length)&&(!(e<0)||0!==this.left.length))if(e<this.left.length){let t=this.left.splice(e,Number.POSITIVE_INFINITY);eL(this.right,t.reverse())}else{let t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);eL(this.left,t.reverse())}}}function eL(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function eD(e){let t,r,n,i,a,s,o,l={},u=-1,c=new ej(e);for(;++u<c.length;){for(;u in l;)u=l[u];if(t=c.get(u),u&&"chunkFlow"===t[1].type&&"listItemPrefix"===c.get(u-1)[1].type&&((n=0)<(s=t[1]._tokenizer.events).length&&"lineEndingBlank"===s[n][1].type&&(n+=2),n<s.length&&"content"===s[n][1].type))for(;++n<s.length&&"content"!==s[n][1].type;)"chunkText"===s[n][1].type&&(s[n][1]._isInFirstContentOfListItem=!0,n++);if("enter"===t[0])t[1].contentType&&(Object.assign(l,function(e,t){let r,n,i=e.get(t)[1],a=e.get(t)[2],s=t-1,o=[],l=i._tokenizer;!l&&(l=a.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let u=l.events,c=[],d={},p=-1,h=i,f=0,m=0,g=[0];for(;h;){for(;e.get(++s)[1]!==h;);o.push(s),!h._tokenizer&&(r=a.sliceStream(h),h.next||r.push(null),n&&l.defineSkip(h.start),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(r),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),n=h,h=h.next}for(h=i;++p<u.length;)"exit"===u[p][0]&&"enter"===u[p-1][0]&&u[p][1].type===u[p-1][1].type&&u[p][1].start.line!==u[p][1].end.line&&(m=p+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(l.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),p=g.length;p--;){let t=u.slice(g[p],g[p+1]),r=o.pop();c.push([r,r+t.length-1]),e.splice(r,2,t)}for(c.reverse(),p=-1;++p<c.length;)d[f+c[p][0]]=f+c[p][1],f+=c[p][1]-c[p][0]-1;return d}(c,u)),u=l[u],o=!0);else if(t[1]._container){for(n=u,r=void 0;n--;)if("lineEnding"===(i=c.get(n))[1].type||"lineEndingBlank"===i[1].type)"enter"===i[0]&&(r&&(c.get(r)[1].type="lineEndingBlank"),i[1].type="lineEnding",r=n);else if("linePrefix"===i[1].type||"listItemIndent"===i[1].type);else break;r&&(t[1].end={...c.get(r)[1].start},(a=c.slice(r,u)).unshift(t),c.splice(r,u-r+1,a))}}return eP(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!o}let eM={}.hasOwnProperty,eF=eY(/[A-Za-z]/),eZ=eY(/[\dA-Za-z]/),ez=eY(/[#-'*+\--9=?A-Z^-~]/);function e$(e){return null!==e&&(e<32||127===e)}let eq=eY(/\d/),eU=eY(/[\dA-Fa-f]/),eB=eY(/[!-/:-@[-`{-~]/);function eV(e){return null!==e&&e<-2}function eG(e){return null!==e&&(e<0||32===e)}function eH(e){return -2===e||-1===e||32===e}let eW=eY(/\p{P}|\p{S}/u),eJ=eY(/\s/);function eY(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function eK(e,t,r,n){let i=n?n-1:Number.POSITIVE_INFINITY,a=0;return function(n){return eH(n)?(e.enter(r),function n(s){return eH(s)&&a++<i?(e.consume(s),n):(e.exit(r),t(s))}(n)):t(n)}}let eQ={tokenize:function(e){let t,r=e.attempt(this.parser.constructs.contentInitial,function(t){return null===t?void e.consume(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),eK(e,r,"linePrefix"))},function(r){return e.enter("paragraph"),function r(n){let i=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=i),t=i,function t(n){if(null===n){e.exit("chunkText"),e.exit("paragraph"),e.consume(n);return}return eV(n)?(e.consume(n),e.exit("chunkText"),r):(e.consume(n),t)}(n)}(r)});return r}},eX={tokenize:function(e){let t,r,n,i=this,a=[],s=0;return o;function o(t){if(s<a.length){let r=a[s];return i.containerState=r[1],e.attempt(r[0].continuation,l,u)(t)}return u(t)}function l(e){if(s++,i.containerState._closeFlow){let r;i.containerState._closeFlow=void 0,t&&y();let n=i.events.length,a=n;for(;a--;)if("exit"===i.events[a][0]&&"chunkFlow"===i.events[a][1].type){r=i.events[a][1].end;break}g(s);let o=n;for(;o<i.events.length;)i.events[o][1].end={...r},o++;return eP(i.events,a+1,0,i.events.slice(n)),i.events.length=o,u(e)}return o(e)}function u(r){if(s===a.length){if(!t)return p(r);if(t.currentConstruct&&t.currentConstruct.concrete)return f(r);i.interrupt=!!(t.currentConstruct&&!t._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(e0,c,d)(r)}function c(e){return t&&y(),g(s),p(e)}function d(e){return i.parser.lazy[i.now().line]=s!==a.length,n=i.now().offset,f(e)}function p(t){return i.containerState={},e.attempt(e0,h,f)(t)}function h(e){return s++,a.push([i.currentConstruct,i.containerState]),p(e)}function f(n){if(null===n){t&&y(),g(0),e.consume(n);return}return t=t||i.parser.flow(i.now()),e.enter("chunkFlow",{_tokenizer:t,contentType:"flow",previous:r}),function t(r){if(null===r){m(e.exit("chunkFlow"),!0),g(0),e.consume(r);return}return eV(r)?(e.consume(r),m(e.exit("chunkFlow")),s=0,i.interrupt=void 0,o):(e.consume(r),t)}(n)}function m(e,a){let o=i.sliceStream(e);if(a&&o.push(null),e.previous=r,r&&(r.next=e),r=e,t.defineSkip(e.start),t.write(o),i.parser.lazy[e.start.line]){let e,r,a=t.events.length;for(;a--;)if(t.events[a][1].start.offset<n&&(!t.events[a][1].end||t.events[a][1].end.offset>n))return;let o=i.events.length,l=o;for(;l--;)if("exit"===i.events[l][0]&&"chunkFlow"===i.events[l][1].type){if(e){r=i.events[l][1].end;break}e=!0}for(g(s),a=o;a<i.events.length;)i.events[a][1].end={...r},a++;eP(i.events,l+1,0,i.events.slice(o)),i.events.length=a}}function g(t){let r=a.length;for(;r-- >t;){let t=a[r];i.containerState=t[1],t[0].exit.call(i,e)}a.length=t}function y(){t.write([null]),r=void 0,t=void 0,i.containerState._closeFlow=void 0}}},e0={tokenize:function(e,t,r){return eK(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},e1={partial:!0,tokenize:function(e,t,r){return function(t){return eH(t)?eK(e,n,"linePrefix")(t):n(t)};function n(e){return null===e||eV(e)?t(e):r(e)}}},e2={resolve:function(e){return eD(e),e},tokenize:function(e,t){let r;return function(t){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),n(t)};function n(t){return null===t?i(t):eV(t)?e.check(e4,a,i)(t):(e.consume(t),n)}function i(r){return e.exit("chunkContent"),e.exit("content"),t(r)}function a(t){return e.consume(t),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,n}}},e4={partial:!0,tokenize:function(e,t,r){let n=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),eK(e,i,"linePrefix")};function i(i){if(null===i||eV(i))return r(i);let a=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(n.parser.constructs.flow,r,t)(i)}}},e9={tokenize:function(e){let t=this,r=e.attempt(e1,function(n){return null===n?void e.consume(n):(e.enter("lineEndingBlank"),e.consume(n),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r)},e.attempt(this.parser.constructs.flowInitial,n,eK(e,e.attempt(this.parser.constructs.flow,n,e.attempt(e2,n)),"linePrefix")));return r;function n(n){return null===n?void e.consume(n):(e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),t.currentConstruct=void 0,r)}}},e5={resolveAll:e8()},e3=e7("string"),e6=e7("text");function e7(e){return{resolveAll:e8("text"===e?te:void 0),tokenize:function(t){let r=this,n=this.parser.constructs[e],i=t.attempt(n,a,s);return a;function a(e){return l(e)?i(e):s(e)}function s(e){return null===e?void t.consume(e):(t.enter("data"),t.consume(e),o)}function o(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;let t=n[e],i=-1;if(t)for(;++i<t.length;){let e=t[i];if(!e.previous||e.previous.call(r,r.previous))return!0}return!1}}}}function e8(e){return function(t,r){let n,i=-1;for(;++i<=t.length;)void 0===n?t[i]&&"data"===t[i][1].type&&(n=i,i++):t[i]&&"data"===t[i][1].type||(i!==n+2&&(t[n][1].end=t[i-1][1].end,t.splice(n+2,i-n-2),i=n+2),n=void 0);return e?e(t,r):t}}function te(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||"lineEnding"===e[r][1].type)&&"data"===e[r-1][1].type){let n,i=e[r-1][1],a=t.sliceStream(i),s=a.length,o=-1,l=0;for(;s--;){let e=a[s];if("string"==typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)n=!0,l++;else if(-1===e);else{s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(l=0),l){let a={type:r===e.length||n||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-l,offset:i.end.offset-l},end:{...i.end}};i.end={...a.start},i.start.offset===i.end.offset?Object.assign(i,a):(e.splice(r,0,["enter",a,t],["exit",a,t]),r+=2)}r++}return e}let tt={name:"thematicBreak",tokenize:function(e,t,r){let n,i=0;return function(a){var s;return e.enter("thematicBreak"),n=s=a,function a(s){return s===n?(e.enter("thematicBreakSequence"),function t(r){return r===n?(e.consume(r),i++,t):(e.exit("thematicBreakSequence"),eH(r)?eK(e,a,"whitespace")(r):a(r))}(s)):i>=3&&(null===s||eV(s))?(e.exit("thematicBreak"),t(s)):r(s)}(s)}}},tr={continuation:{tokenize:function(e,t,r){let n=this;return n.containerState._closeFlow=void 0,e.check(e1,function(r){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,eK(e,t,"listItemIndent",n.containerState.size+1)(r)},function(r){return n.containerState.furtherBlankLines||!eH(r)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,i(r)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(ti,t,i)(r))});function i(i){return n.containerState._closeFlow=!0,n.interrupt=void 0,eK(e,e.attempt(tr,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,r){let n=this,i=n.events[n.events.length-1],a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,s=0;return function(t){let i=n.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!n.containerState.marker||t===n.containerState.marker:eq(t)){if(n.containerState.type||(n.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(tt,r,o)(t):o(t);if(!n.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),function t(i){return eq(i)&&++s<10?(e.consume(i),t):(!n.interrupt||s<2)&&(n.containerState.marker?i===n.containerState.marker:41===i||46===i)?(e.exit("listItemValue"),o(i)):r(i)}(t)}return r(t)};function o(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||t,e.check(e1,n.interrupt?r:l,e.attempt(tn,c,u))}function l(e){return n.containerState.initialBlankLine=!0,a++,c(e)}function u(t){return eH(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),c):r(t)}function c(r){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(r)}}},tn={partial:!0,tokenize:function(e,t,r){let n=this;return eK(e,function(e){let i=n.events[n.events.length-1];return!eH(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):r(e)},"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},ti={partial:!0,tokenize:function(e,t,r){let n=this;return eK(e,function(e){let i=n.events[n.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===n.containerState.size?t(e):r(e)},"listItemIndent",n.containerState.size+1)}},ta={continuation:{tokenize:function(e,t,r){let n=this;return function(t){return eH(t)?eK(e,i,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):i(t)};function i(n){return e.attempt(ta,t,r)(n)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,r){let n=this;return function(t){if(62===t){let r=n.containerState;return r.open||(e.enter("blockQuote",{_container:!0}),r.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return r(t)};function i(r){return eH(r)?(e.enter("blockQuotePrefixWhitespace"),e.consume(r),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(r))}}};function ts(e,t,r,n,i,a,s,o,l){let u=l||Number.POSITIVE_INFINITY,c=0;return function(t){return 60===t?(e.enter(n),e.enter(i),e.enter(a),e.consume(t),e.exit(a),d):null===t||32===t||41===t||e$(t)?r(t):(e.enter(n),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),f(t))};function d(r){return 62===r?(e.enter(a),e.consume(r),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(r))}function p(t){return 62===t?(e.exit("chunkString"),e.exit(o),d(t)):null===t||60===t||eV(t)?r(t):(e.consume(t),92===t?h:p)}function h(t){return 60===t||62===t||92===t?(e.consume(t),p):p(t)}function f(i){return!c&&(null===i||41===i||eG(i))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(n),t(i)):c<u&&40===i?(e.consume(i),c++,f):41===i?(e.consume(i),c--,f):null===i||32===i||40===i||e$(i)?r(i):(e.consume(i),92===i?m:f)}function m(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function to(e,t,r,n,i,a){let s,o=this,l=0;return function(t){return e.enter(n),e.enter(i),e.consume(t),e.exit(i),e.enter(a),u};function u(d){return l>999||null===d||91===d||93===d&&!s||94===d&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?r(d):93===d?(e.exit(a),e.enter(i),e.consume(d),e.exit(i),e.exit(n),t):eV(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||eV(t)||l++>999?(e.exit("chunkString"),u(t)):(e.consume(t),s||(s=!eH(t)),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}}function tl(e,t,r,n,i,a){let s;return function(t){return 34===t||39===t||40===t?(e.enter(n),e.enter(i),e.consume(t),e.exit(i),s=40===t?41:t,o):r(t)};function o(r){return r===s?(e.enter(i),e.consume(r),e.exit(i),e.exit(n),t):(e.enter(a),l(r))}function l(t){return t===s?(e.exit(a),o(s)):null===t?r(t):eV(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),eK(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(t))}function u(t){return t===s||null===t||eV(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?c:u)}function c(t){return t===s||92===t?(e.consume(t),u):u(t)}}function tu(e,t){let r;return function n(i){return eV(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):eH(i)?eK(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}function tc(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let td={partial:!0,tokenize:function(e,t,r){return function(t){return eG(t)?tu(e,n)(t):r(t)};function n(t){return tl(e,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return eH(t)?eK(e,a,"whitespace")(t):a(t)}function a(e){return null===e||eV(e)?t(e):r(e)}}},tp={name:"codeIndented",tokenize:function(e,t,r){let n=this;return function(t){return e.enter("codeIndented"),eK(e,i,"linePrefix",5)(t)};function i(t){let i=n.events[n.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?function t(r){return null===r?a(r):eV(r)?e.attempt(th,t,a)(r):(e.enter("codeFlowValue"),function r(n){return null===n||eV(n)?(e.exit("codeFlowValue"),t(n)):(e.consume(n),r)}(r))}(t):r(t)}function a(r){return e.exit("codeIndented"),t(r)}}},th={partial:!0,tokenize:function(e,t,r){let n=this;return i;function i(t){return n.parser.lazy[n.now().line]?r(t):eV(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):eK(e,a,"linePrefix",5)(t)}function a(e){let a=n.events[n.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):eV(e)?i(e):r(e)}}},tf={name:"setextUnderline",resolveTo:function(e,t){let r,n,i,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){r=a;break}"paragraph"===e[a][1].type&&(n=a)}else"content"===e[a][1].type&&e.splice(a,1),i||"definition"!==e[a][1].type||(i=a);let s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[n][1].type="setextHeadingText",i?(e.splice(n,0,["enter",s,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=s,e.push(["exit",s,t]),e},tokenize:function(e,t,r){let n,i=this;return function(t){var s;let o,l=i.events.length;for(;l--;)if("lineEnding"!==i.events[l][1].type&&"linePrefix"!==i.events[l][1].type&&"content"!==i.events[l][1].type){o="paragraph"===i.events[l][1].type;break}return!i.parser.lazy[i.now().line]&&(i.interrupt||o)?(e.enter("setextHeadingLine"),n=t,s=t,e.enter("setextHeadingLineSequence"),function t(r){return r===n?(e.consume(r),t):(e.exit("setextHeadingLineSequence"),eH(r)?eK(e,a,"lineSuffix")(r):a(r))}(s)):r(t)};function a(n){return null===n||eV(n)?(e.exit("setextHeadingLine"),t(n)):r(n)}}},tm=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],tg=["pre","script","style","textarea"],ty={partial:!0,tokenize:function(e,t,r){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),e.attempt(e1,t,r)}}},t_={partial:!0,tokenize:function(e,t,r){let n=this;return function(t){return eV(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):r(t)};function i(e){return n.parser.lazy[n.now().line]?r(e):t(e)}}},tv={partial:!0,tokenize:function(e,t,r){let n=this;return function(t){return null===t?r(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i)};function i(e){return n.parser.lazy[n.now().line]?r(e):t(e)}}},tb={concrete:!0,name:"codeFenced",tokenize:function(e,t,r){let n,i=this,a={partial:!0,tokenize:function(e,t,r){let a=0;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s};function s(t){return e.enter("codeFencedFence"),eH(t)?eK(e,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):l(t)}function l(t){return t===n?(e.enter("codeFencedFenceSequence"),function t(i){return i===n?(a++,e.consume(i),t):a>=o?(e.exit("codeFencedFenceSequence"),eH(i)?eK(e,u,"whitespace")(i):u(i)):r(i)}(t)):r(t)}function u(n){return null===n||eV(n)?(e.exit("codeFencedFence"),t(n)):r(n)}}},s=0,o=0;return function(t){var a=t;let u=i.events[i.events.length-1];return s=u&&"linePrefix"===u[1].type?u[2].sliceSerialize(u[1],!0).length:0,n=a,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),function t(i){return i===n?(o++,e.consume(i),t):o<3?r(i):(e.exit("codeFencedFenceSequence"),eH(i)?eK(e,l,"whitespace")(i):l(i))}(a)};function l(a){return null===a||eV(a)?(e.exit("codeFencedFence"),i.interrupt?t(a):e.check(tv,c,f)(a)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),function t(i){return null===i||eV(i)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),l(i)):eH(i)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),eK(e,u,"whitespace")(i)):96===i&&i===n?r(i):(e.consume(i),t)}(a))}function u(t){return null===t||eV(t)?l(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),function t(i){return null===i||eV(i)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),l(i)):96===i&&i===n?r(i):(e.consume(i),t)}(t))}function c(t){return e.attempt(a,f,d)(t)}function d(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),p}function p(t){return s>0&&eH(t)?eK(e,h,"linePrefix",s+1)(t):h(t)}function h(t){return null===t||eV(t)?e.check(tv,c,f)(t):(e.enter("codeFlowValue"),function t(r){return null===r||eV(r)?(e.exit("codeFlowValue"),h(r)):(e.consume(r),t)}(t))}function f(r){return e.exit("codeFenced"),t(r)}}},tx={AElig:"\xc6",AMP:"&",Aacute:"\xc1",Abreve:"Ă",Acirc:"\xc2",Acy:"А",Afr:"\uD835\uDD04",Agrave:"\xc0",Alpha:"Α",Amacr:"Ā",And:"⩓",Aogon:"Ą",Aopf:"\uD835\uDD38",ApplyFunction:"⁡",Aring:"\xc5",Ascr:"\uD835\uDC9C",Assign:"≔",Atilde:"\xc3",Auml:"\xc4",Backslash:"∖",Barv:"⫧",Barwed:"⌆",Bcy:"Б",Because:"∵",Bernoullis:"ℬ",Beta:"Β",Bfr:"\uD835\uDD05",Bopf:"\uD835\uDD39",Breve:"˘",Bscr:"ℬ",Bumpeq:"≎",CHcy:"Ч",COPY:"\xa9",Cacute:"Ć",Cap:"⋒",CapitalDifferentialD:"ⅅ",Cayleys:"ℭ",Ccaron:"Č",Ccedil:"\xc7",Ccirc:"Ĉ",Cconint:"∰",Cdot:"Ċ",Cedilla:"\xb8",CenterDot:"\xb7",Cfr:"ℭ",Chi:"Χ",CircleDot:"⊙",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",Colon:"∷",Colone:"⩴",Congruent:"≡",Conint:"∯",ContourIntegral:"∮",Copf:"ℂ",Coproduct:"∐",CounterClockwiseContourIntegral:"∳",Cross:"⨯",Cscr:"\uD835\uDC9E",Cup:"⋓",CupCap:"≍",DD:"ⅅ",DDotrahd:"⤑",DJcy:"Ђ",DScy:"Ѕ",DZcy:"Џ",Dagger:"‡",Darr:"↡",Dashv:"⫤",Dcaron:"Ď",Dcy:"Д",Del:"∇",Delta:"Δ",Dfr:"\uD835\uDD07",DiacriticalAcute:"\xb4",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",Diamond:"⋄",DifferentialD:"ⅆ",Dopf:"\uD835\uDD3B",Dot:"\xa8",DotDot:"⃜",DotEqual:"≐",DoubleContourIntegral:"∯",DoubleDot:"\xa8",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",Downarrow:"⇓",Dscr:"\uD835\uDC9F",Dstrok:"Đ",ENG:"Ŋ",ETH:"\xd0",Eacute:"\xc9",Ecaron:"Ě",Ecirc:"\xca",Ecy:"Э",Edot:"Ė",Efr:"\uD835\uDD08",Egrave:"\xc8",Element:"∈",Emacr:"Ē",EmptySmallSquare:"◻",EmptyVerySmallSquare:"▫",Eogon:"Ę",Eopf:"\uD835\uDD3C",Epsilon:"Ε",Equal:"⩵",EqualTilde:"≂",Equilibrium:"⇌",Escr:"ℰ",Esim:"⩳",Eta:"Η",Euml:"\xcb",Exists:"∃",ExponentialE:"ⅇ",Fcy:"Ф",Ffr:"\uD835\uDD09",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",Fopf:"\uD835\uDD3D",ForAll:"∀",Fouriertrf:"ℱ",Fscr:"ℱ",GJcy:"Ѓ",GT:">",Gamma:"Γ",Gammad:"Ϝ",Gbreve:"Ğ",Gcedil:"Ģ",Gcirc:"Ĝ",Gcy:"Г",Gdot:"Ġ",Gfr:"\uD835\uDD0A",Gg:"⋙",Gopf:"\uD835\uDD3E",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"\uD835\uDCA2",Gt:"≫",HARDcy:"Ъ",Hacek:"ˇ",Hat:"^",Hcirc:"Ĥ",Hfr:"ℌ",HilbertSpace:"ℋ",Hopf:"ℍ",HorizontalLine:"─",Hscr:"ℋ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",IEcy:"Е",IJlig:"Ĳ",IOcy:"Ё",Iacute:"\xcd",Icirc:"\xce",Icy:"И",Idot:"İ",Ifr:"ℑ",Igrave:"\xcc",Im:"ℑ",Imacr:"Ī",ImaginaryI:"ⅈ",Implies:"⇒",Int:"∬",Integral:"∫",Intersection:"⋂",InvisibleComma:"⁣",InvisibleTimes:"⁢",Iogon:"Į",Iopf:"\uD835\uDD40",Iota:"Ι",Iscr:"ℐ",Itilde:"Ĩ",Iukcy:"І",Iuml:"\xcf",Jcirc:"Ĵ",Jcy:"Й",Jfr:"\uD835\uDD0D",Jopf:"\uD835\uDD41",Jscr:"\uD835\uDCA5",Jsercy:"Ј",Jukcy:"Є",KHcy:"Х",KJcy:"Ќ",Kappa:"Κ",Kcedil:"Ķ",Kcy:"К",Kfr:"\uD835\uDD0E",Kopf:"\uD835\uDD42",Kscr:"\uD835\uDCA6",LJcy:"Љ",LT:"<",Lacute:"Ĺ",Lambda:"Λ",Lang:"⟪",Laplacetrf:"ℒ",Larr:"↞",Lcaron:"Ľ",Lcedil:"Ļ",Lcy:"Л",LeftAngleBracket:"⟨",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",LeftRightArrow:"↔",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",Leftarrow:"⇐",Leftrightarrow:"⇔",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",LessLess:"⪡",LessSlantEqual:"⩽",LessTilde:"≲",Lfr:"\uD835\uDD0F",Ll:"⋘",Lleftarrow:"⇚",Lmidot:"Ŀ",LongLeftArrow:"⟵",LongLeftRightArrow:"⟷",LongRightArrow:"⟶",Longleftarrow:"⟸",Longleftrightarrow:"⟺",Longrightarrow:"⟹",Lopf:"\uD835\uDD43",LowerLeftArrow:"↙",LowerRightArrow:"↘",Lscr:"ℒ",Lsh:"↰",Lstrok:"Ł",Lt:"≪",Map:"⤅",Mcy:"М",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"\uD835\uDD10",MinusPlus:"∓",Mopf:"\uD835\uDD44",Mscr:"ℳ",Mu:"Μ",NJcy:"Њ",Nacute:"Ń",Ncaron:"Ň",Ncedil:"Ņ",Ncy:"Н",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",Nfr:"\uD835\uDD11",NoBreak:"⁠",NonBreakingSpace:"\xa0",Nopf:"ℕ",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",Nscr:"\uD835\uDCA9",Ntilde:"\xd1",Nu:"Ν",OElig:"Œ",Oacute:"\xd3",Ocirc:"\xd4",Ocy:"О",Odblac:"Ő",Ofr:"\uD835\uDD12",Ograve:"\xd2",Omacr:"Ō",Omega:"Ω",Omicron:"Ο",Oopf:"\uD835\uDD46",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",Or:"⩔",Oscr:"\uD835\uDCAA",Oslash:"\xd8",Otilde:"\xd5",Otimes:"⨷",Ouml:"\xd6",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",PartialD:"∂",Pcy:"П",Pfr:"\uD835\uDD13",Phi:"Φ",Pi:"Π",PlusMinus:"\xb1",Poincareplane:"ℌ",Popf:"ℙ",Pr:"⪻",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",Prime:"″",Product:"∏",Proportion:"∷",Proportional:"∝",Pscr:"\uD835\uDCAB",Psi:"Ψ",QUOT:'"',Qfr:"\uD835\uDD14",Qopf:"ℚ",Qscr:"\uD835\uDCAC",RBarr:"⤐",REG:"\xae",Racute:"Ŕ",Rang:"⟫",Rarr:"↠",Rarrtl:"⤖",Rcaron:"Ř",Rcedil:"Ŗ",Rcy:"Р",Re:"ℜ",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",Rfr:"ℜ",Rho:"Ρ",RightAngleBracket:"⟩",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",Rightarrow:"⇒",Ropf:"ℝ",RoundImplies:"⥰",Rrightarrow:"⇛",Rscr:"ℛ",Rsh:"↱",RuleDelayed:"⧴",SHCHcy:"Щ",SHcy:"Ш",SOFTcy:"Ь",Sacute:"Ś",Sc:"⪼",Scaron:"Š",Scedil:"Ş",Scirc:"Ŝ",Scy:"С",Sfr:"\uD835\uDD16",ShortDownArrow:"↓",ShortLeftArrow:"←",ShortRightArrow:"→",ShortUpArrow:"↑",Sigma:"Σ",SmallCircle:"∘",Sopf:"\uD835\uDD4A",Sqrt:"√",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",Sscr:"\uD835\uDCAE",Star:"⋆",Sub:"⋐",Subset:"⋐",SubsetEqual:"⊆",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",SuchThat:"∋",Sum:"∑",Sup:"⋑",Superset:"⊃",SupersetEqual:"⊇",Supset:"⋑",THORN:"\xde",TRADE:"™",TSHcy:"Ћ",TScy:"Ц",Tab:"	",Tau:"Τ",Tcaron:"Ť",Tcedil:"Ţ",Tcy:"Т",Tfr:"\uD835\uDD17",Therefore:"∴",Theta:"Θ",ThickSpace:"  ",ThinSpace:" ",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",Topf:"\uD835\uDD4B",TripleDot:"⃛",Tscr:"\uD835\uDCAF",Tstrok:"Ŧ",Uacute:"\xda",Uarr:"↟",Uarrocir:"⥉",Ubrcy:"Ў",Ubreve:"Ŭ",Ucirc:"\xdb",Ucy:"У",Udblac:"Ű",Ufr:"\uD835\uDD18",Ugrave:"\xd9",Umacr:"Ū",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",Uopf:"\uD835\uDD4C",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",UpEquilibrium:"⥮",UpTee:"⊥",UpTeeArrow:"↥",Uparrow:"⇑",Updownarrow:"⇕",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",Upsilon:"Υ",Uring:"Ů",Uscr:"\uD835\uDCB0",Utilde:"Ũ",Uuml:"\xdc",VDash:"⊫",Vbar:"⫫",Vcy:"В",Vdash:"⊩",Vdashl:"⫦",Vee:"⋁",Verbar:"‖",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"\uD835\uDD19",Vopf:"\uD835\uDD4D",Vscr:"\uD835\uDCB1",Vvdash:"⊪",Wcirc:"Ŵ",Wedge:"⋀",Wfr:"\uD835\uDD1A",Wopf:"\uD835\uDD4E",Wscr:"\uD835\uDCB2",Xfr:"\uD835\uDD1B",Xi:"Ξ",Xopf:"\uD835\uDD4F",Xscr:"\uD835\uDCB3",YAcy:"Я",YIcy:"Ї",YUcy:"Ю",Yacute:"\xdd",Ycirc:"Ŷ",Ycy:"Ы",Yfr:"\uD835\uDD1C",Yopf:"\uD835\uDD50",Yscr:"\uD835\uDCB4",Yuml:"Ÿ",ZHcy:"Ж",Zacute:"Ź",Zcaron:"Ž",Zcy:"З",Zdot:"Ż",ZeroWidthSpace:"​",Zeta:"Ζ",Zfr:"ℨ",Zopf:"ℤ",Zscr:"\uD835\uDCB5",aacute:"\xe1",abreve:"ă",ac:"∾",acE:"∾̳",acd:"∿",acirc:"\xe2",acute:"\xb4",acy:"а",aelig:"\xe6",af:"⁡",afr:"\uD835\uDD1E",agrave:"\xe0",alefsym:"ℵ",aleph:"ℵ",alpha:"α",amacr:"ā",amalg:"⨿",amp:"&",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"\xc5",angzarr:"⍼",aogon:"ą",aopf:"\uD835\uDD52",ap:"≈",apE:"⩰",apacir:"⩯",ape:"≊",apid:"≋",apos:"'",approx:"≈",approxeq:"≊",aring:"\xe5",ascr:"\uD835\uDCB6",ast:"*",asymp:"≈",asympeq:"≍",atilde:"\xe3",auml:"\xe4",awconint:"∳",awint:"⨑",bNot:"⫭",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",barvee:"⊽",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",beta:"β",beth:"ℶ",between:"≬",bfr:"\uD835\uDD1F",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bopf:"\uD835\uDD53",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxDL:"╗",boxDR:"╔",boxDl:"╖",boxDr:"╓",boxH:"═",boxHD:"╦",boxHU:"╩",boxHd:"╤",boxHu:"╧",boxUL:"╝",boxUR:"╚",boxUl:"╜",boxUr:"╙",boxV:"║",boxVH:"╬",boxVL:"╣",boxVR:"╠",boxVh:"╫",boxVl:"╢",boxVr:"╟",boxbox:"⧉",boxdL:"╕",boxdR:"╒",boxdl:"┐",boxdr:"┌",boxh:"─",boxhD:"╥",boxhU:"╨",boxhd:"┬",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxuL:"╛",boxuR:"╘",boxul:"┘",boxur:"└",boxv:"│",boxvH:"╪",boxvL:"╡",boxvR:"╞",boxvh:"┼",boxvl:"┤",boxvr:"├",bprime:"‵",breve:"˘",brvbar:"\xa6",bscr:"\uD835\uDCB7",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",bumpeq:"≏",cacute:"ć",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",caps:"∩︀",caret:"⁁",caron:"ˇ",ccaps:"⩍",ccaron:"č",ccedil:"\xe7",ccirc:"ĉ",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",cedil:"\xb8",cemptyv:"⦲",cent:"\xa2",centerdot:"\xb7",cfr:"\uD835\uDD20",chcy:"ч",check:"✓",checkmark:"✓",chi:"χ",cir:"○",cirE:"⧃",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledR:"\xae",circledS:"Ⓢ",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",clubs:"♣",clubsuit:"♣",colon:":",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",conint:"∮",copf:"\uD835\uDD54",coprod:"∐",copy:"\xa9",copysr:"℗",crarr:"↵",cross:"✗",cscr:"\uD835\uDCB8",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",cupbrcap:"⩈",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"\xa4",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dArr:"⇓",dHar:"⥥",dagger:"†",daleth:"ℸ",darr:"↓",dash:"‐",dashv:"⊣",dbkarow:"⤏",dblac:"˝",dcaron:"ď",dcy:"д",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",ddotseq:"⩷",deg:"\xb0",delta:"δ",demptyv:"⦱",dfisht:"⥿",dfr:"\uD835\uDD21",dharl:"⇃",dharr:"⇂",diam:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"\xa8",digamma:"ϝ",disin:"⋲",div:"\xf7",divide:"\xf7",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"\uD835\uDD55",dot:"˙",doteq:"≐",doteqdot:"≑",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",downarrow:"↓",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"\uD835\uDCB9",dscy:"ѕ",dsol:"⧶",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",dzigrarr:"⟿",eDDot:"⩷",eDot:"≑",eacute:"\xe9",easter:"⩮",ecaron:"ě",ecir:"≖",ecirc:"\xea",ecolon:"≕",ecy:"э",edot:"ė",ee:"ⅇ",efDot:"≒",efr:"\uD835\uDD22",eg:"⪚",egrave:"\xe8",egs:"⪖",egsdot:"⪘",el:"⪙",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",empty:"∅",emptyset:"∅",emptyv:"∅",emsp13:" ",emsp14:" ",emsp:" ",eng:"ŋ",ensp:" ",eogon:"ę",eopf:"\uD835\uDD56",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",equals:"=",equest:"≟",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erDot:"≓",erarr:"⥱",escr:"ℯ",esdot:"≐",esim:"≂",eta:"η",eth:"\xf0",euml:"\xeb",euro:"€",excl:"!",exist:"∃",expectation:"ℰ",exponentiale:"ⅇ",fallingdotseq:"≒",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"\uD835\uDD23",filig:"ﬁ",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"\uD835\uDD57",forall:"∀",fork:"⋔",forkv:"⫙",fpartint:"⨍",frac12:"\xbd",frac13:"⅓",frac14:"\xbc",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"\xbe",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"\uD835\uDCBB",gE:"≧",gEl:"⪌",gacute:"ǵ",gamma:"γ",gammad:"ϝ",gap:"⪆",gbreve:"ğ",gcirc:"ĝ",gcy:"г",gdot:"ġ",ge:"≥",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"\uD835\uDD24",gg:"≫",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",gl:"≷",glE:"⪒",gla:"⪥",glj:"⪤",gnE:"≩",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"\uD835\uDD58",grave:"`",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",hArr:"⇔",hairsp:" ",half:"\xbd",hamilt:"ℋ",hardcy:"ъ",harr:"↔",harrcir:"⥈",harrw:"↭",hbar:"ℏ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"\uD835\uDD25",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"\uD835\uDD59",horbar:"―",hscr:"\uD835\uDCBD",hslash:"ℏ",hstrok:"ħ",hybull:"⁃",hyphen:"‐",iacute:"\xed",ic:"⁣",icirc:"\xee",icy:"и",iecy:"е",iexcl:"\xa1",iff:"⇔",ifr:"\uD835\uDD26",igrave:"\xec",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",imacr:"ī",image:"ℑ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",intcal:"⊺",integers:"ℤ",intercal:"⊺",intlarhk:"⨗",intprod:"⨼",iocy:"ё",iogon:"į",iopf:"\uD835\uDD5A",iota:"ι",iprod:"⨼",iquest:"\xbf",iscr:"\uD835\uDCBE",isin:"∈",isinE:"⋹",isindot:"⋵",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",iukcy:"і",iuml:"\xef",jcirc:"ĵ",jcy:"й",jfr:"\uD835\uDD27",jmath:"ȷ",jopf:"\uD835\uDD5B",jscr:"\uD835\uDCBF",jsercy:"ј",jukcy:"є",kappa:"κ",kappav:"ϰ",kcedil:"ķ",kcy:"к",kfr:"\uD835\uDD28",kgreen:"ĸ",khcy:"х",kjcy:"ќ",kopf:"\uD835\uDD5C",kscr:"\uD835\uDCC0",lAarr:"⇚",lArr:"⇐",lAtail:"⤛",lBarr:"⤎",lE:"≦",lEg:"⪋",lHar:"⥢",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",laquo:"\xab",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",late:"⪭",lates:"⪭︀",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",lcedil:"ļ",lceil:"⌈",lcub:"{",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",leftarrow:"←",leftarrowtail:"↢",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",leftthreetimes:"⋋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",lessgtr:"≶",lesssim:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"\uD835\uDD29",lg:"≶",lgE:"⪑",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",ll:"≪",llarr:"⇇",llcorner:"⌞",llhard:"⥫",lltri:"◺",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnE:"≨",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",longleftrightarrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"\uD835\uDD5D",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"\uD835\uDCC1",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltrPar:"⦖",ltri:"◃",ltrie:"⊴",ltrif:"◂",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",mDDot:"∺",macr:"\xaf",male:"♂",malt:"✠",maltese:"✠",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",mdash:"—",measuredangle:"∡",mfr:"\uD835\uDD2A",mho:"℧",micro:"\xb5",mid:"∣",midast:"*",midcir:"⫰",middot:"\xb7",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"\uD835\uDD5E",mp:"∓",mscr:"\uD835\uDCC2",mstpos:"∾",mu:"μ",multimap:"⊸",mumap:"⊸",nGg:"⋙̸",nGt:"≫⃒",nGtv:"≫̸",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nLl:"⋘̸",nLt:"≪⃒",nLtv:"≪̸",nRightarrow:"⇏",nVDash:"⊯",nVdash:"⊮",nabla:"∇",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:"\xa0",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",ndash:"–",ne:"≠",neArr:"⇗",nearhk:"⤤",nearr:"↗",nearrow:"↗",nedot:"≐̸",nequiv:"≢",nesear:"⤨",nesim:"≂̸",nexist:"∄",nexists:"∄",nfr:"\uD835\uDD2B",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",ngsim:"≵",ngt:"≯",ngtr:"≯",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",nlArr:"⇍",nlE:"≦̸",nlarr:"↚",nldr:"‥",nle:"≰",nleftarrow:"↚",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nlsim:"≴",nlt:"≮",nltri:"⋪",nltrie:"⋬",nmid:"∤",nopf:"\uD835\uDD5F",not:"\xac",notin:"∉",notinE:"⋹̸",notindot:"⋵̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"\uD835\uDCC3",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"\xf1",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",oS:"Ⓢ",oacute:"\xf3",oast:"⊛",ocir:"⊚",ocirc:"\xf4",ocy:"о",odash:"⊝",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"\uD835\uDD2C",ogon:"˛",ograve:"\xf2",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",ominus:"⊖",oopf:"\uD835\uDD60",opar:"⦷",operp:"⦹",oplus:"⊕",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"\xaa",ordm:"\xba",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oscr:"ℴ",oslash:"\xf8",osol:"⊘",otilde:"\xf5",otimes:"⊗",otimesas:"⨶",ouml:"\xf6",ovbar:"⌽",par:"∥",para:"\xb6",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"\uD835\uDD2D",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",plusmn:"\xb1",plussim:"⨦",plustwo:"⨧",pm:"\xb1",pointint:"⨕",popf:"\uD835\uDD61",pound:"\xa3",pr:"≺",prE:"⪳",prap:"⪷",prcue:"≼",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",primes:"ℙ",prnE:"⪵",prnap:"⪹",prnsim:"⋨",prod:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"\uD835\uDCC5",psi:"ψ",puncsp:" ",qfr:"\uD835\uDD2E",qint:"⨌",qopf:"\uD835\uDD62",qprime:"⁗",qscr:"\uD835\uDCC6",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',rAarr:"⇛",rArr:"⇒",rAtail:"⤜",rBarr:"⤏",rHar:"⥤",race:"∽̱",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"\xbb",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rarrw:"↝",ratail:"⤚",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rceil:"⌉",rcub:"}",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"\xae",rfisht:"⥽",rfloor:"⌋",rfr:"\uD835\uDD2F",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",rhov:"ϱ",rightarrow:"→",rightarrowtail:"↣",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",rightthreetimes:"⋌",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"\uD835\uDD63",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",rsaquo:"›",rscr:"\uD835\uDCC7",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",sbquo:"‚",sc:"≻",scE:"⪴",scap:"⪸",scaron:"š",sccue:"≽",sce:"⪰",scedil:"ş",scirc:"ŝ",scnE:"⪶",scnap:"⪺",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",seArr:"⇘",searhk:"⤥",searr:"↘",searrow:"↘",sect:"\xa7",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"\uD835\uDD30",sfrown:"⌢",sharp:"♯",shchcy:"щ",shcy:"ш",shortmid:"∣",shortparallel:"∥",shy:"\xad",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"\uD835\uDD64",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",squarf:"▪",squf:"▪",srarr:"→",sscr:"\uD835\uDCC8",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"\xaf",sub:"⊂",subE:"⫅",subdot:"⪽",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",sum:"∑",sung:"♪",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"⊃",supE:"⫆",supdot:"⪾",supdsub:"⫘",supe:"⊇",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swarhk:"⤦",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"\xdf",target:"⌖",tau:"τ",tbrk:"⎴",tcaron:"ť",tcedil:"ţ",tcy:"т",tdot:"⃛",telrec:"⌕",tfr:"\uD835\uDD31",there4:"∴",therefore:"∴",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",thinsp:" ",thkap:"≈",thksim:"∼",thorn:"\xfe",tilde:"˜",times:"\xd7",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"\uD835\uDD65",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"\uD835\uDCC9",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uArr:"⇑",uHar:"⥣",uacute:"\xfa",uarr:"↑",ubrcy:"ў",ubreve:"ŭ",ucirc:"\xfb",ucy:"у",udarr:"⇅",udblac:"ű",udhar:"⥮",ufisht:"⥾",ufr:"\uD835\uDD32",ugrave:"\xf9",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",uml:"\xa8",uogon:"ų",uopf:"\uD835\uDD66",uparrow:"↑",updownarrow:"↕",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",upsi:"υ",upsih:"ϒ",upsilon:"υ",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"\uD835\uDCCA",utdot:"⋰",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"\xfc",uwangle:"⦧",vArr:"⇕",vBar:"⫨",vBarv:"⫩",vDash:"⊨",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vcy:"в",vdash:"⊢",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",vert:"|",vfr:"\uD835\uDD33",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"\uD835\uDD67",vprop:"∝",vrtri:"⊳",vscr:"\uD835\uDCCB",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",wedgeq:"≙",weierp:"℘",wfr:"\uD835\uDD34",wopf:"\uD835\uDD68",wp:"℘",wr:"≀",wreath:"≀",wscr:"\uD835\uDCCC",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"\uD835\uDD35",xhArr:"⟺",xharr:"⟷",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"\uD835\uDD69",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",xscr:"\uD835\uDCCD",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"\xfd",yacy:"я",ycirc:"ŷ",ycy:"ы",yen:"\xa5",yfr:"\uD835\uDD36",yicy:"ї",yopf:"\uD835\uDD6A",yscr:"\uD835\uDCCE",yucy:"ю",yuml:"\xff",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeetrf:"ℨ",zeta:"ζ",zfr:"\uD835\uDD37",zhcy:"ж",zigrarr:"⇝",zopf:"\uD835\uDD6B",zscr:"\uD835\uDCCF",zwj:"‍",zwnj:"‌"},tw={}.hasOwnProperty;function tk(e){return!!tw.call(tx,e)&&tx[e]}let tS={name:"characterReference",tokenize:function(e,t,r){let n,i,a=this,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),n=31,i=eZ,u(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),n=6,i=eU,u):(e.enter("characterReferenceValue"),n=7,i=eq,u(t))}function u(o){if(59===o&&s){let n=e.exit("characterReferenceValue");return i!==eZ||tk(a.sliceSerialize(n))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):r(o)}return i(o)&&s++<n?(e.consume(o),u):r(o)}}},tC={name:"characterEscape",tokenize:function(e,t,r){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),n};function n(n){return eB(n)?(e.enter("characterEscapeValue"),e.consume(n),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(n)}}},tT={name:"lineEnding",tokenize:function(e,t){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),eK(e,t,"linePrefix")}}};function tE(e,t,r){let n=[],i=-1;for(;++i<e.length;){let a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}let tA={name:"labelEnd",resolveAll:function(e){let t=-1,r=[];for(;++t<e.length;){let n=e[t][1];if(r.push(e[t]),"labelImage"===n.type||"labelLink"===n.type||"labelEnd"===n.type){let e="labelImage"===n.type?4:2;n.type="data",t+=e}}return e.length!==r.length&&eP(e,0,e.length,r),e},resolveTo:function(e,t){let r,n,i,a,s=e.length,o=0;for(;s--;)if(r=e[s][1],n){if("link"===r.type||"labelLink"===r.type&&r._inactive)break;"enter"===e[s][0]&&"labelLink"===r.type&&(r._inactive=!0)}else if(i){if("enter"===e[s][0]&&("labelImage"===r.type||"labelLink"===r.type)&&!r._balanced&&(n=s,"labelLink"!==r.type)){o=2;break}}else"labelEnd"===r.type&&(i=s);let l={type:"labelLink"===e[n][1].type?"link":"image",start:{...e[n][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[n][1].start},end:{...e[i][1].end}},c={type:"labelText",start:{...e[n+o+2][1].end},end:{...e[i-2][1].start}};return a=eR(a=[["enter",l,t],["enter",u,t]],e.slice(n+1,n+o+3)),a=eR(a,[["enter",c,t]]),a=eR(a,tE(t.parser.constructs.insideSpan.null,e.slice(n+o+4,i-3),t)),a=eR(a,[["exit",c,t],e[i-2],e[i-1],["exit",u,t]]),a=eR(a,e.slice(i+1)),a=eR(a,[["exit",l,t]]),eP(e,n,e.length,a),e},tokenize:function(e,t,r){let n,i,a=this,s=a.events.length;for(;s--;)if(("labelImage"===a.events[s][1].type||"labelLink"===a.events[s][1].type)&&!a.events[s][1]._balanced){n=a.events[s][1];break}return function(t){return n?n._inactive?c(t):(i=a.parser.defined.includes(tc(a.sliceSerialize({start:n.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o):r(t)};function o(t){return 40===t?e.attempt(tI,u,i?u:c)(t):91===t?e.attempt(tO,u,i?l:c)(t):i?u(t):c(t)}function l(t){return e.attempt(tN,u,c)(t)}function u(e){return t(e)}function c(e){return n._balanced=!0,r(e)}}},tI={tokenize:function(e,t,r){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),n};function n(t){return eG(t)?tu(e,i)(t):i(t)}function i(t){return 41===t?u(t):ts(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return eG(t)?tu(e,o)(t):u(t)}function s(e){return r(e)}function o(t){return 34===t||39===t||40===t?tl(e,l,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):u(t)}function l(t){return eG(t)?tu(e,u)(t):u(t)}function u(n){return 41===n?(e.enter("resourceMarker"),e.consume(n),e.exit("resourceMarker"),e.exit("resource"),t):r(n)}}},tO={tokenize:function(e,t,r){let n=this;return function(t){return to.call(n,e,i,a,"reference","referenceMarker","referenceString")(t)};function i(e){return n.parser.defined.includes(tc(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(e):r(e)}function a(e){return r(e)}}},tN={tokenize:function(e,t,r){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),n};function n(n){return 93===n?(e.enter("referenceMarker"),e.consume(n),e.exit("referenceMarker"),e.exit("reference"),t):r(n)}}},tP={name:"labelStartImage",resolveAll:tA.resolveAll,tokenize:function(e,t,r){let n=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):r(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in n.parser.constructs?r(e):t(e)}}};function tR(e){return null===e||eG(e)||eJ(e)?1:eW(e)?2:void 0}let tj={name:"attention",resolveAll:function(e,t){let r,n,i,a,s,o,l,u,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close){for(r=c;r--;)if("exit"===e[r][0]&&"attentionSequence"===e[r][1].type&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[r][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;o=e[r][1].end.offset-e[r][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;let d={...e[r][1].end},p={...e[c][1].start};tL(d,-o),tL(p,o),a={type:o>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},s={type:o>1?"strongSequence":"emphasisSequence",start:{...e[c][1].start},end:p},i={type:o>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[c][1].start}},n={type:o>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},e[r][1].end={...a.start},e[c][1].start={...s.end},l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=eR(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=eR(l,[["enter",n,t],["enter",a,t],["exit",a,t],["enter",i,t]]),l=eR(l,tE(t.parser.constructs.insideSpan.null,e.slice(r+1,c),t)),l=eR(l,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",n,t]]),e[c][1].end.offset-e[c][1].start.offset?(u=2,l=eR(l,[["enter",e[c][1],t],["exit",e[c][1],t]])):u=0,eP(e,r-1,c-r+3,l),c=r+l.length-u-2;break}}for(c=-1;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e},tokenize:function(e,t){let r,n=this.parser.constructs.attentionMarkers.null,i=this.previous,a=tR(i);return function(s){return r=s,e.enter("attentionSequence"),function s(o){if(o===r)return e.consume(o),s;let l=e.exit("attentionSequence"),u=tR(o),c=!u||2===u&&a||n.includes(o),d=!a||2===a&&u||n.includes(i);return l._open=!!(42===r?c:c&&(a||!d)),l._close=!!(42===r?d:d&&(u||!c)),t(o)}(s)}}};function tL(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}let tD={name:"labelStartLink",resolveAll:tA.resolveAll,tokenize:function(e,t,r){let n=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in n.parser.constructs?r(e):t(e)}}},tM={42:tr,43:tr,45:tr,48:tr,49:tr,50:tr,51:tr,52:tr,53:tr,54:tr,55:tr,56:tr,57:tr,62:ta},tF={91:{name:"definition",tokenize:function(e,t,r){let n,i=this;return function(t){var n;return e.enter("definition"),n=t,to.call(i,e,a,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(n)};function a(t){return(n=tc(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t)?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):r(t)}function s(t){return eG(t)?tu(e,o)(t):o(t)}function o(t){return ts(e,l,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(td,u,u)(t)}function u(t){return eH(t)?eK(e,c,"whitespace")(t):c(t)}function c(a){return null===a||eV(a)?(e.exit("definition"),i.parser.defined.push(n),t(a)):r(a)}}}},tZ={[-2]:tp,[-1]:tp,32:tp},tz={35:{name:"headingAtx",resolve:function(e,t){let r,n,i=e.length-2,a=3;return"whitespace"===e[3][1].type&&(a+=2),i-2>a&&"whitespace"===e[i][1].type&&(i-=2),"atxHeadingSequence"===e[i][1].type&&(a===i-1||i-4>a&&"whitespace"===e[i-2][1].type)&&(i-=a+1===i?2:4),i>a&&(r={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},n={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},eP(e,a,i-a+1,[["enter",r,t],["enter",n,t],["exit",n,t],["exit",r,t]])),e},tokenize:function(e,t,r){let n=0;return function(i){var a;return e.enter("atxHeading"),a=i,e.enter("atxHeadingSequence"),function i(a){return 35===a&&n++<6?(e.consume(a),i):null===a||eG(a)?(e.exit("atxHeadingSequence"),function r(n){return 35===n?(e.enter("atxHeadingSequence"),function t(n){return 35===n?(e.consume(n),t):(e.exit("atxHeadingSequence"),r(n))}(n)):null===n||eV(n)?(e.exit("atxHeading"),t(n)):eH(n)?eK(e,r,"whitespace")(n):(e.enter("atxHeadingText"),function t(n){return null===n||35===n||eG(n)?(e.exit("atxHeadingText"),r(n)):(e.consume(n),t)}(n))}(a)):r(a)}(a)}}},42:tt,45:[tf,tt],60:{concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},tokenize:function(e,t,r){let n,i,a,s,o,l=this;return function(t){var r;return r=t,e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(r),u};function u(s){return 33===s?(e.consume(s),c):47===s?(e.consume(s),i=!0,h):63===s?(e.consume(s),n=3,l.interrupt?t:P):eF(s)?(e.consume(s),a=String.fromCharCode(s),f):r(s)}function c(i){return 45===i?(e.consume(i),n=2,d):91===i?(e.consume(i),n=5,s=0,p):eF(i)?(e.consume(i),n=4,l.interrupt?t:P):r(i)}function d(n){return 45===n?(e.consume(n),l.interrupt?t:P):r(n)}function p(n){let i="CDATA[";return n===i.charCodeAt(s++)?(e.consume(n),s===i.length)?l.interrupt?t:S:p:r(n)}function h(t){return eF(t)?(e.consume(t),a=String.fromCharCode(t),f):r(t)}function f(s){if(null===s||47===s||62===s||eG(s)){let o=47===s,u=a.toLowerCase();return!o&&!i&&tg.includes(u)?(n=1,l.interrupt?t(s):S(s)):tm.includes(a.toLowerCase())?(n=6,o)?(e.consume(s),m):l.interrupt?t(s):S(s):(n=7,l.interrupt&&!l.parser.lazy[l.now().line]?r(s):i?function t(r){return eH(r)?(e.consume(r),t):w(r)}(s):g(s))}return 45===s||eZ(s)?(e.consume(s),a+=String.fromCharCode(s),f):r(s)}function m(n){return 62===n?(e.consume(n),l.interrupt?t:S):r(n)}function g(t){return 47===t?(e.consume(t),w):58===t||95===t||eF(t)?(e.consume(t),y):eH(t)?(e.consume(t),g):w(t)}function y(t){return 45===t||46===t||58===t||95===t||eZ(t)?(e.consume(t),y):_(t)}function _(t){return 61===t?(e.consume(t),v):eH(t)?(e.consume(t),_):g(t)}function v(t){return null===t||60===t||61===t||62===t||96===t?r(t):34===t||39===t?(e.consume(t),o=t,b):eH(t)?(e.consume(t),v):function t(r){return null===r||34===r||39===r||47===r||60===r||61===r||62===r||96===r||eG(r)?_(r):(e.consume(r),t)}(t)}function b(t){return t===o?(e.consume(t),o=null,x):null===t||eV(t)?r(t):(e.consume(t),b)}function x(e){return 47===e||62===e||eH(e)?g(e):r(e)}function w(t){return 62===t?(e.consume(t),k):r(t)}function k(t){return null===t||eV(t)?S(t):eH(t)?(e.consume(t),k):r(t)}function S(t){return 45===t&&2===n?(e.consume(t),A):60===t&&1===n?(e.consume(t),I):62===t&&4===n?(e.consume(t),R):63===t&&3===n?(e.consume(t),P):93===t&&5===n?(e.consume(t),N):eV(t)&&(6===n||7===n)?(e.exit("htmlFlowData"),e.check(ty,j,C)(t)):null===t||eV(t)?(e.exit("htmlFlowData"),C(t)):(e.consume(t),S)}function C(t){return e.check(t_,T,j)(t)}function T(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),E}function E(t){return null===t||eV(t)?C(t):(e.enter("htmlFlowData"),S(t))}function A(t){return 45===t?(e.consume(t),P):S(t)}function I(t){return 47===t?(e.consume(t),a="",O):S(t)}function O(t){if(62===t){let r=a.toLowerCase();return tg.includes(r)?(e.consume(t),R):S(t)}return eF(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),O):S(t)}function N(t){return 93===t?(e.consume(t),P):S(t)}function P(t){return 62===t?(e.consume(t),R):45===t&&2===n?(e.consume(t),P):S(t)}function R(t){return null===t||eV(t)?(e.exit("htmlFlowData"),j(t)):(e.consume(t),R)}function j(r){return e.exit("htmlFlow"),t(r)}}},61:tf,95:tt,96:tb,126:tb},t$={38:tS,92:tC},tq={[-5]:tT,[-4]:tT,[-3]:tT,33:tP,38:tS,42:tj,60:[{name:"autolink",tokenize:function(e,t,r){let n=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return eF(t)?(e.consume(t),a):64===t?r(t):o(t)}function a(t){return 43===t||45===t||46===t||eZ(t)?(n=1,function t(r){return 58===r?(e.consume(r),n=0,s):(43===r||45===r||46===r||eZ(r))&&n++<32?(e.consume(r),t):(n=0,o(r))}(t)):o(t)}function s(n){return 62===n?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):null===n||32===n||60===n||e$(n)?r(n):(e.consume(n),s)}function o(t){return 64===t?(e.consume(t),l):ez(t)?(e.consume(t),o):r(t)}function l(i){return eZ(i)?function i(a){return 46===a?(e.consume(a),n=0,l):62===a?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(a),e.exit("autolinkMarker"),e.exit("autolink"),t):function t(a){if((45===a||eZ(a))&&n++<63){let r=45===a?t:i;return e.consume(a),r}return r(a)}(a)}(i):r(i)}}},{name:"htmlText",tokenize:function(e,t,r){let n,i,a,s=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),b):63===t?(e.consume(t),_):eF(t)?(e.consume(t),w):r(t)}function l(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),i=0,h):eF(t)?(e.consume(t),y):r(t)}function u(t){return 45===t?(e.consume(t),p):r(t)}function c(t){return null===t?r(t):45===t?(e.consume(t),d):eV(t)?(a=c,O(t)):(e.consume(t),c)}function d(t){return 45===t?(e.consume(t),p):c(t)}function p(e){return 62===e?I(e):45===e?d(e):c(e)}function h(t){let n="CDATA[";return t===n.charCodeAt(i++)?(e.consume(t),i===n.length?f:h):r(t)}function f(t){return null===t?r(t):93===t?(e.consume(t),m):eV(t)?(a=f,O(t)):(e.consume(t),f)}function m(t){return 93===t?(e.consume(t),g):f(t)}function g(t){return 62===t?I(t):93===t?(e.consume(t),g):f(t)}function y(t){return null===t||62===t?I(t):eV(t)?(a=y,O(t)):(e.consume(t),y)}function _(t){return null===t?r(t):63===t?(e.consume(t),v):eV(t)?(a=_,O(t)):(e.consume(t),_)}function v(e){return 62===e?I(e):_(e)}function b(t){return eF(t)?(e.consume(t),x):r(t)}function x(t){return 45===t||eZ(t)?(e.consume(t),x):function t(r){return eV(r)?(a=t,O(r)):eH(r)?(e.consume(r),t):I(r)}(t)}function w(t){return 45===t||eZ(t)?(e.consume(t),w):47===t||62===t||eG(t)?k(t):r(t)}function k(t){return 47===t?(e.consume(t),I):58===t||95===t||eF(t)?(e.consume(t),S):eV(t)?(a=k,O(t)):eH(t)?(e.consume(t),k):I(t)}function S(t){return 45===t||46===t||58===t||95===t||eZ(t)?(e.consume(t),S):function t(r){return 61===r?(e.consume(r),C):eV(r)?(a=t,O(r)):eH(r)?(e.consume(r),t):k(r)}(t)}function C(t){return null===t||60===t||61===t||62===t||96===t?r(t):34===t||39===t?(e.consume(t),n=t,T):eV(t)?(a=C,O(t)):eH(t)?(e.consume(t),C):(e.consume(t),E)}function T(t){return t===n?(e.consume(t),n=void 0,A):null===t?r(t):eV(t)?(a=T,O(t)):(e.consume(t),T)}function E(t){return null===t||34===t||39===t||60===t||61===t||96===t?r(t):47===t||62===t||eG(t)?k(t):(e.consume(t),E)}function A(e){return 47===e||62===e||eG(e)?k(e):r(e)}function I(n){return 62===n?(e.consume(n),e.exit("htmlTextData"),e.exit("htmlText"),t):r(n)}function O(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),N}function N(t){return eH(t)?eK(e,P,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):P(t)}function P(t){return e.enter("htmlTextData"),a(t)}}}],91:tD,92:[{name:"hardBreakEscape",tokenize:function(e,t,r){return function(t){return e.enter("hardBreakEscape"),e.consume(t),n};function n(n){return eV(n)?(e.exit("hardBreakEscape"),t(n)):r(n)}}},tC],93:tA,95:tj,96:{name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,r,n=e.length-4,i=3;if(("lineEnding"===e[3][1].type||"space"===e[i][1].type)&&("lineEnding"===e[n][1].type||"space"===e[n][1].type)){for(t=i;++t<n;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[n][1].type="codeTextPadding",i+=2,n-=2;break}}for(t=i-1,n++;++t<=n;)void 0===r?t!==n&&"lineEnding"!==e[t][1].type&&(r=t):(t===n||"lineEnding"===e[t][1].type)&&(e[r][1].type="codeTextData",t!==r+2&&(e[r][1].end=e[t-1][1].end,e.splice(r+2,t-r-2),n-=t-r-2,t=r+2),r=void 0);return e},tokenize:function(e,t,r){let n,i,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),function t(r){return 96===r?(e.consume(r),a++,t):(e.exit("codeTextSequence"),s(r))}(t)};function s(l){return null===l?r(l):32===l?(e.enter("space"),e.consume(l),e.exit("space"),s):96===l?(i=e.enter("codeTextSequence"),n=0,function r(s){return 96===s?(e.consume(s),n++,r):n===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(s)):(i.type="codeTextData",o(s))}(l)):eV(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):(e.enter("codeTextData"),o(l))}function o(t){return null===t||32===t||96===t||eV(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),o)}}}},tU={null:[tj,e5]},tB={null:[42,95]},tV={null:[]},tG=/[\0\t\n\r]/g;function tH(e,t){let r=Number.parseInt(e,t);return r<9||11===r||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(65535&r)==65535||(65535&r)==65534||r>1114111?"�":String.fromCodePoint(r)}let tW=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function tJ(e,t,r){if(t)return t;if(35===r.charCodeAt(0)){let e=r.charCodeAt(1),t=120===e||88===e;return tH(r.slice(t?2:1),t?16:10)}return tk(r)||e}let tY={}.hasOwnProperty;function tK(e){return{line:e.line,column:e.column,offset:e.offset}}function tQ(e,t){if(e)throw Error("Cannot close `"+e.type+"` ("+ec({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ec({start:t.start,end:t.end})+") is open");throw Error("Cannot close document, a token (`"+t.type+"`, "+ec({start:t.start,end:t.end})+") is still open")}function tX(e){let t=this;t.parser=function(r){var n,i;let a,s,o,l;return"string"!=typeof(n={...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})&&(i=n,n=void 0),(function(e){let t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:n(y),autolinkProtocol:u,autolinkEmail:u,atxHeading:n(f),blockQuote:n(function(){return{type:"blockquote",children:[]}}),characterEscape:u,characterReference:u,codeFenced:n(h),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:n(h,i),codeText:n(function(){return{type:"inlineCode",value:""}},i),codeTextData:u,data:u,codeFlowValue:u,definition:n(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:n(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:n(m),hardBreakTrailing:n(m),htmlFlow:n(g,i),htmlFlowData:u,htmlText:n(g,i),htmlTextData:u,image:n(function(){return{type:"image",title:null,url:"",alt:null}}),label:i,link:n(y),listItem:n(function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}),listItemValue:function(e){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0)},listOrdered:n(_,function(){this.data.expectingFirstListItemValue=!0}),listUnordered:n(_),paragraph:n(function(){return{type:"paragraph",children:[]}}),reference:function(){this.data.referenceType="collapsed"},referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:n(f),strong:n(function(){return{type:"strong",children:[]}}),thematicBreak:n(function(){return{type:"thematicBreak"}})},exit:{atxHeading:s(),atxHeadingSequence:function(e){let t=this.stack[this.stack.length-1];t.depth||(t.depth=this.sliceSerialize(e).length)},autolink:s(),autolinkEmail:function(e){c.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){c.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)},blockQuote:s(),characterEscapeValue:c,characterReferenceMarkerHexadecimal:p,characterReferenceMarkerNumeric:p,characterReferenceValue:function(e){let t,r=this.sliceSerialize(e),n=this.data.characterReferenceType;n?(t=tH(r,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0):t=tk(r);let i=this.stack[this.stack.length-1];i.value+=t},characterReference:function(e){this.stack.pop().position.end=tK(e.end)},codeFenced:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){let e=this.resume();this.stack[this.stack.length-1].lang=e},codeFencedFenceMeta:function(){let e=this.resume();this.stack[this.stack.length-1].meta=e},codeFlowValue:c,codeIndented:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}),codeText:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e}),codeTextData:c,data:c,definition:s(),definitionDestinationString:function(){let e=this.resume();this.stack[this.stack.length-1].url=e},definitionLabelString:function(e){let t=this.resume(),r=this.stack[this.stack.length-1];r.label=t,r.identifier=tc(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){let e=this.resume();this.stack[this.stack.length-1].title=e},emphasis:s(),hardBreakEscape:s(d),hardBreakTrailing:s(d),htmlFlow:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e}),htmlFlowData:c,htmlText:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e}),htmlTextData:c,image:s(function(){let e=this.stack[this.stack.length-1];if(this.data.inReference){let t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}),label:function(){let e=this.stack[this.stack.length-1],t=this.resume(),r=this.stack[this.stack.length-1];this.data.inReference=!0,"link"===r.type?r.children=e.children:r.alt=t},labelText:function(e){let t=this.sliceSerialize(e),r=this.stack[this.stack.length-2];r.label=t.replace(tW,tJ),r.identifier=tc(t).toLowerCase()},lineEnding:function(e){let r=this.stack[this.stack.length-1];if(this.data.atHardBreak){r.children[r.children.length-1].position.end=tK(e.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(r.type)&&(u.call(this,e),c.call(this,e))},link:s(function(){let e=this.stack[this.stack.length-1];if(this.data.inReference){let t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:function(e){let t=this.resume(),r=this.stack[this.stack.length-1];r.label=t,r.identifier=tc(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){let e=this.resume();this.stack[this.stack.length-1].url=e},resourceTitleString:function(){let e=this.resume();this.stack[this.stack.length-1].title=e},resource:function(){this.data.inReference=void 0},setextHeading:s(function(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:s(),thematicBreak:s()}};!function e(t,r){let n=-1;for(;++n<r.length;){let i=r[n];Array.isArray(i)?e(t,i):function(e,t){let r;for(r in t)if(tY.call(t,r))switch(r){case"canContainEols":{let n=t[r];n&&e[r].push(...n);break}case"transforms":{let n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{let n=t[r];n&&Object.assign(e[r],n)}}}(t,i)}}(t,(e||{}).mdastExtensions||[]);let r={};return function(e){let n={type:"root",children:[]},s={stack:[n],tokenStack:[],config:t,enter:a,exit:o,buffer:i,resume:l,data:r},u=[],c=-1;for(;++c<e.length;)("listOrdered"===e[c][1].type||"listUnordered"===e[c][1].type)&&("enter"===e[c][0]?u.push(c):c=function(e,t,r){let n,i,a,s,o=t-1,l=-1,u=!1;for(;++o<=r;){let t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,s=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!n||s||l||a||(a=o),s=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:s=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(n){let s=o;for(i=void 0;s--;){let t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",u=!0),t[1].type="lineEnding",i=s}else if("linePrefix"===t[1].type||"blockQuotePrefix"===t[1].type||"blockQuotePrefixWhitespace"===t[1].type||"blockQuoteMarker"===t[1].type||"listItemIndent"===t[1].type);else break}a&&(!i||a<i)&&(n._spread=!0),n.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||o,0,["exit",n,t[2]]),o++,r++}if("listItemPrefix"===t[1].type){let i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};n=i,e.splice(o,0,["enter",i,t[2]]),o++,r++,a=void 0,s=!0}}}return e[t][1]._spread=u,r}(e,u.pop(),c));for(c=-1;++c<e.length;){let r=t[e[c][0]];tY.call(r,e[c][1].type)&&r[e[c][1].type].call(Object.assign({sliceSerialize:e[c][2].sliceSerialize},s),e[c][1])}if(s.tokenStack.length>0){let e=s.tokenStack[s.tokenStack.length-1];(e[1]||tQ).call(s,void 0,e[0])}for(n.position={start:tK(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:tK(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},c=-1;++c<t.transforms.length;)n=t.transforms[c](n)||n;return n};function n(e,t){return function(r){a.call(this,e(r),r),t&&t.call(this,r)}}function i(){this.stack.push({type:"fragment",children:[]})}function a(e,t,r){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,r||void 0]),e.position={start:tK(t.start),end:void 0}}function s(e){return function(t){e&&e.call(this,t),o.call(this,t)}}function o(e,t){let r=this.stack.pop(),n=this.tokenStack.pop();if(n)n[0].type!==e.type&&(t?t.call(this,e,n[0]):(n[1]||tQ).call(this,e,n[0]));else throw Error("Cannot close `"+e.type+"` ("+ec({start:e.start,end:e.end})+"): it’s not open");r.position.end=tK(e.end)}function l(){var e;return eO(this.stack.pop(),"boolean"!=typeof eI.includeImageAlt||eI.includeImageAlt,"boolean"!=typeof eI.includeHtml||eI.includeHtml)}function u(e){let t=this.stack[this.stack.length-1].children,r=t[t.length-1];r&&"text"===r.type||((r={type:"text",value:""}).position={start:tK(e.start),end:void 0},t.push(r)),this.stack.push(r)}function c(e){let t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=tK(e.end)}function d(){this.data.atHardBreak=!0}function p(e){this.data.characterReferenceType=e.type}function h(){return{type:"code",lang:null,meta:null,value:""}}function f(){return{type:"heading",depth:0,children:[]}}function m(){return{type:"break"}}function g(){return{type:"html",value:""}}function y(){return{type:"link",title:null,url:"",children:[]}}function _(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}})(i)(function(e){for(;!eD(e););return e}((function(e){let t={constructs:function(e){let t={},r=-1;for(;++r<e.length;)!function(e,t){let r;for(r in t){let n,i=(eM.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];if(a)for(n in a){eM.call(i,n)||(i[n]=[]);let e=a[n];!function(e,t){let r=-1,n=[];for(;++r<t.length;)("after"===t[r].add?e:n).push(t[r]);eP(e,0,0,n)}(i[n],Array.isArray(e)?e:e?[e]:[])}}}(t,e[r]);return t}([m,...(e||{}).extensions||[]]),content:r(eQ),defined:[],document:r(eX),flow:r(e9),lazy:{},string:r(e3),text:r(e6)};return t;function r(e){return function(r){return function(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0},i={},a=[],s=[],o=[],l={attempt:f(function(e,t){m(e,t.from)}),check:f(h),consume:function(e){eV(e)?(n.line++,n.column=1,n.offset+=-3===e?2:1,g()):-1!==e&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=e},enter:function(e,t){let r=t||{};return r.type=e,r.start=p(),u.events.push(["enter",r,u]),o.push(r),r},exit:function(e){let t=o.pop();return t.end=p(),u.events.push(["exit",t,u]),t},interrupt:f(h,{interrupt:!0})},u={code:null,containerState:{},defineSkip:function(e){i[e.line]=e.column,g()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let r,n=-1,i=[];for(;++n<e.length;){let a,s=e[n];if("string"==typeof s)a=s;else switch(s){case -5:a="\r";break;case -4:a="\n";break;case -3:a="\r\n";break;case -2:a=t?" ":"	";break;case -1:if(!t&&r)continue;a=" ";break;default:a=String.fromCharCode(s)}r=-2===s,i.push(a)}return i.join("")}(d(e),t)},sliceStream:d,write:function(e){return(s=eR(s,e),function(){let e;for(;n._index<s.length;){let r=s[n._index];if("string"==typeof r)for(e=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===e&&n._bufferIndex<r.length;){var t;t=r.charCodeAt(n._bufferIndex),c=c(t)}else c=c(r)}}(),null!==s[s.length-1])?[]:(m(t,0),u.events=tE(a,u.events,u),u.events)}},c=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function d(e){return function(e,t){let r,n=t.start._index,i=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;if(n===a)r=[e[n].slice(i,s)];else{if(r=e.slice(n,a),i>-1){let e=r[0];"string"==typeof e?r[0]=e.slice(i):r.shift()}s>0&&r.push(e[a].slice(0,s))}return r}(s,e)}function p(){let{_bufferIndex:e,_index:t,line:r,column:i,offset:a}=n;return{_bufferIndex:e,_index:t,line:r,column:i,offset:a}}function h(e,t){t.restore()}function f(e,t){return function(r,i,a){var s;let c,d,h,f;return Array.isArray(r)?m(r):"tokenize"in r?m([r]):(s=r,function(e){let t=null!==e&&s[e],r=null!==e&&s.null;return m([...Array.isArray(t)?t:t?[t]:[],...Array.isArray(r)?r:r?[r]:[]])(e)});function m(e){return(c=e,d=0,0===e.length)?a:y(e[d])}function y(e){return function(r){return(f=function(){let e=p(),t=u.previous,r=u.currentConstruct,i=u.events.length,a=Array.from(o);return{from:i,restore:function(){n=e,u.previous=t,u.currentConstruct=r,u.events.length=i,o=a,g()}}}(),h=e,e.partial||(u.currentConstruct=e),e.name&&u.parser.constructs.disable.null.includes(e.name))?v(r):e.tokenize.call(t?Object.assign(Object.create(u),t):u,l,_,v)(r)}}function _(t){return e(h,f),i}function v(e){return(f.restore(),++d<c.length)?y(c[d]):a}}}function m(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&eP(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function g(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}(t,e,r)}}})(i).document().write((s=1,o="",l=!0,function(e,t,r){let n,i,u,c,d,p=[];for(e=o+("string"==typeof e?e.toString():new TextDecoder(t||void 0).decode(e)),u=0,o="",l&&(65279===e.charCodeAt(0)&&u++,l=void 0);u<e.length;){if(tG.lastIndex=u,c=(n=tG.exec(e))&&void 0!==n.index?n.index:e.length,d=e.charCodeAt(c),!n){o=e.slice(u);break}if(10===d&&u===c&&a)p.push(-3),a=void 0;else switch(a&&(p.push(-5),a=void 0),u<c&&(p.push(e.slice(u,c)),s+=c-u),d){case 0:p.push(65533),s++;break;case 9:for(i=4*Math.ceil(s/4),p.push(-2);s++<i;)p.push(-1);break;case 10:p.push(-4),s=1;break;default:a=!0,s=1}u=c+1}return r&&(a&&p.push(-5),o&&p.push(o),p.push(null)),p})(r,n,!0))))}}let t0="object"==typeof self?self:globalThis,t1=(e,t)=>{let r=(t,r)=>(e.set(r,t),t),n=i=>{if(e.has(i))return e.get(i);let[a,s]=t[i];switch(a){case 0:case -1:return r(s,i);case 1:{let e=r([],i);for(let t of s)e.push(n(t));return e}case 2:{let e=r({},i);for(let[t,r]of s)e[n(t)]=n(r);return e}case 3:return r(new Date(s),i);case 4:{let{source:e,flags:t}=s;return r(new RegExp(e,t),i)}case 5:{let e=r(new Map,i);for(let[t,r]of s)e.set(n(t),n(r));return e}case 6:{let e=r(new Set,i);for(let t of s)e.add(n(t));return e}case 7:{let{name:e,message:t}=s;return r(new t0[e](t),i)}case 8:return r(BigInt(s),i);case"BigInt":return r(Object(BigInt(s)),i);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{let{buffer:e}=new Uint8Array(s);return r(new DataView(e),s)}}return r(new t0[a](s),i)};return n},t2=e=>t1(new Map,e)(0),{toString:t4}={},{keys:t9}=Object,t5=e=>{let t=typeof e;if("object"!==t||!e)return[0,t];let r=t4.call(e).slice(8,-1);switch(r){case"Array":return[1,""];case"Object":return[2,""];case"Date":return[3,""];case"RegExp":return[4,""];case"Map":return[5,""];case"Set":return[6,""];case"DataView":return[1,r]}return r.includes("Array")?[1,r]:r.includes("Error")?[7,r]:[2,r]},t3=([e,t])=>0===e&&("function"===t||"symbol"===t),t6=(e,t,r,n)=>{let i=(e,t)=>{let i=n.push(e)-1;return r.set(t,i),i},a=n=>{if(r.has(n))return r.get(n);let[s,o]=t5(n);switch(s){case 0:{let t=n;switch(o){case"bigint":s=8,t=n.toString();break;case"function":case"symbol":if(e)throw TypeError("unable to serialize "+o);t=null;break;case"undefined":return i([-1],n)}return i([s,t],n)}case 1:{if(o){let e=n;return"DataView"===o?e=new Uint8Array(n.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(n)),i([o,[...e]],n)}let e=[],t=i([s,e],n);for(let t of n)e.push(a(t));return t}case 2:{if(o)switch(o){case"BigInt":return i([o,n.toString()],n);case"Boolean":case"Number":case"String":return i([o,n.valueOf()],n)}if(t&&"toJSON"in n)return a(n.toJSON());let r=[],l=i([s,r],n);for(let t of t9(n))(e||!t3(t5(n[t])))&&r.push([a(t),a(n[t])]);return l}case 3:return i([s,n.toISOString()],n);case 4:{let{source:e,flags:t}=n;return i([s,{source:e,flags:t}],n)}case 5:{let t=[],r=i([s,t],n);for(let[r,i]of n)(e||!(t3(t5(r))||t3(t5(i))))&&t.push([a(r),a(i)]);return r}case 6:{let t=[],r=i([s,t],n);for(let r of n)(e||!t3(t5(r)))&&t.push(a(r));return r}}let{message:l}=n;return i([s,{name:o,message:l}],n)};return a},t7=(e,{json:t,lossy:r}={})=>{let n=[];return t6(!(t||r),!!t,new Map,n)(e),n},t8="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?t2(t7(e,t)):structuredClone(e):(e,t)=>t2(t7(e,t));function re(e){let t=[],r=-1,n=0,i=0;for(;++r<e.length;){let a=e.charCodeAt(r),s="";if(37===a&&eZ(e.charCodeAt(r+1))&&eZ(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){let t=e.charCodeAt(r+1);a<56320&&t>56319&&t<57344?(s=String.fromCharCode(a,t),i=1):s="�"}else s=String.fromCharCode(a);s&&(t.push(e.slice(n,r),encodeURIComponent(s)),n=r+i+1,s=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function rt(e,t){let r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function rr(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}let rn=function(e){var t,r;if(null==e)return ra;if("function"==typeof e)return ri(e);if("object"==typeof e){return Array.isArray(e)?function(e){let t=[],r=-1;for(;++r<e.length;)t[r]=rn(e[r]);return ri(function(...e){let r=-1;for(;++r<t.length;)if(t[r].apply(this,e))return!0;return!1})}(e):(t=e,ri(function(e){let r;for(r in t)if(e[r]!==t[r])return!1;return!0}))}if("string"==typeof e){return r=e,ri(function(e){return e&&e.type===r})}throw Error("Expected function, string, or object as test")};function ri(e){return function(t,r,n){return!!(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof r?r:void 0,n||void 0))}}function ra(){return!0}let rs=[];function ro(e,t,r,n){let i,a,s,o;"function"==typeof t&&"function"!=typeof r?(a=void 0,s=t,i=r):(a=t,s=r,i=n);var l=a,u=function(e,t){let r=t[t.length-1],n=r?r.children.indexOf(e):void 0;return s(e,n,r)},c=i;"function"==typeof l&&"function"!=typeof u?(c=u,u=l):o=l;let d=rn(o),p=c?-1:1;(function e(t,r,n){let i=t&&"object"==typeof t?t:{};if("string"==typeof i.type){let e="string"==typeof i.tagName?i.tagName:"string"==typeof i.name?i.name:void 0;Object.defineProperty(a,"name",{value:"node (\x1b[33m"+t.type+(e?"<"+e+">":"")+"\x1b[39m)"})}return a;function a(){var i;let a,s,o,h=rs;if((!l||d(t,r,n[n.length-1]||void 0))&&!1===(h=Array.isArray(i=u(t,n))?i:"number"==typeof i?[!0,i]:null==i?rs:[i])[0])return h;if("children"in t&&t.children&&t.children&&"skip"!==h[0])for(s=(c?t.children.length:-1)+p,o=n.concat(t);s>-1&&s<t.children.length;){if(!1===(a=e(t.children[s],s,o)())[0])return a;s="number"==typeof a[1]?a[1]:s+p}return h}})(e,void 0,[])()}function rl(e,t){let r=t.referenceType,n="]";if("collapsed"===r?n+="[]":"full"===r&&(n+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+n}];let i=e.all(t),a=i[0];a&&"text"===a.type?a.value="["+a.value:i.unshift({type:"text",value:"["});let s=i[i.length-1];return s&&"text"===s.type?s.value+=n:i.push({type:"text",value:n}),i}function ru(e){let t=e.spread;return null==t?e.children.length>1:t}function rc(e,t,r){let n=0,i=e.length;if(t){let t=e.codePointAt(n);for(;9===t||32===t;)n++,t=e.codePointAt(n)}if(r){let t=e.codePointAt(i-1);for(;9===t||32===t;)i--,t=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}let rd={blockquote:function(e,t){let r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)},break:function(e,t){let r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:"\n"}]},code:function(e,t){let r=t.value?t.value+"\n":"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i={type:"element",tagName:"pre",properties:{},children:[i=e.applyData(t,i)]},e.patch(t,i),i},delete:function(e,t){let r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},emphasis:function(e,t){let r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},footnoteReference:function(e,t){let r,n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),a=re(i.toLowerCase()),s=e.footnoteOrder.indexOf(i),o=e.footnoteCounts.get(i);void 0===o?(o=0,e.footnoteOrder.push(i),r=e.footnoteOrder.length):r=s+1,o+=1,e.footnoteCounts.set(i,o);let l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(r)}]};e.patch(t,l);let u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)},heading:function(e,t){let r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},html:function(e,t){if(e.options.allowDangerousHtml){let r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}},imageReference:function(e,t){let r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return rl(e,t);let i={src:re(n.url||""),alt:t.alt};null!==n.title&&void 0!==n.title&&(i.title=n.title);let a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)},image:function(e,t){let r={src:re(t.url)};null!==t.alt&&void 0!==t.alt&&(r.alt=t.alt),null!==t.title&&void 0!==t.title&&(r.title=t.title);let n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)},inlineCode:function(e,t){let r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);let n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)},linkReference:function(e,t){let r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return rl(e,t);let i={href:re(n.url||"")};null!==n.title&&void 0!==n.title&&(i.title=n.title);let a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)},link:function(e,t){let r={href:re(t.url)};null!==t.title&&void 0!==t.title&&(r.title=t.title);let n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},listItem:function(e,t,r){let n=e.all(t),i=r?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;let r=e.children,n=-1;for(;!t&&++n<r.length;)t=ru(r[n])}return t}(r):ru(t),a={},s=[];if("boolean"==typeof t.checked){let e,r=n[0];r&&"element"===r.type&&"p"===r.tagName?e=r:(e={type:"element",tagName:"p",properties:{},children:[]},n.unshift(e)),e.children.length>0&&e.children.unshift({type:"text",value:" "}),e.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<n.length;){let e=n[o];(i||0!==o||"element"!==e.type||"p"!==e.tagName)&&s.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?s.push(e):s.push(...e.children)}let l=n[n.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&s.push({type:"text",value:"\n"});let u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)},list:function(e,t){let r={},n=e.all(t),i=-1;for("number"==typeof t.start&&1!==t.start&&(r.start=t.start);++i<n.length;){let e=n[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}let a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)},paragraph:function(e,t){let r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},root:function(e,t){let r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)},strong:function(e,t){let r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},table:function(e,t){let r=e.all(t),n=r.shift(),i=[];if(n){let r={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],r),i.push(r)}if(r.length>0){let n={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},a=el(t.children[1]),s=eo(t.children[t.children.length-1]);a&&s&&(n.position={start:a,end:s}),i.push(n)}let a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)},tableCell:function(e,t){let r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},tableRow:function(e,t,r){let n=r?r.children:void 0,i=0===(n?n.indexOf(t):1)?"th":"td",a=r&&"table"===r.type?r.align:void 0,s=a?a.length:t.children.length,o=-1,l=[];for(;++o<s;){let r=t.children[o],n={},s=a?a[o]:void 0;s&&(n.align=s);let u={type:"element",tagName:i,properties:n,children:[]};r&&(u.children=e.all(r),e.patch(r,u),u=e.applyData(r,u)),l.push(u)}let u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)},text:function(e,t){let r={type:"text",value:function(e){let t=String(e),r=/\r?\n|\r/g,n=r.exec(t),i=0,a=[];for(;n;)a.push(rc(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push(rc(t.slice(i),i>0,!1)),a.join("")}(String(t.value))};return e.patch(t,r),e.applyData(t,r)},thematicBreak:function(e,t){let r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)},toml:rp,yaml:rp,definition:rp,footnoteDefinition:rp};function rp(){}let rh={}.hasOwnProperty,rf={};function rm(e,t){e.position&&(t.position=function(e){let t=el(e),r=eo(e);if(t&&r)return{start:t,end:r}}(e))}function rg(e,t){let r=t;if(e&&e.data){let t=e.data.hName,n=e.data.hChildren,i=e.data.hProperties;"string"==typeof t&&("element"===r.type?r.tagName=t:r={type:"element",tagName:t,properties:{},children:"children"in r?r.children:[r]}),"element"===r.type&&i&&Object.assign(r.properties,t8(i)),"children"in r&&r.children&&null!=n&&(r.children=n)}return r}function ry(e,t){let r=[],n=-1;for(t&&r.push({type:"text",value:"\n"});++n<e.length;)n&&r.push({type:"text",value:"\n"}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:"\n"}),r}function r_(e){let t=0,r=e.charCodeAt(t);for(;9===r||32===r;)t++,r=e.charCodeAt(t);return e.slice(t)}function rv(e,t){let r=function(e,t){let r=t||rf,n=new Map,i=new Map,a={all:function(e){let t=[];if("children"in e){let r=e.children,n=-1;for(;++n<r.length;){let i=a.one(r[n],e);if(i){if(n&&"break"===r[n-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=r_(i.value)),!Array.isArray(i)&&"element"===i.type)){let e=i.children[0];e&&"text"===e.type&&(e.value=r_(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:rg,definitionById:n,footnoteById:i,footnoteCounts:new Map,footnoteOrder:[],handlers:{...rd,...r.handlers},one:function(e,t){let r=e.type,n=a.handlers[r];if(rh.call(a.handlers,r)&&n)return n(a,e,t);if(a.options.passThrough&&a.options.passThrough.includes(r)){if("children"in e){let{children:t,...r}=e,n=t8(r);return n.children=a.all(e),n}return t8(e)}return(a.options.unknownHandler||function(e,t){let r=t.data||{},n="value"in t&&!(rh.call(r,"hProperties")||rh.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)})(a,e,t)},options:r,patch:rm,wrap:ry};return ro(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){let t="definition"===e.type?n:i,r=String(e.identifier).toUpperCase();t.has(r)||t.set(r,e)}}),a}(e,t),n=r.one(e,void 0),i=function(e){let t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||rt,n=e.options.footnoteBackLabel||rr,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[],l=-1;for(;++l<e.footnoteOrder.length;){let i=e.footnoteById.get(e.footnoteOrder[l]);if(!i)continue;let a=e.all(i),s=String(i.identifier).toUpperCase(),u=re(s.toLowerCase()),c=0,d=[],p=e.footnoteCounts.get(s);for(;void 0!==p&&++c<=p;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof r?r:r(l,c);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+u+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof n?n:n(l,c),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}let h=a[a.length-1];if(h&&"element"===h.type&&"p"===h.tagName){let e=h.children[h.children.length-1];e&&"text"===e.type?e.value+=" ":h.children.push({type:"text",value:" "}),h.children.push(...d)}else a.push(...d);let f={type:"element",tagName:"li",properties:{id:t+"fn-"+u},children:e.wrap(a,!0)};e.patch(i,f),o.push(f)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...t8(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:"\n"},i),a}function rb(e,t){return e&&"run"in e?async function(r,n){let i=rv(r,{file:n,...t});await e.run(i,n)}:function(r,n){return rv(r,{file:n,...e||t})}}function rx(e){if(e)throw e}var rw=r(9566);function rk(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}let rS=require("node:path");var rC=r(1708),rT=r.t(rC,2);function rE(e){return!!(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}let rA=require("node:url"),rI=["history","path","basename","stem","extname","dirname"];class rO{constructor(e){let t,r;t=e?rE(e)?{path:e}:"string"==typeof e||function(e){return!!(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":rC.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<rI.length;){let e=rI[n];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(r in t)rI.includes(r)||(this[r]=t[r])}get basename(){return"string"==typeof this.path?rS.basename(this.path):void 0}set basename(e){rP(e,"basename"),rN(e,"basename"),this.path=rS.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?rS.dirname(this.path):void 0}set dirname(e){rR(this.basename,"dirname"),this.path=rS.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?rS.extname(this.path):void 0}set extname(e){if(rN(e,"extname"),rR(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw Error("`extname` must start with `.`");if(e.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=rS.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){rE(e)&&(e=(0,rA.fileURLToPath)(e)),rP(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?rS.basename(this.path,this.extname):void 0}set stem(e){rP(e,"stem"),rN(e,"stem"),this.path=rS.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){let n=this.message(e,t,r);throw n.fatal=!0,n}info(e,t,r){let n=this.message(e,t,r);return n.fatal=void 0,n}message(e,t,r){let n=new ef(e,t,r);return this.path&&(n.name=this.path+":"+n.name,n.file=this.path),n.fatal=!1,this.messages.push(n),n}toString(e){return void 0===this.value?"":"string"==typeof this.value?this.value:new TextDecoder(e||void 0).decode(this.value)}}function rN(e,t){if(e&&e.includes(rS.sep))throw Error("`"+t+"` cannot be a path: did not expect `"+rS.sep+"`")}function rP(e,t){if(!e)throw Error("`"+t+"` cannot be empty")}function rR(e,t){if(!e)throw Error("Setting `"+t+"` requires `path` to be set too")}let rj=function(e){let t=this.constructor.prototype,r=t[e],n=function(){return r.apply(n,arguments)};return Object.setPrototypeOf(n,t),n},rL={}.hasOwnProperty;class rD extends rj{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){let e=[],t={run:function(...t){let r=-1,n=t.pop();if("function"!=typeof n)throw TypeError("Expected function as last argument, not "+n);!function i(a,...s){let o=e[++r],l=-1;if(a)return void n(a);for(;++l<t.length;)(null===s[l]||void 0===s[l])&&(s[l]=t[l]);t=s,o?(function(e,t){let r;return function(...t){let a,s=e.length>t.length;s&&t.push(n);try{a=e.apply(this,t)}catch(e){if(s&&r)throw e;return n(e)}s||(a&&a.then&&"function"==typeof a.then?a.then(i,n):a instanceof Error?n(a):i(a))};function n(e,...i){r||(r=!0,t(e,...i))}function i(e){n(null,e)}})(o,i)(...s):n(null,...s)}(null,...t)},use:function(r){if("function"!=typeof r)throw TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),t}};return t}()}copy(){let e=new rD,t=-1;for(;++t<this.attachers.length;){let r=this.attachers[t];e.use(...r)}return e.data(rw(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2==arguments.length?(rz("data",this.frozen),this.namespace[e]=t,this):rL.call(this.namespace,e)&&this.namespace[e]||void 0:e?(rz("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;for(;++this.freezeIndex<this.attachers.length;){let[e,...t]=this.attachers[this.freezeIndex];if(!1===t[0])continue;!0===t[0]&&(t[0]=void 0);let r=e.call(this,...t);"function"==typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let t=rU(e),r=this.parser||this.Parser;return rF("parse",r),r(String(t),t)}process(e,t){let r=this;return this.freeze(),rF("process",this.parser||this.Parser),rZ("process",this.compiler||this.Compiler),t?n(void 0,t):new Promise(n);function n(n,i){let a=rU(e),s=r.parse(a);function o(e,r){e||!r?i(e):n?n(r):t(void 0,r)}r.run(s,a,function(e,t,n){var i,a;if(e||!t||!n)return o(e);let s=r.stringify(t,n);"string"==typeof(i=s)||(a=i)&&"object"==typeof a&&"byteLength"in a&&"byteOffset"in a?n.value=s:n.result=s,o(e,n)})}}processSync(e){let t,r=!1;return this.freeze(),rF("processSync",this.parser||this.Parser),rZ("processSync",this.compiler||this.Compiler),this.process(e,function(e,n){r=!0,rx(e),t=n}),rq("processSync","process",r),t}run(e,t,r){r$(e),this.freeze();let n=this.transformers;return r||"function"!=typeof t||(r=t,t=void 0),r?i(void 0,r):new Promise(i);function i(i,a){let s=rU(t);n.run(e,s,function(t,n,s){let o=n||e;t?a(t):i?i(o):r(void 0,o,s)})}}runSync(e,t){let r,n=!1;return this.run(e,t,function(e,t){rx(e),r=t,n=!0}),rq("runSync","run",n),r}stringify(e,t){this.freeze();let r=rU(t),n=this.compiler||this.Compiler;return rZ("stringify",n),r$(e),n(e,r)}use(e,...t){let r=this.attachers,n=this.namespace;if(rz("use",this.frozen),null==e);else if("function"==typeof e)s(e,t);else if("object"==typeof e)Array.isArray(e)?a(e):i(e);else throw TypeError("Expected usable value, not `"+e+"`");return this;function i(e){if(!("plugins"in e)&&!("settings"in e))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(e.plugins),e.settings&&(n.settings=rw(!0,n.settings,e.settings))}function a(e){let t=-1;if(null==e);else if(Array.isArray(e))for(;++t<e.length;){var r=e[t];if("function"==typeof r)s(r,[]);else if("object"==typeof r)if(Array.isArray(r)){let[e,...t]=r;s(e,t)}else i(r);else throw TypeError("Expected usable value, not `"+r+"`")}else throw TypeError("Expected a list of plugins, not `"+e+"`")}function s(e,t){let n=-1,i=-1;for(;++n<r.length;)if(r[n][0]===e){i=n;break}if(-1===i)r.push([e,...t]);else if(t.length>0){let[n,...a]=t,s=r[i][1];rk(s)&&rk(n)&&(n=rw(!0,s,n)),r[i]=[e,n,...a]}}}}let rM=new rD().freeze();function rF(e,t){if("function"!=typeof t)throw TypeError("Cannot `"+e+"` without `parser`")}function rZ(e,t){if("function"!=typeof t)throw TypeError("Cannot `"+e+"` without `compiler`")}function rz(e,t){if(t)throw Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function r$(e){if(!rk(e)||"string"!=typeof e.type)throw TypeError("Expected node, got `"+e+"`")}function rq(e,t,r){if(!r)throw Error("`"+e+"` finished async. Use `"+t+"` instead")}function rU(e){var t;return(t=e)&&"object"==typeof t&&"message"in t&&"messages"in t?e:new rO(e)}let rB=[],rV={allowDangerousHtml:!0},rG=/^(https?|ircs?|mailto|xmpp)$/i,rH=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function rW(e){let t=function(e){let t=e.rehypePlugins||rB,r=e.remarkPlugins||rB,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...rV}:rV;return rM().use(tX).use(r).use(rb,n).use(t)}(e),r=function(e){let t=e.children||"",r=new rO;return"string"==typeof t&&(r.value=t),r}(e);return function(e,t){let r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||rJ;for(let e of rH)Object.hasOwn(t,e.from)&&(e.from,e.to&&e.to,e.id);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:"root"===e.type?e.children:[e]}),ro(e,function(e,t,i){if("raw"===e.type&&i&&"number"==typeof t)return s?i.children.splice(t,1):i.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in eA)if(Object.hasOwn(eA,t)&&Object.hasOwn(e.properties,t)){let r=e.properties[t],n=eA[t];(null===n||n.includes(e.tagName))&&(e.properties[t]=l(String(r||""),t,e))}}if("element"===e.type){let s=r?!r.includes(e.tagName):!!a&&a.includes(e.tagName);if(!s&&n&&"number"==typeof t&&(s=!n(e,t,i)),s&&i&&"number"==typeof t)return o&&e.children?i.children.splice(t,1,...e.children):i.children.splice(t,1),t}}),function(e,t){var r,n,i,a,s;let o;if(!t||void 0===t.Fragment)throw TypeError("Expected `Fragment` in options");let l=t.filePath||void 0;if(t.development){if("function"!=typeof t.jsxDEV)throw TypeError("Expected `jsxDEV` in options when `development: true`");r=l,n=t.jsxDEV,o=function(e,t,i,a){let s=Array.isArray(i.children),o=el(e);return n(t,i,a,s,{columnNumber:o?o.column-1:void 0,fileName:r,lineNumber:o?o.line:void 0},void 0)}}else{if("function"!=typeof t.jsx)throw TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw TypeError("Expected `jsxs` in production options");i=0,a=t.jsx,s=t.jsxs,o=function(e,t,r,n){let i=Array.isArray(r.children)?s:a;return n?i(t,r,n):i(t,r)}}let u={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:o,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:l,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?X:Q,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},c=ex(u,e,void 0);return c&&"string"!=typeof c?c:u.create(e,u.Fragment,{children:c||void 0},void 0)}(e,{Fragment:g.Fragment,components:i,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0})}(t.runSync(t.parse(r),r),e)}function rJ(e){let t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return -1===t||-1!==i&&t>i||-1!==r&&t>r||-1!==n&&t>n||rG.test(e.slice(0,t))?e:""}var rY=r(3669);function rK(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var rQ=["color"],rX=(0,y.forwardRef)(function(e,t){var r=e.color,n=rK(e,rQ);return(0,y.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,y.createElement)("path",{d:"M7.49991 0.877045C3.84222 0.877045 0.877075 3.84219 0.877075 7.49988C0.877075 11.1575 3.84222 14.1227 7.49991 14.1227C11.1576 14.1227 14.1227 11.1575 14.1227 7.49988C14.1227 3.84219 11.1576 0.877045 7.49991 0.877045ZM1.82708 7.49988C1.82708 4.36686 4.36689 1.82704 7.49991 1.82704C10.6329 1.82704 13.1727 4.36686 13.1727 7.49988C13.1727 10.6329 10.6329 13.1727 7.49991 13.1727C4.36689 13.1727 1.82708 10.6329 1.82708 7.49988ZM10.1589 5.53774C10.3178 5.31191 10.2636 5.00001 10.0378 4.84109C9.81194 4.68217 9.50004 4.73642 9.34112 4.96225L6.51977 8.97154L5.35681 7.78706C5.16334 7.59002 4.84677 7.58711 4.64973 7.78058C4.45268 7.97404 4.44978 8.29061 4.64325 8.48765L6.22658 10.1003C6.33054 10.2062 6.47617 10.2604 6.62407 10.2483C6.77197 10.2363 6.90686 10.1591 6.99226 10.0377L10.1589 5.53774Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),r0=["color"],r1=(0,y.forwardRef)(function(e,t){var r=e.color,n=rK(e,r0);return(0,y.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,y.createElement)("path",{d:"M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),r2=["color"],r4=(0,y.forwardRef)(function(e,t){var r=e.color,n=rK(e,r2);return(0,y.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,y.createElement)("path",{d:"M7.50009 0.877014C3.84241 0.877014 0.877258 3.84216 0.877258 7.49984C0.877258 11.1575 3.8424 14.1227 7.50009 14.1227C11.1578 14.1227 14.1229 11.1575 14.1229 7.49984C14.1229 3.84216 11.1577 0.877014 7.50009 0.877014ZM1.82726 7.49984C1.82726 4.36683 4.36708 1.82701 7.50009 1.82701C10.6331 1.82701 13.1729 4.36683 13.1729 7.49984C13.1729 10.6328 10.6331 13.1727 7.50009 13.1727C4.36708 13.1727 1.82726 10.6328 1.82726 7.49984ZM8 4.50001C8 4.22387 7.77614 4.00001 7.5 4.00001C7.22386 4.00001 7 4.22387 7 4.50001V7.50001C7 7.63262 7.05268 7.7598 7.14645 7.85357L9.14645 9.85357C9.34171 10.0488 9.65829 10.0488 9.85355 9.85357C10.0488 9.65831 10.0488 9.34172 9.85355 9.14646L8 7.29291V4.50001Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),r9=["color"],r5=(0,y.forwardRef)(function(e,t){var r=e.color,n=rK(e,r9);return(0,y.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,y.createElement)("path",{d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704ZM9.85358 5.14644C10.0488 5.3417 10.0488 5.65829 9.85358 5.85355L8.20713 7.49999L9.85358 9.14644C10.0488 9.3417 10.0488 9.65829 9.85358 9.85355C9.65832 10.0488 9.34173 10.0488 9.14647 9.85355L7.50002 8.2071L5.85358 9.85355C5.65832 10.0488 5.34173 10.0488 5.14647 9.85355C4.95121 9.65829 4.95121 9.3417 5.14647 9.14644L6.79292 7.49999L5.14647 5.85355C4.95121 5.65829 4.95121 5.3417 5.14647 5.14644C5.34173 4.95118 5.65832 4.95118 5.85358 5.14644L7.50002 6.79289L9.14647 5.14644C9.34173 4.95118 9.65832 4.95118 9.85358 5.14644Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),r3=["color"],r6=(0,y.forwardRef)(function(e,t){var r=e.color,n=rK(e,r3);return(0,y.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,y.createElement)("path",{d:"M7.50005 1.04999C7.74858 1.04999 7.95005 1.25146 7.95005 1.49999V8.41359L10.1819 6.18179C10.3576 6.00605 10.6425 6.00605 10.8182 6.18179C10.994 6.35753 10.994 6.64245 10.8182 6.81819L7.81825 9.81819C7.64251 9.99392 7.35759 9.99392 7.18185 9.81819L4.18185 6.81819C4.00611 6.64245 4.00611 6.35753 4.18185 6.18179C4.35759 6.00605 4.64251 6.00605 4.81825 6.18179L7.05005 8.41359V1.49999C7.05005 1.25146 7.25152 1.04999 7.50005 1.04999ZM2.5 10C2.77614 10 3 10.2239 3 10.5V12C3 12.5539 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2239 12.2239 10 12.5 10C12.7761 10 13 10.2239 13 10.5V12C13 13.1041 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2239 2.22386 10 2.5 10Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))});function r7({guardrailResult:e}){let t,r,n,[i,a]=(0,y.useState)(!1),s="IN_PROGRESS"===e.status?"PENDING":"NONE"===e.category?"PASS":"FAIL";switch(s){case"PENDING":default:t=r4,r="Pending",n="text-gray-600";break;case"PASS":t=rX,r="Pass",n="text-green-600";break;case"FAIL":t=r5,r="Fail",n="text-red-500"}return(0,g.jsxs)("div",{className:"text-xs",children:[(0,g.jsxs)("div",{onClick:()=>{"PENDING"!==s&&a(!i)},className:`inline-flex items-center gap-1 rounded ${"PENDING"!==s?"cursor-pointer":""}`,children:["Guardrail:",(0,g.jsxs)("div",{className:`flex items-center gap-1 ${n}`,children:[(0,g.jsx)(t,{})," ",r]})]}),"PENDING"!==s&&e.category&&e.rationale&&(0,g.jsx)("div",{className:`overflow-hidden transition-all duration-300 ${i?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:(0,g.jsxs)("div",{className:"pt-2 text-xs",children:[(0,g.jsxs)("strong",{children:["Moderation Category: ",e.category.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")]}),(0,g.jsx)("div",{children:e.rationale}),e.testText&&(0,g.jsx)("blockquote",{className:"mt-1 border-l-2 border-gray-300 pl-2 text-gray-400",children:e.testText})]})})]})}let r8=function({userText:e,setUserText:t,onSendMessage:r,canSend:n,downloadRecording:i}){let{transcriptItems:a,toggleTranscriptItemExpand:s}=(0,rY.c)(),o=(0,y.useRef)(null),[l,u]=(0,y.useState)([]),[c,d]=(0,y.useState)(!1),p=(0,y.useRef)(null),h=async()=>{if(o.current)try{await navigator.clipboard.writeText(o.current.innerText),d(!0),setTimeout(()=>d(!1),1500)}catch(e){console.error("Failed to copy transcript:",e)}};return(0,g.jsxs)("div",{className:"flex flex-col flex-1 bg-white min-h-0 rounded-xl",children:[(0,g.jsxs)("div",{className:"flex flex-col flex-1 min-h-0",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between px-6 py-3 sticky top-0 z-10 text-base border-b bg-white rounded-t-xl",children:[(0,g.jsx)("span",{className:"font-semibold",children:"Transcript"}),(0,g.jsxs)("div",{className:"flex gap-x-2",children:[(0,g.jsxs)("button",{onClick:h,className:"w-24 text-sm px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300 flex items-center justify-center gap-x-1",children:[(0,g.jsx)(r1,{}),c?"Copied!":"Copy"]}),(0,g.jsxs)("button",{onClick:i,className:"w-40 text-sm px-3 py-1 rounded-md bg-gray-200 hover:bg-gray-300 flex items-center justify-center gap-x-1",children:[(0,g.jsx)(r6,{}),(0,g.jsx)("span",{children:"Download Audio"})]})]})]}),(0,g.jsx)("div",{ref:o,className:"overflow-auto p-4 flex flex-col gap-y-4 h-full",children:[...a].sort((e,t)=>e.createdAtMs-t.createdAtMs).map(e=>{let{itemId:t,type:r,role:n,data:i,expanded:a,timestamp:o,title:l="",isHidden:u,guardrailResult:c}=e;if(u)return null;if("MESSAGE"===r){let e="user"===n,r=`flex justify-end flex-col ${e?"items-end":"items-start"}`,i=`max-w-lg p-3 ${e?"bg-gray-900 text-gray-100":"bg-gray-100 text-black"}`,a=l.startsWith("[")&&l.endsWith("]"),s=a?l.slice(1,-1):l;return(0,g.jsx)("div",{className:r,children:(0,g.jsxs)("div",{className:"max-w-lg",children:[(0,g.jsxs)("div",{className:`${i} rounded-t-xl ${c?"":"rounded-b-xl"}`,children:[(0,g.jsx)("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"} font-mono`,children:o}),(0,g.jsx)("div",{className:`whitespace-pre-wrap ${a?"italic text-gray-400":""}`,children:(0,g.jsx)(rW,{children:s})})]}),c&&(0,g.jsx)("div",{className:"bg-gray-200 px-3 py-2 rounded-b-xl",children:(0,g.jsx)(r7,{guardrailResult:c})})]})},t)}return"BREADCRUMB"===r?(0,g.jsxs)("div",{className:"flex flex-col justify-start items-start text-gray-500 text-sm",children:[(0,g.jsx)("span",{className:"text-xs font-mono",children:o}),(0,g.jsxs)("div",{className:`whitespace-pre-wrap flex items-center font-mono text-sm text-gray-800 ${i?"cursor-pointer":""}`,onClick:()=>i&&s(t),children:[i&&(0,g.jsx)("span",{className:`text-gray-400 mr-1 transform transition-transform duration-200 select-none font-mono ${a?"rotate-90":"rotate-0"}`,children:"▶"}),l]}),a&&i&&(0,g.jsx)("div",{className:"text-gray-800 text-left",children:(0,g.jsx)("pre",{className:"border-l-2 ml-1 border-gray-200 whitespace-pre-wrap break-words font-mono text-xs mb-2 mt-2 pl-2",children:JSON.stringify(i,null,2)})})]},t):(0,g.jsxs)("div",{className:"flex justify-center text-gray-500 text-sm italic font-mono",children:["Unknown item type: ",r," ",(0,g.jsx)("span",{className:"ml-2 text-xs",children:o})]},t)})})]}),(0,g.jsxs)("div",{className:"p-4 flex items-center gap-x-2 flex-shrink-0 border-t border-gray-200",children:[(0,g.jsx)("input",{ref:p,type:"text",value:e,onChange:e=>t(e.target.value),onKeyDown:e=>{"Enter"===e.key&&n&&r()},className:"flex-1 px-4 py-2 focus:outline-none",placeholder:"Type a message..."}),(0,g.jsx)("button",{onClick:r,disabled:!n||!e.trim(),className:"bg-gray-900 text-white rounded-full px-2 py-2 disabled:opacity-50",children:(0,g.jsx)(x(),{src:"arrow.svg",alt:"Send",width:24,height:24})})]})]})};var ne=r(1313);let nt=function({isExpanded:e}){let[t,r]=(0,y.useState)([]),n=(0,y.useRef)(null),{loggedEvents:i,toggleExpand:a}=(0,ne._)(),s=e=>"client"===e?{symbol:"▲",color:"#7f5af0"}:"server"===e?{symbol:"▼",color:"#2cb67d"}:{symbol:"•",color:"#555"};return(0,g.jsx)("div",{className:(e?"w-1/2 overflow-auto":"w-0 overflow-hidden opacity-0")+" transition-all rounded-xl duration-200 ease-in-out flex-col bg-white",ref:n,children:e&&(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"flex items-center justify-between px-6 py-3.5 sticky top-0 z-10 text-base border-b bg-white rounded-t-xl",children:(0,g.jsx)("span",{className:"font-semibold",children:"Logs"})}),(0,g.jsx)("div",{children:i.map((e,t)=>{let r=s(e.direction),n=e.eventName.toLowerCase().includes("error")||e.eventData?.response?.status_details?.error!=null;return(0,g.jsxs)("div",{className:"border-t border-gray-200 py-2 px-6 font-mono",children:[(0,g.jsxs)("div",{onClick:()=>a(e.id),className:"flex items-center justify-between cursor-pointer",children:[(0,g.jsxs)("div",{className:"flex items-center flex-1",children:[(0,g.jsx)("span",{style:{color:r.color},className:"ml-1 mr-2",children:r.symbol}),(0,g.jsx)("span",{className:"flex-1 text-sm "+(n?"text-red-600":"text-gray-800"),children:e.eventName})]}),(0,g.jsx)("div",{className:"text-gray-500 ml-1 text-xs whitespace-nowrap",children:e.timestamp})]}),e.expanded&&e.eventData&&(0,g.jsx)("div",{className:"text-gray-800 text-left",children:(0,g.jsx)("pre",{className:"border-l-2 ml-1 border-gray-200 whitespace-pre-wrap break-words font-mono text-xs mb-2 mt-2 pl-2",children:JSON.stringify(e.eventData,null,2)})})]},`${e.id}-${t}`)})})]})})},nr=function({sessionStatus:e,onToggleConnection:t,isPTTActive:r,setIsPTTActive:n,isPTTUserSpeaking:i,handleTalkButtonDown:a,handleTalkButtonUp:s,isEventsPaneExpanded:o,setIsEventsPaneExpanded:l,isAudioPlaybackEnabled:u,setIsAudioPlaybackEnabled:c,codec:d,onCodecChange:p}){let h="CONNECTED"===e,f="CONNECTING"===e;return(0,g.jsxs)("div",{className:"p-4 flex flex-row items-center justify-center gap-x-8",children:[(0,g.jsx)("button",{onClick:t,className:function(){let e="text-white text-base p-2 w-36 rounded-md h-full",t=f?"cursor-not-allowed":"cursor-pointer";return h?`bg-red-600 hover:bg-red-700 ${t} ${e}`:`bg-black hover:bg-gray-900 ${t} ${e}`}(),disabled:f,children:h?"Disconnect":f?"Connecting...":"Connect"}),(0,g.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,g.jsx)("input",{id:"push-to-talk",type:"checkbox",checked:r,onChange:e=>n(e.target.checked),disabled:!h,className:"w-4 h-4"}),(0,g.jsx)("label",{htmlFor:"push-to-talk",className:"flex items-center cursor-pointer",children:"Push to talk"}),(0,g.jsx)("button",{onMouseDown:a,onMouseUp:s,onTouchStart:a,onTouchEnd:s,disabled:!r,className:(i?"bg-gray-300":"bg-gray-200")+" py-1 px-4 cursor-pointer rounded-md"+(r?"":" bg-gray-100 text-gray-400"),children:"Talk"})]}),(0,g.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,g.jsx)("input",{id:"audio-playback",type:"checkbox",checked:u,onChange:e=>c(e.target.checked),disabled:!h,className:"w-4 h-4"}),(0,g.jsx)("label",{htmlFor:"audio-playback",className:"flex items-center cursor-pointer",children:"Audio playback"})]}),(0,g.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,g.jsx)("input",{id:"logs",type:"checkbox",checked:o,onChange:e=>l(e.target.checked),className:"w-4 h-4"}),(0,g.jsx)("label",{htmlFor:"logs",className:"flex items-center cursor-pointer",children:"Logs"})]}),(0,g.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,g.jsx)("div",{children:"Codec:"}),(0,g.jsxs)("select",{id:"codec-select",value:d,onChange:e=>{p(e.target.value)},className:"border border-gray-300 rounded-md px-2 py-1 focus:outline-none cursor-pointer",children:[(0,g.jsx)("option",{value:"opus",children:"Opus (48 kHz)"}),(0,g.jsx)("option",{value:"pcmu",children:"PCMU (8 kHz)"}),(0,g.jsx)("option",{value:"pcma",children:"PCMA (8 kHz)"})]})]})]})},nn={version:"0.0.5"};function ni(e){return"system"===e.role?e:"assistant"===e.role?{...e,content:e.content.map(e=>"audio"===e.type?{...e,audio:null}:e)}:"user"===e.role?{...e,content:e.content.map(e=>"input_audio"===e.type?{...e,audio:null}:e)}:e}let na={"User-Agent":`Agents/JavaScript ${nn.version}`,"X-OpenAI-Agents-SDK":`openai-agents-sdk.${nn.version}`},ns=(nn.version,require("node:events")),no=require("node:crypto");var nl=r(7075),nu=r(7830);let nc=require("node:async_hooks");async function nd(e){try{return[null,await e()]}catch(e){return[e,null]}}let np=Symbol("Let zodToJsonSchema decide on which parser to use"),nh={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},nf=e=>"string"==typeof e?{...nh,basePath:["#"],definitions:{},name:e}:{...nh,basePath:["#"],definitions:{},...e},nm=e=>"_def"in e?e._def:e,ng=e=>{let t=nf(e),r=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(t.definitions).map(([e,r])=>[nm(r),{def:nm(r),path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}};var ny=r(9275);function n_(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function nv(e,t,r,n,i){e[t]=r,n_(e,t,n,i)}let nb=(e,t)=>nL(e.innerType._def,t),nx=(e,t)=>{let r={type:"integer",format:"unix-time"};if("openApi3"===t.target)return r;for(let n of e.checks)switch(n.kind){case"min":nv(r,"minimum",n.value,n.message,t);break;case"max":nv(r,"maximum",n.value,n.message,t)}return r},nw=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e,nk={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===n&&(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function nS(e,t){let r={type:"string"};function n(e){return"escape"===t.patternStrategy?nC(e):e}if(e.checks)for(let i of e.checks)switch(i.kind){case"min":nv(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,i.value):i.value,i.message,t);break;case"max":nv(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,i.value):i.value,i.message,t);break;case"email":switch(t.emailStrategy){case"format:email":nT(r,"email",i.message,t);break;case"format:idn-email":nT(r,"idn-email",i.message,t);break;case"pattern:zod":nE(r,nk.email,i.message,t)}break;case"url":nT(r,"uri",i.message,t);break;case"uuid":nT(r,"uuid",i.message,t);break;case"regex":nE(r,i.regex,i.message,t);break;case"cuid":nE(r,nk.cuid,i.message,t);break;case"cuid2":nE(r,nk.cuid2,i.message,t);break;case"startsWith":nE(r,RegExp(`^${n(i.value)}`),i.message,t);break;case"endsWith":nE(r,RegExp(`${n(i.value)}$`),i.message,t);break;case"datetime":nT(r,"date-time",i.message,t);break;case"date":nT(r,"date",i.message,t);break;case"time":nT(r,"time",i.message,t);break;case"duration":nT(r,"duration",i.message,t);break;case"length":nv(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,i.value):i.value,i.message,t),nv(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,i.value):i.value,i.message,t);break;case"includes":nE(r,RegExp(n(i.value)),i.message,t);break;case"ip":"v6"!==i.version&&nT(r,"ipv4",i.message,t),"v4"!==i.version&&nT(r,"ipv6",i.message,t);break;case"emoji":nE(r,nk.emoji,i.message,t);break;case"ulid":nE(r,nk.ulid,i.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":nT(r,"binary",i.message,t);break;case"contentEncoding:base64":nv(r,"contentEncoding","base64",i.message,t);break;case"pattern:zod":nE(r,nk.base64,i.message,t)}break;case"nanoid":nE(r,nk.nanoid,i.message,t)}return r}let nC=e=>Array.from(e).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),nT=(e,t,r,n)=>{e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):nv(e,"format",t,r,n)},nE=(e,t,r,n)=>{e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:nA(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):nv(e,"pattern",nA(t,n),r,n)},nA=(e,t)=>{let r="function"==typeof e?e():e;if(!t.applyRegexFlags||!r.flags)return r.source;let n={i:r.flags.includes("i"),m:r.flags.includes("m"),s:r.flags.includes("s")},i=n.i?r.source.toLowerCase():r.source,a="",s=!1,o=!1,l=!1;for(let e=0;e<i.length;e++){if(s){a+=i[e],s=!1;continue}if(n.i){if(o){if(i[e].match(/[a-z]/)){l?(a+=i[e],a+=`${i[e-2]}-${i[e]}`.toUpperCase(),l=!1):"-"===i[e+1]&&i[e+2]?.match(/[a-z]/)?(a+=i[e],l=!0):a+=`${i[e]}${i[e].toUpperCase()}`;continue}}else if(i[e].match(/[a-z]/)){a+=`[${i[e]}${i[e].toUpperCase()}]`;continue}}if(n.m){if("^"===i[e]){a+=`(^|(?<=[\r
]))`;continue}else if("$"===i[e]){a+=`($|(?=[\r
]))`;continue}}if(n.s&&"."===i[e]){a+=o?`${i[e]}\r
`:`[${i[e]}\r
]`;continue}a+=i[e],"\\"===i[e]?s=!0:o&&"]"===i[e]?o=!1:o||"["!==i[e]||(o=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),r.source}return a};function nI(e,t){if("openApi3"===t.target&&e.keyType?._def.typeName===ny.kY.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,n)=>({...r,[n]:nL(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",n]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:nL(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===ny.kY.ZodString&&e.keyType._def.checks?.length){let n=Object.entries(nS(e.keyType._def,t)).reduce((e,[t,r])=>"type"===t?e:{...e,[t]:r},{});return{...r,propertyNames:n}}return e.keyType?._def.typeName===ny.kY.ZodEnum?{...r,propertyNames:{enum:e.keyType._def.values}}:r}let nO={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},nN=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>nL(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0},nP=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return nL(e.innerType._def,t);let r=nL(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}},nR=(e,t)=>{if("input"===t.pipeStrategy)return nL(e.in._def,t);if("output"===t.pipeStrategy)return nL(e.out._def,t);let r=nL(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=nL(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(e=>void 0!==e)}},nj=(e,t)=>nL(e.innerType._def,t);function nL(e,t,r=!1){let n=t.seen.get(e);if(t.override){let i=t.override?.(e,t,n,r);if(i!==np)return i}if(n&&!r){let e=nD(n,t);if(void 0!==e)return"$ref"in e&&t.seenRefs.add(e.$ref),e}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let a=nF(e,e.typeName,t,r);return a&&nZ(e,t,a),i.jsonSchema=a,a}let nD=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"extract-to-root":let r=e.path.slice(t.basePath.length+1).join("_");return r!==t.name&&"duplicate-ref"===t.nameStrategy&&(t.definitions[r]=e.def),{$ref:[...t.basePath,t.definitionPath,r].join("/")};case"relative":return{$ref:nM(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},nM=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},nF=(e,t,r,n)=>{switch(t){case ny.kY.ZodString:return nS(e,r);case ny.kY.ZodNumber:return function(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",n_(r,"type",n.message,t);break;case"min":"jsonSchema7"===t.target?n.inclusive?nv(r,"minimum",n.value,n.message,t):nv(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),nv(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?nv(r,"maximum",n.value,n.message,t):nv(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),nv(r,"maximum",n.value,n.message,t));break;case"multipleOf":nv(r,"multipleOf",n.value,n.message,t)}return r}(e,r);case ny.kY.ZodObject:return function(e,t){let r={type:"object",...Object.entries(e.shape()).reduce((e,[r,n])=>{if(void 0===n||void 0===n._def)return e;let i=[...t.currentPath,"properties",r],a=nL(n._def,{...t,currentPath:i,propertyPath:i});if(void 0===a)return e;if(t.openaiStrictMode&&n.isOptional()&&!n.isNullable()&&void 0===n._def?.defaultValue)throw Error(`Zod field at \`${i.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);return{properties:{...e.properties,[r]:a},required:n.isOptional()&&!t.openaiStrictMode?e.required:[...e.required,r]}},{properties:{},required:[]}),additionalProperties:"strict"===t.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:nL(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:nL(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0};return r.required.length||delete r.required,r}(e,r);case ny.kY.ZodBigInt:return function(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":"jsonSchema7"===t.target?n.inclusive?nv(r,"minimum",n.value,n.message,t):nv(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),nv(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?nv(r,"maximum",n.value,n.message,t):nv(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),nv(r,"maximum",n.value,n.message,t));break;case"multipleOf":nv(r,"multipleOf",n.value,n.message,t)}return r}(e,r);case ny.kY.ZodBoolean:return{type:"boolean"};case ny.kY.ZodDate:return function e(t,r,n){let i=n??r.dateStrategy;if(Array.isArray(i))return{anyOf:i.map((n,i)=>e(t,r,n))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return nx(t,r)}}(e,r);case ny.kY.ZodUndefined:return{not:{}};case ny.kY.ZodNull:return"openApi3"===r.target?{enum:["null"],nullable:!0}:{type:"null"};case ny.kY.ZodArray:return function(e,t){let r={type:"array"};return e.type?._def?.typeName!==ny.kY.ZodAny&&(r.items=nL(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&nv(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&nv(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(nv(r,"minItems",e.exactLength.value,e.exactLength.message,t),nv(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}(e,r);case ny.kY.ZodUnion:case ny.kY.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return nN(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(e=>e._def.typeName in nO&&(!e._def.checks||!e._def.checks.length))){let e=r.reduce((e,t)=>{let r=nO[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(r.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=r.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===r.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:r.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(r.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:r.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return nN(e,t)}(e,r);case ny.kY.ZodIntersection:return function(e,t){let r=[nL(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),nL(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),n="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,i=[];return r.forEach(e=>{if(nw(e))i.push(...e.allOf),void 0===e.unevaluatedProperties&&(n=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...n}=e;t=n}else n=void 0;i.push(t)}}),i.length?{allOf:i,...n}:void 0}(e,r);case ny.kY.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,r)=>nL(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:nL(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,r)=>nL(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}(e,r);case ny.kY.ZodRecord:return nI(e,r);case ny.kY.ZodLiteral:return function(e,t){let r=typeof e.value;return"bigint"!==r&&"number"!==r&&"boolean"!==r&&"string"!==r?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===r?"integer":r,enum:[e.value]}:{type:"bigint"===r?"integer":r,const:e.value}}(e,r);case ny.kY.ZodEnum:return{type:"string",enum:[...e.values]};case ny.kY.ZodNativeEnum:return function(e){let t=e.values,r=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),n=Array.from(new Set(r.map(e=>typeof e)));return{type:1===n.length?"string"===n[0]?"string":"number":["string","number"],enum:r}}(e);case ny.kY.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target||"property"===t.nullableStrategy?{type:nO[e.innerType._def.typeName],nullable:!0}:{type:[nO[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){let r=nL(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}let r=nL(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}(e,r);case ny.kY.ZodOptional:return nP(e,r);case ny.kY.ZodMap:return function(e,t){return"record"===t.mapStrategy?nI(e,t):{type:"array",maxItems:125,items:{type:"array",items:[nL(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},nL(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,r);case ny.kY.ZodSet:return function(e,t){let r={type:"array",uniqueItems:!0,items:nL(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&nv(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&nv(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}(e,r);case ny.kY.ZodLazy:return nL(e.getter()._def,r);case ny.kY.ZodPromise:return nL(e.type._def,r);case ny.kY.ZodNaN:case ny.kY.ZodNever:return{not:{}};case ny.kY.ZodEffects:return function(e,t,r){return"input"===t.effectStrategy?nL(e.schema._def,t,r):{}}(e,r,n);case ny.kY.ZodAny:case ny.kY.ZodUnknown:return{};case ny.kY.ZodDefault:return function(e,t){return{...nL(e.innerType._def,t),default:e.defaultValue()}}(e,r);case ny.kY.ZodBranded:return nL(e.type._def,r);case ny.kY.ZodReadonly:return nj(e,r);case ny.kY.ZodCatch:return nb(e,r);case ny.kY.ZodPipeline:return nR(e,r);case ny.kY.ZodFunction:case ny.kY.ZodVoid:case ny.kY.ZodSymbol:default:return}},nZ=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),nz=(e,t)=>{let r=ng(t),n="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,i=nL(e._def,void 0===n?r:{...r,currentPath:[...r.basePath,r.definitionPath,n]},!1)??{},a="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==a&&(i.title=a);let s=(()=>{if(function(e){if(!e)return!0;for(let t in e)return!1;return!0}(r.definitions))return;let e={},t=new Set;for(let n=0;n<500;n++){let n=Object.entries(r.definitions).filter(([e])=>!t.has(e));if(0===n.length)break;for(let[i,a]of n)e[i]=nL(nm(a),{...r,currentPath:[...r.basePath,r.definitionPath,i]},!0)??{},t.add(i)}return e})(),o=void 0===n?s?{...i,[r.definitionPath]:s}:i:"duplicate-ref"===r.nameStrategy?{...i,...s||r.seenRefs.size?{[r.definitionPath]:{...s,...r.seenRefs.size?{[n]:i}:void 0}}:void 0}:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,n].join("/"),[r.definitionPath]:{...s,[n]:i}};return"jsonSchema7"===r.target?o.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===r.target&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o};function n$(e,t){return nz(e,{openaiStrictMode:!0,name:t.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}class nq extends Error{state;constructor(e,t){super(e),this.state=t}}class nU extends nq{}class nB extends nq{}class nV extends nq{}class nG extends nq{}class nH extends nq{error;constructor(e,t,r){super(e,r),this.error=t}}class nW extends nq{error;constructor(e,t,r){super(e,r),this.error=t}}class nJ extends nq{result;constructor(e,t,r){super(e,r),this.result=t}}class nY extends nq{result;constructor(e,t,r){super(e,r),this.result=t}}function nK(e){return"object"==typeof e&&null!==e&&"_def"in e&&"object"==typeof e._def&&null!==e._def&&"typeName"in e._def&&"ZodObject"===e._def.typeName}function nQ(e){if(0===(e=(e=e.replace(/\s/g,"_")).replace(/[^a-zA-Z0-9]/g,"_")).length)throw Error("Tool name cannot be empty");return e}function nX(e,t){if(nK(e)){var r;let n=function(e,{parser:t,callback:r}){let n={...e};return Object.defineProperties(n,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:t,enumerable:!1},$callback:{value:r,enumerable:!1}}),n}({type:"function",name:(r={name:t,parameters:e,function:()=>{},description:""}).name,parameters:n$(r.parameters,{name:r.name}),strict:!0,...r.description?{description:r.description}:void 0},{callback:r.function,parser:e=>r.parameters.parse(JSON.parse(e))});return{schema:n.parameters,parser:n.$parseRaw}}if("object"==typeof e&&null!==e)return{schema:e,parser:e=>JSON.parse(e)};throw new nG("Input type is not a ZodObject or a valid JSON schema")}function n0(e){if("text"===e)return"text";if(nK(e)){var t;let r=(t="output",function(e,t){let r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),r}({type:"json_schema",...void 0,name:t,strict:!0,schema:n$(e,{name:t})},t=>e.parse(JSON.parse(t))));return{type:r.type,name:r.name,strict:r.strict||!1,schema:r.schema}}return e}var n1=r(1268);function n2(e){let t=aO();return void 0!==t&&("true"===t[e]||"1"===t[e])}let n4={get disabled(){return n2("OPENAI_AGENTS_DISABLE_TRACING")}},n9={get dontLogModelData(){return n2("OPENAI_AGENTS_DONT_LOG_MODEL_DATA")},get dontLogToolData(){return n2("OPENAI_AGENTS_DONT_LOG_TOOL_DATA")}},n5=n9.dontLogModelData,n3=n9.dontLogToolData;function n6(e="openai-agents"){return{namespace:e,debug:n1(e),error:console.error,warn:console.warn,dontLogModelData:n5,dontLogToolData:n3}}let n7=n6("openai-agents:core");function n8(e){if(null==e);else if("string"==typeof e)return e;else if("object"==typeof e)try{return JSON.stringify(e)}catch(e){return"[object with circular references]"}return String(e)}function ie(e,t){let r=t instanceof Error?t.toString():String(t);return`An error occurred while running the tool. Please try again. Error: ${r}`}function it(e){let t=e.name?nQ(e.name):nQ(e.execute.name),r=void 0===e.errorFunction?ie:e.errorFunction;if(!t)throw Error("Tool name cannot be empty. Either name your function or provide a name in the options.");let n=e.strict??!0;if(!n&&nK(e.parameters))throw new nG("Strict mode is required for Zod parameters");let{parser:i,schema:a}=nX(e.parameters,t);async function s(r,n){let[a,s]=await nd(()=>i(n));if(null!==a)throw n7.dontLogToolData?n7.debug(`Invalid JSON input for tool ${t}`):n7.debug(`Invalid JSON input for tool ${t}: ${n}`),new nV("Invalid JSON input for tool");n7.dontLogToolData?n7.debug(`Invoking tool ${t}`):n7.debug(`Invoking tool ${t} with input ${n}`);let o=await e.execute(s,r),l=n8(o);return n7.dontLogToolData?n7.debug(`Tool ${t} completed`):n7.debug(`Tool ${t} returned: ${l}`),o}async function o(e,n){return s(e,n).catch(n=>{if(r){let i=aL();return i?.setError({message:"Error running tool (non-fatal)",data:{tool_name:t,error:n.toString()}}),r(e,n)}throw n})}let l="function"==typeof e.needsApproval?e.needsApproval:async()=>"boolean"==typeof e.needsApproval&&e.needsApproval;return{type:"function",name:t,description:e.description,parameters:a,strict:n,invoke:o,needsApproval:l}}!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(c||(c={})),(d||(d={})).mergeShapes=(e,t)=>({...e,...t});let ir=c.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ii=e=>{switch(typeof e){case"undefined":return ir.undefined;case"string":return ir.string;case"number":return Number.isNaN(e)?ir.nan:ir.number;case"boolean":return ir.boolean;case"function":return ir.function;case"bigint":return ir.bigint;case"symbol":return ir.symbol;case"object":if(Array.isArray(e))return ir.array;if(null===e)return ir.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return ir.promise;if("undefined"!=typeof Map&&e instanceof Map)return ir.map;if("undefined"!=typeof Set&&e instanceof Set)return ir.set;if("undefined"!=typeof Date&&e instanceof Date)return ir.date;return ir.object;default:return ir.unknown}},ia=c.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class is extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof is))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,c.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}is.create=e=>new is(e);let io=(e,t)=>{let r;switch(e.code){case ia.invalid_type:r=e.received===ir.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case ia.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,c.jsonStringifyReplacer)}`;break;case ia.unrecognized_keys:r=`Unrecognized key(s) in object: ${c.joinValues(e.keys,", ")}`;break;case ia.invalid_union:r="Invalid input";break;case ia.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${c.joinValues(e.options)}`;break;case ia.invalid_enum_value:r=`Invalid enum value. Expected ${c.joinValues(e.options)}, received '${e.received}'`;break;case ia.invalid_arguments:r="Invalid function arguments";break;case ia.invalid_return_type:r="Invalid function return type";break;case ia.invalid_date:r="Invalid date";break;case ia.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:c.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case ia.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case ia.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case ia.custom:r="Invalid input";break;case ia.invalid_intersection_types:r="Intersection results could not be merged";break;case ia.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ia.not_finite:r="Number must be finite";break;default:r=t.defaultError,c.assertNever(e)}return{message:r}},il=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function iu(e,t){let r=il({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,io,io==io?void 0:io].filter(e=>!!e)});e.common.issues.push(r)}class ic{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return id;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return ic.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return id;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let id=Object.freeze({status:"aborted"}),ip=e=>({status:"dirty",value:e}),ih=e=>({status:"valid",value:e}),im=e=>"aborted"===e.status,ig=e=>"dirty"===e.status,iy=e=>"valid"===e.status,i_=e=>"undefined"!=typeof Promise&&e instanceof Promise;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(p||(p={}));class iv{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let ib=(e,t)=>{if(iy(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new is(e.common.issues);return this._error=t,this._error}}};function ix(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:a}=e;return"invalid_enum_value"===t.code?{message:a??i.defaultError}:void 0===i.data?{message:a??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:a??r??i.defaultError}},description:i}}class iw{get description(){return this._def.description}_getType(e){return ii(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ii(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ic,ctx:{common:e.parent.common,data:e.data,parsedType:ii(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(i_(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ii(e)},n=this._parseSync({data:e,path:r.path,parent:r});return ib(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ii(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return iy(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>iy(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ii(e)},n=this._parse({data:e,path:r.path,parent:r});return ib(r,await (i_(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),a=()=>n.addIssue({code:ia.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new aa({schema:this,typeName:h.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return as.create(this,this._def)}nullable(){return ao.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return iQ.create(this)}promise(){return ai.create(this,this._def)}or(e){return i0.create([this,e],this._def)}and(e){return i4.create(this,e,this._def)}transform(e){return new aa({...ix(this._def),schema:this,typeName:h.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new al({...ix(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:h.ZodDefault})}brand(){return new ad({typeName:h.ZodBranded,type:this,...ix(this._def)})}catch(e){return new au({...ix(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:h.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return ap.create(this,e)}readonly(){return ah.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let ik=/^c[^\s-]{8,}$/i,iS=/^[0-9a-z]+$/,iC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iE=/^[a-z0-9_-]{21}$/i,iA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,iI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,iN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ij=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,iD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",iF=RegExp(`^${iM}$`);function iZ(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}class iz extends iw{_parse(e){var t,r,n,a;let s;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ir.string){let t=this._getOrReturnCtx(e);return iu(t,{code:ia.invalid_type,expected:ir.string,received:t.parsedType}),id}let o=new ic;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(iu(s=this._getOrReturnCtx(e,s),{code:ia.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("max"===l.kind)e.data.length>l.value&&(iu(s=this._getOrReturnCtx(e,s),{code:ia.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("length"===l.kind){let t=e.data.length>l.value,r=e.data.length<l.value;(t||r)&&(s=this._getOrReturnCtx(e,s),t?iu(s,{code:ia.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):r&&iu(s,{code:ia.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),o.dirty())}else if("email"===l.kind)iO.test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{validation:"email",code:ia.invalid_string,message:l.message}),o.dirty());else if("emoji"===l.kind)i||(i=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),i.test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{validation:"emoji",code:ia.invalid_string,message:l.message}),o.dirty());else if("uuid"===l.kind)iT.test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{validation:"uuid",code:ia.invalid_string,message:l.message}),o.dirty());else if("nanoid"===l.kind)iE.test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{validation:"nanoid",code:ia.invalid_string,message:l.message}),o.dirty());else if("cuid"===l.kind)ik.test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{validation:"cuid",code:ia.invalid_string,message:l.message}),o.dirty());else if("cuid2"===l.kind)iS.test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{validation:"cuid2",code:ia.invalid_string,message:l.message}),o.dirty());else if("ulid"===l.kind)iC.test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{validation:"ulid",code:ia.invalid_string,message:l.message}),o.dirty());else if("url"===l.kind)try{new URL(e.data)}catch{iu(s=this._getOrReturnCtx(e,s),{validation:"url",code:ia.invalid_string,message:l.message}),o.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{validation:"regex",code:ia.invalid_string,message:l.message}),o.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(iu(s=this._getOrReturnCtx(e,s),{code:ia.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),o.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(iu(s=this._getOrReturnCtx(e,s),{code:ia.invalid_string,validation:{startsWith:l.value},message:l.message}),o.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(iu(s=this._getOrReturnCtx(e,s),{code:ia.invalid_string,validation:{endsWith:l.value},message:l.message}),o.dirty()):"datetime"===l.kind?(function(e){let t=`${iM}T${iZ(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)})(l).test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{code:ia.invalid_string,validation:"datetime",message:l.message}),o.dirty()):"date"===l.kind?iF.test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{code:ia.invalid_string,validation:"date",message:l.message}),o.dirty()):"time"===l.kind?RegExp(`^${iZ(l)}$`).test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{code:ia.invalid_string,validation:"time",message:l.message}),o.dirty()):"duration"===l.kind?iI.test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{validation:"duration",code:ia.invalid_string,message:l.message}),o.dirty()):"ip"===l.kind?(t=e.data,!(("v4"===(r=l.version)||!r)&&iN.test(t)||("v6"===r||!r)&&iR.test(t))&&1&&(iu(s=this._getOrReturnCtx(e,s),{validation:"ip",code:ia.invalid_string,message:l.message}),o.dirty())):"jwt"===l.kind?!function(e,t){if(!iA.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,l.alg)&&(iu(s=this._getOrReturnCtx(e,s),{validation:"jwt",code:ia.invalid_string,message:l.message}),o.dirty()):"cidr"===l.kind?(n=e.data,!(("v4"===(a=l.version)||!a)&&iP.test(n)||("v6"===a||!a)&&ij.test(n))&&1&&(iu(s=this._getOrReturnCtx(e,s),{validation:"cidr",code:ia.invalid_string,message:l.message}),o.dirty())):"base64"===l.kind?iL.test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{validation:"base64",code:ia.invalid_string,message:l.message}),o.dirty()):"base64url"===l.kind?iD.test(e.data)||(iu(s=this._getOrReturnCtx(e,s),{validation:"base64url",code:ia.invalid_string,message:l.message}),o.dirty()):c.assertNever(l);return{status:o.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:ia.invalid_string,...p.errToObj(r)})}_addCheck(e){return new iz({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...p.errToObj(e)})}url(e){return this._addCheck({kind:"url",...p.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...p.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...p.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...p.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...p.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...p.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...p.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...p.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...p.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...p.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...p.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...p.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...p.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...p.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...p.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...p.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...p.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...p.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...p.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...p.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...p.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...p.errToObj(t)})}nonempty(e){return this.min(1,p.errToObj(e))}trim(){return new iz({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new iz({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new iz({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}iz.create=e=>new iz({checks:[],typeName:h.ZodString,coerce:e?.coerce??!1,...ix(e)});class i$ extends iw{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ir.number){let t=this._getOrReturnCtx(e);return iu(t,{code:ia.invalid_type,expected:ir.number,received:t.parsedType}),id}let r=new ic;for(let n of this._def.checks)"int"===n.kind?c.isInteger(e.data)||(iu(t=this._getOrReturnCtx(e,t),{code:ia.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(iu(t=this._getOrReturnCtx(e,t),{code:ia.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(iu(t=this._getOrReturnCtx(e,t),{code:ia.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,n.value)&&(iu(t=this._getOrReturnCtx(e,t),{code:ia.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(iu(t=this._getOrReturnCtx(e,t),{code:ia.not_finite,message:n.message}),r.dirty()):c.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,p.toString(t))}gt(e,t){return this.setLimit("min",e,!1,p.toString(t))}lte(e,t){return this.setLimit("max",e,!0,p.toString(t))}lt(e,t){return this.setLimit("max",e,!1,p.toString(t))}setLimit(e,t,r,n){return new i$({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:p.toString(n)}]})}_addCheck(e){return new i$({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:p.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:p.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:p.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:p.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:p.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:p.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:p.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:p.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:p.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&c.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}i$.create=e=>new i$({checks:[],typeName:h.ZodNumber,coerce:e?.coerce||!1,...ix(e)});class iq extends iw{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ir.bigint)return this._getInvalidInput(e);let r=new ic;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(iu(t=this._getOrReturnCtx(e,t),{code:ia.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(iu(t=this._getOrReturnCtx(e,t),{code:ia.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(iu(t=this._getOrReturnCtx(e,t),{code:ia.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):c.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return iu(t,{code:ia.invalid_type,expected:ir.bigint,received:t.parsedType}),id}gte(e,t){return this.setLimit("min",e,!0,p.toString(t))}gt(e,t){return this.setLimit("min",e,!1,p.toString(t))}lte(e,t){return this.setLimit("max",e,!0,p.toString(t))}lt(e,t){return this.setLimit("max",e,!1,p.toString(t))}setLimit(e,t,r,n){return new iq({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:p.toString(n)}]})}_addCheck(e){return new iq({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:p.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:p.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:p.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:p.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:p.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}iq.create=e=>new iq({checks:[],typeName:h.ZodBigInt,coerce:e?.coerce??!1,...ix(e)});class iU extends iw{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ir.boolean){let t=this._getOrReturnCtx(e);return iu(t,{code:ia.invalid_type,expected:ir.boolean,received:t.parsedType}),id}return ih(e.data)}}iU.create=e=>new iU({typeName:h.ZodBoolean,coerce:e?.coerce||!1,...ix(e)});class iB extends iw{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ir.date){let t=this._getOrReturnCtx(e);return iu(t,{code:ia.invalid_type,expected:ir.date,received:t.parsedType}),id}if(Number.isNaN(e.data.getTime()))return iu(this._getOrReturnCtx(e),{code:ia.invalid_date}),id;let r=new ic;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(iu(t=this._getOrReturnCtx(e,t),{code:ia.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(iu(t=this._getOrReturnCtx(e,t),{code:ia.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):c.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new iB({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:p.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:p.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}iB.create=e=>new iB({checks:[],coerce:e?.coerce||!1,typeName:h.ZodDate,...ix(e)});class iV extends iw{_parse(e){if(this._getType(e)!==ir.symbol){let t=this._getOrReturnCtx(e);return iu(t,{code:ia.invalid_type,expected:ir.symbol,received:t.parsedType}),id}return ih(e.data)}}iV.create=e=>new iV({typeName:h.ZodSymbol,...ix(e)});class iG extends iw{_parse(e){if(this._getType(e)!==ir.undefined){let t=this._getOrReturnCtx(e);return iu(t,{code:ia.invalid_type,expected:ir.undefined,received:t.parsedType}),id}return ih(e.data)}}iG.create=e=>new iG({typeName:h.ZodUndefined,...ix(e)});class iH extends iw{_parse(e){if(this._getType(e)!==ir.null){let t=this._getOrReturnCtx(e);return iu(t,{code:ia.invalid_type,expected:ir.null,received:t.parsedType}),id}return ih(e.data)}}iH.create=e=>new iH({typeName:h.ZodNull,...ix(e)});class iW extends iw{constructor(){super(...arguments),this._any=!0}_parse(e){return ih(e.data)}}iW.create=e=>new iW({typeName:h.ZodAny,...ix(e)});class iJ extends iw{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ih(e.data)}}iJ.create=e=>new iJ({typeName:h.ZodUnknown,...ix(e)});class iY extends iw{_parse(e){let t=this._getOrReturnCtx(e);return iu(t,{code:ia.invalid_type,expected:ir.never,received:t.parsedType}),id}}iY.create=e=>new iY({typeName:h.ZodNever,...ix(e)});class iK extends iw{_parse(e){if(this._getType(e)!==ir.undefined){let t=this._getOrReturnCtx(e);return iu(t,{code:ia.invalid_type,expected:ir.void,received:t.parsedType}),id}return ih(e.data)}}iK.create=e=>new iK({typeName:h.ZodVoid,...ix(e)});class iQ extends iw{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==ir.array)return iu(t,{code:ia.invalid_type,expected:ir.array,received:t.parsedType}),id;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(iu(t,{code:e?ia.too_big:ia.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(iu(t,{code:ia.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(iu(t,{code:ia.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new iv(t,e,t.path,r)))).then(e=>ic.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new iv(t,e,t.path,r)));return ic.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new iQ({...this._def,minLength:{value:e,message:p.toString(t)}})}max(e,t){return new iQ({...this._def,maxLength:{value:e,message:p.toString(t)}})}length(e,t){return new iQ({...this._def,exactLength:{value:e,message:p.toString(t)}})}nonempty(e){return this.min(1,e)}}iQ.create=(e,t)=>new iQ({type:e,minLength:null,maxLength:null,exactLength:null,typeName:h.ZodArray,...ix(t)});class iX extends iw{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=c.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==ir.object){let t=this._getOrReturnCtx(e);return iu(t,{code:ia.invalid_type,expected:ir.object,received:t.parsedType}),id}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof iY&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||a.push(e);let s=[];for(let e of i){let t=n[e],i=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new iv(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof iY){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(iu(r,{code:ia.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new iv(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>ic.mergeObjectSync(t,e)):ic.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return p.errToObj,new iX({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:p.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new iX({...this._def,unknownKeys:"strip"})}passthrough(){return new iX({...this._def,unknownKeys:"passthrough"})}extend(e){return new iX({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new iX({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:h.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new iX({...this._def,catchall:e})}pick(e){let t={};for(let r of c.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new iX({...this._def,shape:()=>t})}omit(e){let t={};for(let r of c.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new iX({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof iX){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=as.create(e(i))}return new iX({...t._def,shape:()=>r})}if(t instanceof iQ)return new iQ({...t._def,type:e(t.element)});if(t instanceof as)return as.create(e(t.unwrap()));if(t instanceof ao)return ao.create(e(t.unwrap()));if(t instanceof i9)return i9.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of c.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new iX({...this._def,shape:()=>t})}required(e){let t={};for(let r of c.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof as;)e=e._def.innerType;t[r]=e}return new iX({...this._def,shape:()=>t})}keyof(){return at(c.objectKeys(this.shape))}}iX.create=(e,t)=>new iX({shape:()=>e,unknownKeys:"strip",catchall:iY.create(),typeName:h.ZodObject,...ix(t)}),iX.strictCreate=(e,t)=>new iX({shape:()=>e,unknownKeys:"strict",catchall:iY.create(),typeName:h.ZodObject,...ix(t)}),iX.lazycreate=(e,t)=>new iX({shape:e,unknownKeys:"strip",catchall:iY.create(),typeName:h.ZodObject,...ix(t)});class i0 extends iw{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new is(e.ctx.common.issues));return iu(t,{code:ia.invalid_union,unionErrors:r}),id});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new is(e));return iu(t,{code:ia.invalid_union,unionErrors:i}),id}}get options(){return this._def.options}}i0.create=(e,t)=>new i0({options:e,typeName:h.ZodUnion,...ix(t)});let i1=e=>{if(e instanceof i8)return i1(e.schema);if(e instanceof aa)return i1(e.innerType());if(e instanceof ae)return[e.value];if(e instanceof ar)return e.options;if(e instanceof an)return c.objectValues(e.enum);else if(e instanceof al)return i1(e._def.innerType);else if(e instanceof iG)return[void 0];else if(e instanceof iH)return[null];else if(e instanceof as)return[void 0,...i1(e.unwrap())];else if(e instanceof ao)return[null,...i1(e.unwrap())];else if(e instanceof ad)return i1(e.unwrap());else if(e instanceof ah)return i1(e.unwrap());else if(e instanceof au)return i1(e._def.innerType);else return[]};class i2 extends iw{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ir.object)return iu(t,{code:ia.invalid_type,expected:ir.object,received:t.parsedType}),id;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(iu(t,{code:ia.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),id)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=i1(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new i2({typeName:h.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...ix(r)})}}class i4 extends iw{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(im(e)||im(n))return id;let i=function e(t,r){let n=ii(t),i=ii(r);if(t===r)return{valid:!0,data:t};if(n===ir.object&&i===ir.object){let n=c.objectKeys(r),i=c.objectKeys(t).filter(e=>-1!==n.indexOf(e)),a={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};a[n]=i.data}return{valid:!0,data:a}}if(n===ir.array&&i===ir.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}if(n===ir.date&&i===ir.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return i.valid?((ig(e)||ig(n))&&t.dirty(),{status:t.value,value:i.data}):(iu(r,{code:ia.invalid_intersection_types}),id)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}i4.create=(e,t,r)=>new i4({left:e,right:t,typeName:h.ZodIntersection,...ix(r)});class i9 extends iw{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ir.array)return iu(r,{code:ia.invalid_type,expected:ir.array,received:r.parsedType}),id;if(r.data.length<this._def.items.length)return iu(r,{code:ia.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),id;!this._def.rest&&r.data.length>this._def.items.length&&(iu(r,{code:ia.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new iv(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>ic.mergeArray(t,e)):ic.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new i9({...this._def,rest:e})}}i9.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new i9({items:e,typeName:h.ZodTuple,rest:null,...ix(t)})};class i5 extends iw{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ir.object)return iu(r,{code:ia.invalid_type,expected:ir.object,received:r.parsedType}),id;let n=[],i=this._def.keyType,a=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new iv(r,e,r.path,e)),value:a._parse(new iv(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?ic.mergeObjectAsync(t,n):ic.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new i5(t instanceof iw?{keyType:e,valueType:t,typeName:h.ZodRecord,...ix(r)}:{keyType:iz.create(),valueType:e,typeName:h.ZodRecord,...ix(t)})}}class i3 extends iw{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ir.map)return iu(r,{code:ia.invalid_type,expected:ir.map,received:r.parsedType}),id;let n=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new iv(r,e,r.path,[a,"key"])),value:i._parse(new iv(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return id;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return id;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}i3.create=(e,t,r)=>new i3({valueType:t,keyType:e,typeName:h.ZodMap,...ix(r)});class i6 extends iw{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ir.set)return iu(r,{code:ia.invalid_type,expected:ir.set,received:r.parsedType}),id;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(iu(r,{code:ia.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(iu(r,{code:ia.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let r=new Set;for(let n of e){if("aborted"===n.status)return id;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>i._parse(new iv(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(e,t){return new i6({...this._def,minSize:{value:e,message:p.toString(t)}})}max(e,t){return new i6({...this._def,maxSize:{value:e,message:p.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}i6.create=(e,t)=>new i6({valueType:e,minSize:null,maxSize:null,typeName:h.ZodSet,...ix(t)});class i7 extends iw{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ir.function)return iu(t,{code:ia.invalid_type,expected:ir.function,received:t.parsedType}),id;function r(e,r){return il({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,io,io].filter(e=>!!e),issueData:{code:ia.invalid_arguments,argumentsError:r}})}function n(e,r){return il({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,io,io].filter(e=>!!e),issueData:{code:ia.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof ai){let e=this;return ih(async function(...t){let s=new is([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw s.addIssue(r(t,e)),s}),l=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw s.addIssue(n(l,e)),s})})}{let e=this;return ih(function(...t){let s=e._def.args.safeParse(t,i);if(!s.success)throw new is([r(t,s.error)]);let o=Reflect.apply(a,this,s.data),l=e._def.returns.safeParse(o,i);if(!l.success)throw new is([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new i7({...this._def,args:i9.create(e).rest(iJ.create())})}returns(e){return new i7({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new i7({args:e||i9.create([]).rest(iJ.create()),returns:t||iJ.create(),typeName:h.ZodFunction,...ix(r)})}}class i8 extends iw{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}i8.create=(e,t)=>new i8({getter:e,typeName:h.ZodLazy,...ix(t)});class ae extends iw{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return iu(t,{received:t.data,code:ia.invalid_literal,expected:this._def.value}),id}return{status:"valid",value:e.data}}get value(){return this._def.value}}function at(e,t){return new ar({values:e,typeName:h.ZodEnum,...ix(t)})}ae.create=(e,t)=>new ae({value:e,typeName:h.ZodLiteral,...ix(t)});class ar extends iw{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return iu(t,{expected:c.joinValues(r),received:t.parsedType,code:ia.invalid_type}),id}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return iu(t,{received:t.data,code:ia.invalid_enum_value,options:r}),id}return ih(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ar.create(e,{...this._def,...t})}exclude(e,t=this._def){return ar.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}ar.create=at;class an extends iw{_parse(e){let t=c.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ir.string&&r.parsedType!==ir.number){let e=c.objectValues(t);return iu(r,{expected:c.joinValues(e),received:r.parsedType,code:ia.invalid_type}),id}if(this._cache||(this._cache=new Set(c.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=c.objectValues(t);return iu(r,{received:r.data,code:ia.invalid_enum_value,options:e}),id}return ih(e.data)}get enum(){return this._def.values}}an.create=(e,t)=>new an({values:e,typeName:h.ZodNativeEnum,...ix(t)});class ai extends iw{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==ir.promise&&!1===t.common.async?(iu(t,{code:ia.invalid_type,expected:ir.promise,received:t.parsedType}),id):ih((t.parsedType===ir.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ai.create=(e,t)=>new ai({type:e,typeName:h.ZodPromise,...ix(t)});class aa extends iw{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===h.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{iu(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return id;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?id:"dirty"===n.status||"dirty"===t.value?ip(n.value):n});{if("aborted"===t.value)return id;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?id:"dirty"===n.status||"dirty"===t.value?ip(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?id:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?id:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>iy(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):id);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!iy(e))return id;let a=n.transform(e.value,i);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}c.assertNever(n)}}aa.create=(e,t,r)=>new aa({schema:e,typeName:h.ZodEffects,effect:t,...ix(r)}),aa.createWithPreprocess=(e,t,r)=>new aa({schema:t,effect:{type:"preprocess",transform:e},typeName:h.ZodEffects,...ix(r)});class as extends iw{_parse(e){return this._getType(e)===ir.undefined?ih(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}as.create=(e,t)=>new as({innerType:e,typeName:h.ZodOptional,...ix(t)});class ao extends iw{_parse(e){return this._getType(e)===ir.null?ih(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ao.create=(e,t)=>new ao({innerType:e,typeName:h.ZodNullable,...ix(t)});class al extends iw{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===ir.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}al.create=(e,t)=>new al({innerType:e,typeName:h.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...ix(t)});class au extends iw{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return i_(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new is(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new is(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}au.create=(e,t)=>new au({innerType:e,typeName:h.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...ix(t)});class ac extends iw{_parse(e){if(this._getType(e)!==ir.nan){let t=this._getOrReturnCtx(e);return iu(t,{code:ia.invalid_type,expected:ir.nan,received:t.parsedType}),id}return{status:"valid",value:e.data}}}ac.create=e=>new ac({typeName:h.ZodNaN,...ix(e)}),Symbol("zod_brand");class ad extends iw{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ap extends iw{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?id:"dirty"===e.status?(t.dirty(),ip(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?id:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ap({in:e,out:t,typeName:h.ZodPipeline})}}class ah extends iw{_parse(e){let t=this._def.innerType._parse(e),r=e=>(iy(e)&&(e.value=Object.freeze(e.value)),e);return i_(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}ah.create=(e,t)=>new ah({innerType:e,typeName:h.ZodReadonly,...ix(t)}),iX.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(h||(h={}));let af=iz.create,am=i$.create;ac.create,iq.create;let ag=iU.create;iB.create,iV.create,iG.create,iH.create;let ay=iW.create;iJ.create,iY.create,iK.create;let a_=iQ.create,av=iX.create;iX.strictCreate;let ab=i0.create,ax=i2.create;i4.create,i9.create;let aw=i5.create;i3.create,i6.create,i7.create;let ak=i8.create,aS=ae.create,aC=ar.create;async function aT(e,t=!1){let r=[],n=new Set;for(let i of e){let e=await aA(i,t),a=[...new Set(e.map(e=>e.name))].filter(e=>n.has(e));if(a.length>0)throw new nG(`Duplicate tool names found across MCP servers: ${a.join(", ")}`);for(let t of e)n.add(t.name),r.push(t)}return r}an.create,ai.create,aa.create,as.create,ao.create,aa.createWithPreprocess,ap.create,av({name:af(),description:af().optional(),inputSchema:av({type:aS("object"),properties:aw(af(),ay()),required:a_(af()),additionalProperties:ag()})});let aE={};async function aA(e,t){return e.cacheToolsList&&aE[e.name]?aE[e.name]:a7(async r=>{let n=await e.listTools();r.spanData.result=n.map(e=>e.name);let i=n.map(r=>(function(e,t,r){async function n(r,n){let i={};"string"==typeof r&&r?i=JSON.parse(r):"object"==typeof r&&null!=r&&(i=r);let a=aL();a&&(a.spanData.mcp_data={server:t.name});let s=await t.callTool(e.name,i);return 1===s.length?s[0]:s}let i={type:e.inputSchema?.type??"object",properties:e.inputSchema?.properties??{},required:e.inputSchema?.required??[],additionalProperties:e.inputSchema?.additionalProperties??!1};if(r||!0===i.additionalProperties)try{let t=function(e){let t={...e,additionalProperties:!1};return t.required||(t.required=[]),t}(i);return it({name:e.name,description:e.description||"",parameters:t,strict:!0,execute:n})}catch(e){n7.warn(`Error converting MCP schema to strict mode: ${e}`)}let a={...i,additionalProperties:!0};return it({name:e.name,description:e.description||"",parameters:a,strict:!1,execute:n})})(r,e,t));return e.cacheToolsList&&(aE[e.name]=i),i},{data:{server:e.name}})}async function aI(e,t=!1){return aT(e,t)}function aO(){return void 0===rT||void 0===rC.env?{}:rC.env}require("node:timers");class aN{constructor(){}setTimeout(e,t){return setTimeout(e,t)}clearTimeout(e){clearTimeout(e)}}let aP=new aN;function aR(){return a??=new nc.AsyncLocalStorage}function aj(){let e=aR().getStore();return e?.trace?e.trace:null}function aL(){let e=aR().getStore();return e?.span?e.span:null}function aD(e){return async()=>{let t=aj();if(!t)throw Error("No trace found");await t.start();let r=await e(t);return await t.end(),r}}async function aM(e,t,r={}){let n="string"==typeof e?a2().createTrace({...r,name:e}):e;return aR().run({trace:n},aD(t))}async function aF(e,t={}){if(aj())return await e();let r=a2().createTrace(t);return aR().run({trace:r},aD(e))}function aZ(e){let t=aR().getStore();if(!t)throw Error("No existing trace found");t.span&&(t.span.previousSpan=t.previousSpan,t.previousSpan=t.span),t.span=e,aR().enterWith(t)}function az(){let e=aR().getStore();e&&(e.span=e.previousSpan,e.previousSpan=e.previousSpan?.previousSpan,aR().enterWith(e))}function a$(e){let t=aL();t&&t.setError(e)}function aq(e){let t=aR().getStore();if(!t)throw Error("No existing trace found");let r={trace:t.trace?.clone(),span:t.span?.clone(),previousSpan:t.previousSpan?.clone()};return aR().run(r,e)}class aU{async export(e){if(n4.disabled)return void n7.debug("Tracing is disabled. Skipping export");for(let t of e)"trace"===t.type?console.log(`[Exporter] Export trace traceId=${t.traceId} name=${t.name}`):console.log(`[Exporter] Export span: ${JSON.stringify(t)}`)}}class aB{#e;#t;#r;#n;#i;#a=[];#s;#o=null;#l=!1;#u=new AbortController;constructor(e,{maxQueueSize:t=1e3,maxBatchSize:r=100,scheduleDelay:n=5e3,exportTriggerRatio:i=.8}={}){this.#e=t,this.#t=r,this.#r=n,this.#n=t*i,this.#i=e,this.#s=aP,this.#c()}async #d(e){if(this.#a.length+1>this.#e)return void n7.error("Dropping trace because buffer is full");this.#a.push(e),this.#a.length>this.#n&&await this.#p()}#c(){this.#o=this.#s.setTimeout(async()=>{await this.#p(),this.#c()},this.#r),"function"==typeof this.#o.unref&&this.#o.unref()}async #p(e=!1){if(0!==this.#a.length){if(n7.debug(`Exporting batches. Force: ${e}. Buffer size: ${this.#a.length}`),e||this.#a.length<this.#t){let e=[...this.#a];this.#a=[],this.#l=!0,await this.#i.export(e),this.#l=!1}else if(this.#a.length>0){let e=this.#a.splice(0,this.#t);this.#l=!0,await this.#i.export(e),this.#l=!1}}}async onTraceStart(e){await this.#d(e)}async onTraceEnd(e){}async onSpanStart(e){}async onSpanEnd(e){await this.#d(e)}async shutdown(e){for(e&&this.#s.setTimeout(()=>{this.#u.abort()},e),n7.debug("Shutting down gracefully");this.#a.length>0;){if(n7.debug(`Waiting for buffer to empty. Items left: ${this.#a.length}`),this.#l||await this.#p(!0),this.#u.signal.aborted){n7.debug("Timeout reached, force flushing"),await this.#p(!0);break}await new Promise(e=>this.#s.setTimeout(e,500))}n7.debug("Buffer empty. Exiting"),this.#s&&this.#o&&this.#s.clearTimeout(this.#o)}async forceFlush(){this.#a.length>0&&await this.#p(!0)}}class aV{#h=[];addTraceProcessor(e){this.#h.push(e)}setProcessors(e){for(let e of(n7.debug("Shutting down old processors"),this.#h))e.shutdown();this.#h=e}async onTraceStart(e){for(let t of this.#h)await t.onTraceStart(e)}async onTraceEnd(e){for(let t of this.#h)await t.onTraceEnd(e)}async onSpanStart(e){for(let t of this.#h)await t.onSpanStart(e)}async onSpanEnd(e){for(let t of this.#h)await t.onSpanEnd(e)}async shutdown(e){for(let t of this.#h)await t.shutdown(e)}async forceFlush(){for(let e of this.#h)await e.forceFlush()}}let aG=null,aH=null;function aW(){return aH||(aH=new aB((!aG&&(aG=new aU),aG))),aH}function aJ(){return new Date().toISOString()}function aY(){return`trace_${(0,no.randomUUID)().replace(/-/g,"")}`}class aK{type="trace.span";#f;#m;#g;#y;#_;#v;#b;#x;#w;constructor(e,t){this.#m=e.traceId,this.#g=e.spanId??`span_${(0,no.randomUUID)().replace(/-/g,"").slice(0,24)}`,this.#f=e.data,this.#_=t,this.#y=e.parentId??null,this.#x=e.error??null,this.#v=e.startedAt??null,this.#b=e.endedAt??null}get traceId(){return this.#m}get spanData(){return this.#f}get spanId(){return this.#g}get parentId(){return this.#y}get previousSpan(){return this.#w}set previousSpan(e){this.#w=e}start(){if(this.#v)return void n7.warn("Span already started");this.#v=aJ(),this.#_.onSpanStart(this)}end(){if(this.#b)return void n7.debug("Span already finished",this.spanData);this.#b=aJ(),this.#_.onSpanEnd(this)}setError(e){this.#x=e}get error(){return this.#x}get startedAt(){return this.#v}get endedAt(){return this.#b}clone(){let e=new aK({traceId:this.traceId,spanId:this.spanId,parentId:this.parentId??void 0,data:this.spanData,startedAt:this.#v??void 0,endedAt:this.#b??void 0,error:this.#x??void 0},this.#_);return e.previousSpan=this.previousSpan?.clone(),e}toJSON(){return{object:this.type,id:this.spanId,trace_id:this.traceId,parent_id:this.parentId,started_at:this.startedAt,ended_at:this.endedAt,span_data:Object.fromEntries(Object.entries(this.spanData).filter(([e])=>!e.startsWith("_"))),error:this.error}}}class aQ extends aK{constructor(e,t){super({traceId:"no-op",spanId:"no-op",data:e},t)}start(){}end(){}setError(){}toJSON(){return null}}class aX{type="trace";traceId;name;groupId=null;metadata;#_;#k;constructor(e,t){this.traceId=e.traceId??aY(),this.name=e.name??"Agent workflow",this.groupId=e.groupId??null,this.metadata=e.metadata??{},this.#_=t??aW(),this.#k=e.started??!1}async start(){this.#k||(this.#k=!0,await this.#_.onTraceStart(this))}async end(){this.#k&&(this.#k=!1,await this.#_.onTraceEnd(this))}clone(){return new aX({traceId:this.traceId,name:this.name,groupId:this.groupId??void 0,metadata:this.metadata,started:this.#k})}toJSON(){return{object:this.type,id:this.traceId,workflow_name:this.name,group_id:this.groupId,metadata:this.metadata}}}class a0 extends aX{constructor(){super({})}async start(){}async end(){}toJSON(){return null}}class a1{#S;#C;constructor(){this.#S=new aV,this.#C=n4.disabled,"test"===aO().NODE_ENV&&(this.#C=!0),this.#T()}registerProcessor(e){this.#S.addTraceProcessor(e)}setProcessors(e){this.#S.setProcessors(e)}getCurrentTrace(){return aj()}getCurrentSpan(){return aL()}setDisabled(e){this.#C=e}createTrace(e){if(this.#C)return n7.debug("Tracing is disabled, Not creating trace %o",e),new a0;let t=e.traceId??aY(),r=e.name??"Agent workflow";return n7.debug("Creating trace %s with name %s",t,r),new aX({...e,name:r,traceId:t},this.#S)}createSpan(e,t){let r,n;if(this.#C||e.disabled)return n7.debug("Tracing is disabled, Not creating span %o",e),new aQ(e.data,this.#S);if(t){if(t instanceof aX){if(t instanceof a0)return n7.debug("Parent trace is no-op, returning NoopSpan"),new aQ(e.data,this.#S);n=t.traceId}else if(t instanceof aK){if(t instanceof aQ)return n7.debug("Parent span is no-op, returning NoopSpan"),new aQ(e.data,this.#S);r=t.spanId,n=t.traceId}}else{let t=aj(),i=aL();if(!t)return n7.error("No active trace. Make sure to start a trace with `withTrace()` first. Returning NoopSpan."),new aQ(e.data,this.#S);if(i instanceof aQ||t instanceof a0)return n7.debug(`Parent ${i} or ${t} is no-op, returning NoopSpan`),new aQ(e.data,this.#S);n=t.traceId,i?(n7.debug("Using parent span %s",i.spanId),r=i.spanId):n7.debug("No parent span, using current trace %s",t.traceId)}return n?(n7.debug(`Creating span ${JSON.stringify(e.data)} with id ${e.spanId??n}`),new aK({...e,traceId:n,parentId:r},this.#S)):(n7.error("No traceId found. Make sure to start a trace with `withTrace()` first. Returning NoopSpan."),new aQ(e.data,this.#S))}async shutdown(e){try{n7.debug("Shutting down tracing provider"),await this.#S.shutdown(e)}catch(e){n7.error("Error shutting down tracing provider %o",e)}}#T(){if("undefined"!=typeof process&&"function"==typeof process.on){let e=async()=>{let e=setTimeout(()=>{console.warn("Cleanup timeout, forcing exit"),process.exit(1)},5e3);try{await this.shutdown()}finally{clearTimeout(e)}};process.on("beforeExit",e),process.on("SIGINT",async()=>{await e(),process.exit(130)}),process.on("SIGTERM",async()=>{await e(),process.exit(0)}),process.on("unhandledRejection",async(t,r)=>{n7.error("Unhandled rejection",t,r),await e(),process.exit(1)})}}}function a2(){return l||(l=new a1),l}function a4(e){return async(t,...r)=>aq(async()=>{let n=e(...r);aZ(n);try{return n.start(),await t(n)}catch(e){throw n.setError({message:e.message,data:e.data}),e}finally{n.end(),az()}})}function a9(e,t){return a2().createSpan({...e,data:{type:"agent",name:e?.data?.name??"Agent",...e?.data}},t)}a4(function(e,t){return e={},a2().createSpan({...e,data:{type:"response",...e.data}},t)}),a4(a9);let a5=a4(function(e,t){return a2().createSpan({...e,data:{type:"function",input:e?.data?.input??"",output:e?.data?.output??"",...e?.data}},t)}),a3=a4(function(e,t){return a2().createSpan({...e,data:{type:"handoff",...e?.data}},t)});a4(function(e,t){return a2().createSpan({...e,data:{type:"generation",...e?.data}},t)}),a4(function(e,t){return a2().createSpan({...e,data:{type:"custom",data:{},...e?.data}},t)});let a6=a4(function(e,t){return a2().createSpan({...e,data:{type:"guardrail",triggered:!1,...e?.data}},t)});a4(function(e,t){return a2().createSpan({...e,data:{type:"transcription",...e.data}},t)}),a4(function(e,t){return a2().createSpan({...e,data:{type:"speech",...e.data}},t)}),a4(function(e,t){return a2().createSpan({...e,data:{type:"speech_group",...e?.data}},t)});let a7=a4(function(e,t){return a2().createSpan({...e,data:{type:"mcp_tools",...e?.data}},t)});class a8{on(e,t){return this.eventEmitter.on(e,t),this.eventEmitter}off(e,t){return this.eventEmitter.off(e,t),this.eventEmitter}emit(e,...t){return this.eventEmitter.emit(e,...t)}once(e,t){return this.eventEmitter.once(e,t),this.eventEmitter}}class se extends a8{eventEmitter=new ns.EventEmitter}class st extends a8{eventEmitter=new ns.EventEmitter}function sr({name:e,execute:t}){return{type:"input",name:e,guardrailFunction:t,run:async r=>({guardrail:{type:"input",name:e},output:await t(r)})}}function sn({name:e,execute:t}){return{type:"output",name:e,guardrailFunction:t,run:async r=>({guardrail:{type:"output",name:e},agent:r.agent,agentOutput:r.agentOutput,output:await t(r)})}}function si(e){return JSON.stringify({assistant:e.name})}class sa{toolName;toolDescription;inputJsonSchema={type:"object",properties:{},required:[],additionalProperties:!1};strictJsonSchema=!0;onInvokeHandoff;agentName;inputFilter;agent;getHandoffAsFunctionTool(){return{type:"function",name:this.toolName,description:this.toolDescription,parameters:this.inputJsonSchema,strict:this.strictJsonSchema}}constructor(e,t){this.agentName=e.name,this.onInvokeHandoff=t,this.toolName=`transfer_to_${nQ(e.name)}`,this.toolDescription=function(e){return`Handoff to the ${e.name} agent to handle the request. ${e.handoffDescription??""}`}(e),this.agent=e}}function ss(e,t={}){let r,n=!!t.onHandoff;if(!!t.inputType!==n)throw new nG("You must provide either both `onHandoff` and `inputType` or neither.");async function i(n,i){if(r){if(!i)throw a$({message:`Handoff function expected non empty input but got: ${i}`,data:{details:"input is empty"}}),new nV("Handoff function expected non empty input");try{let e=await r(i);t.onHandoff&&await t.onHandoff(n,e)}catch(e){throw a$({message:"Invalid JSON provided",data:{}}),n7.dontLogToolData||n7.error(`Invalid JSON when parsing: ${i}. Error: ${e}`),new nV("Invalid JSON provided")}}else await t.onHandoff?.(n);return e}let a=new sa(e,i);if(t.inputType){let e=nX(t.inputType,a.toolName);a.inputJsonSchema=e.schema,a.strictJsonSchema=!0,r=e.parser}return t.toolNameOverride&&(a.toolName=t.toolNameOverride),t.toolDescriptionOverride&&(a.toolDescription=t.toolDescriptionOverride),t.inputFilter&&(a.inputFilter=t.inputFilter),a}function so(e){return e instanceof sa?e:ss(e)}let sl=av({providerData:aw(af(),ay()).optional()}),su=sl.extend({id:af().optional()}),sc=sl.extend({type:aS("refusal"),refusal:af()}),sd=sl.extend({type:aS("output_text"),text:af()}),sp=sl.extend({type:aS("input_text"),text:af()}),sh=sl.extend({type:aS("input_image"),image:af().or(av({id:af()})).describe("Could be a URL, base64 or an object with a file ID.")}),sf=sl.extend({type:aS("input_file"),file:af().or(av({id:af()})).describe("Contents of the file or an object with a file ID.")}),sm=sl.extend({type:aS("audio"),audio:af().or(av({id:af()})).describe("Base64 encoded audio data or file id"),format:af().nullable().optional(),transcript:af().nullable().optional()}),sg=sl.extend({type:aS("image"),image:af().describe("Base64 encoded image data")}),sy=sl.extend({type:aS("text"),text:af()}),s_=sl.extend({type:aS("image"),data:af().describe("Base64 encoded image data"),mediaType:af().describe("IANA media type of the image")}),sv=sl.extend({type:aS("computer_screenshot"),data:af().describe("Base64 encoded image data or URL")}),sb=ax("type",[av({type:aS("screenshot")}),av({type:aS("click"),x:am(),y:am(),button:aC(["left","right","wheel","back","forward"])}),av({type:aS("double_click"),x:am(),y:am()}),av({type:aS("scroll"),x:am(),y:am(),scroll_x:am(),scroll_y:am()}),av({type:aS("type"),text:af()}),av({type:aS("wait")}),av({type:aS("move"),x:am(),y:am()}),av({type:aS("keypress"),keys:a_(af())}),av({type:aS("drag"),path:a_(av({x:am(),y:am()}))})]),sx=ax("type",[sd,sc,sp,sm,sg]),sw=su.extend({type:aS("message").optional()}),sk=sw.extend({role:aS("assistant"),status:aC(["in_progress","completed","incomplete"]),content:a_(sx)}),sS=ax("type",[sp,sh,sf,sm]),sC=sw.extend({role:aS("user"),content:a_(sS).or(af())}),sT=sw.extend({role:aS("system"),content:af()});ax("role",[sT,sk,sC]);let sE=su.extend({type:aS("hosted_tool_call"),name:af().describe("The name of the hosted tool"),status:af().optional(),output:af().optional()}),sA=su.extend({type:aS("function_call"),callId:af().describe("The ID of the tool call"),name:af().describe("The name of the function"),status:aC(["in_progress","completed","incomplete"]).optional(),arguments:af()}),sI=su.extend({type:aS("function_call_result"),name:af().describe("The name of the tool"),callId:af().describe("The ID of the tool call"),status:aC(["in_progress","completed","incomplete"]),output:ax("type",[sy,s_])}),sO=su.extend({type:aS("computer_call"),callId:af().describe("The ID of the computer call"),status:aC(["in_progress","completed","incomplete"]),action:sb}),sN=su.extend({type:aS("computer_call_result"),callId:af().describe("The ID of the computer call"),output:sv}),sP=ax("type",[sO,sA,sE]),sR=sl.extend({id:af().optional(),type:aS("reasoning"),content:a_(sp)}),sj=su.extend({type:aS("unknown")}),sL=ax("type",[sk,sE,sA,sO,sR,sj]),sD=ab([sC,sk,sT,sE,sA,sO,sI,sN,sR,sj]),sM=av({requests:am().optional(),inputTokens:am(),outputTokens:am(),totalTokens:am(),inputTokensDetails:aw(af(),am()).optional(),outputTokensDetails:aw(af(),am()).optional()}),sF=sl.extend({type:aS("output_text_delta"),delta:af()}),sZ=sl.extend({type:aS("response_started")}),sz=sl.extend({type:aS("response_done"),response:sl.extend({id:af(),usage:sM,output:a_(sL)})});ax("type",[sF,sz,sZ,sl.extend({type:aS("model"),event:ay().describe("The event from the model")})]);class s${requests;inputTokens;outputTokens;totalTokens;inputTokensDetails=[];outputTokensDetails=[];constructor(e){void 0===e?(this.requests=0,this.inputTokens=0,this.outputTokens=0,this.totalTokens=0,this.inputTokensDetails=[],this.outputTokensDetails=[]):(this.requests=e?.requests??1,this.inputTokens=e?.inputTokens??0,this.outputTokens=e?.outputTokens??0,this.totalTokens=e?.totalTokens??0,this.inputTokensDetails=e?.inputTokensDetails?[e.inputTokensDetails]:[],this.outputTokensDetails=e?.outputTokensDetails?[e.outputTokensDetails]:[])}add(e){this.requests+=e.requests,this.inputTokens+=e.inputTokens,this.outputTokens+=e.outputTokens,this.totalTokens+=e.totalTokens,this.inputTokensDetails.push(...e.inputTokensDetails),this.outputTokensDetails.push(...e.outputTokensDetails)}}class sq{context;usage;#E;constructor(e={}){this.context=e,this.usage=new s$,this.#E=new Map}_rebuildApprovals(e){this.#E=new Map(Object.entries(e))}isToolApproved({toolName:e,callId:t}){let r=this.#E.get(e);if(r?.approved===!0&&!0===r.rejected)return n7.warn("Tool is permanently approved and rejected at the same time. Approval takes precedence"),!0;if(r?.approved===!0)return!0;if(r?.rejected===!0)return!1;let n=!!Array.isArray(r?.approved)&&r.approved.includes(t),i=!!Array.isArray(r?.rejected)&&r.rejected.includes(t);return n&&i?(n7.warn(`Tool call ${t} is both approved and rejected at the same time. Approval takes precedence`),!0):!!n||!i&&void 0}approveTool(e,{alwaysApprove:t=!1}={}){let r=e.rawItem.name;if(t)return void this.#E.set(r,{approved:!0,rejected:[]});let n=this.#E.get(r)??{approved:[],rejected:[]};Array.isArray(n.approved)&&n.approved.push(e.rawItem.callId),this.#E.set(r,n)}rejectTool(e,{alwaysReject:t=!1}={}){let r=e.rawItem.name;if(t)return void this.#E.set(r,{approved:!1,rejected:!0});let n=this.#E.get(r)??{approved:[],rejected:[]};Array.isArray(n.rejected)&&n.rejected.push(e.rawItem.callId),this.#E.set(r,n)}toJSON(){return{context:this.context,usage:this.usage,approvals:Object.fromEntries(this.#E.entries())}}}class sU{state;constructor(e){this.state=e}get history(){return oA(this.input,this.newItems)}get output(){return oA([],this.newItems)}get input(){return this.state._originalInput}get newItems(){return this.state._generatedItems}get rawResponses(){return this.state._modelResponses}get lastResponseId(){let e=this.rawResponses;return e&&e.length>0?e[e.length-1].responseId:void 0}get lastAgent(){return this.state._currentAgent}get inputGuardrailResults(){return this.state._inputGuardrailResults}get outputGuardrailResults(){return this.state._outputGuardrailResults}get interruptions(){return this.state._currentStep?.type==="next_step_interruption"?this.state._currentStep.data.interruptions:[]}get finalOutput(){if(this.state._currentStep?.type==="next_step_final_output")return this.state._currentAgent.processFinalOutput(this.state._currentStep.output);n7.warn("Accessed finalOutput before agent run is completed.")}}class sB extends sU{constructor(e){super(e)}}class sV extends sU{get currentAgent(){return this.lastAgent}currentTurn=0;maxTurns;#x=null;#A;#I;#O;#N;#P;#R;#j=!1;constructor(e={}){super(e.state),this.#A=e.signal,this.#A&&this.#A.addEventListener("abort",async()=>{await this.#O.cancel()}),this.#O=new nu.ReadableStream({start:e=>{this.#I=e},cancel:()=>{this.#j=!0}}),this.#N=new Promise((e,t)=>{this.#P=e,this.#R=t})}_addItem(e){this.cancelled||this.#I?.enqueue(e)}_done(){!this.cancelled&&this.#I&&(this.#I.close(),this.#I=void 0,this.#P?.())}_raiseError(e){!this.cancelled&&this.#I&&(this.#I.error(e),this.#I=void 0),this.#x=e,this.#R?.(e)}get cancelled(){return this.#j}toStream(){return this.#O}get completed(){return this.#N}get error(){return this.#x}toTextStream(e={}){let t=this.#O.pipeThrough(new nu.TransformStream({transform(e,t){if("raw_model_stream_event"===e.type&&"output_text_delta"===e.data.type){let r=sF.parse(e.data);t.enqueue(r.delta)}}}));return e.compatibleWithNodeStreams?nl.Readable.fromWeb(t):t}[Symbol.asyncIterator](){return this.#O[Symbol.asyncIterator]()}}function sG(e){return"function"===e.type?{type:"function",name:e.name,description:e.description,parameters:e.parameters,strict:e.strict}:"computer"===e.type?{type:"computer",name:e.name,environment:e.computer.environment,dimensions:e.computer.dimensions}:{type:"hosted_tool",name:e.name,providerData:e.providerData}}function sH(e){return{toolName:e.toolName,toolDescription:e.toolDescription,inputJsonSchema:e.inputJsonSchema,strictJsonSchema:e.strictJsonSchema}}class sW{type="base_item";rawItem;toJSON(){return{type:this.type,rawItem:this.rawItem}}}class sJ extends sW{rawItem;agent;type="message_output_item";constructor(e,t){super(),this.rawItem=e,this.agent=t}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}get content(){let e="";for(let t of this.rawItem.content)"output_text"===t.type&&(e+=t.text);return e}}class sY extends sW{rawItem;agent;type="tool_call_item";constructor(e,t){super(),this.rawItem=e,this.agent=t}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}class sK extends sW{rawItem;agent;output;type="tool_call_output_item";constructor(e,t,r){super(),this.rawItem=e,this.agent=t,this.output=r}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON(),output:n8(this.output)}}}class sQ extends sW{rawItem;agent;type="reasoning_item";constructor(e,t){super(),this.rawItem=e,this.agent=t}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}class sX extends sW{rawItem;agent;type="handoff_call_item";constructor(e,t){super(),this.rawItem=e,this.agent=t}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}class s0 extends sW{rawItem;sourceAgent;targetAgent;type="handoff_output_item";constructor(e,t,r){super(),this.rawItem=e,this.sourceAgent=t,this.targetAgent=r}toJSON(){return{...super.toJSON(),sourceAgent:this.sourceAgent.toJSON(),targetAgent:this.targetAgent.toJSON()}}}class s1 extends sW{rawItem;agent;type="tool_approval_item";constructor(e,t){super(),this.rawItem=e,this.agent=t}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}function s2(e){if("message"!==e.type||"assistant"!==e.role)return;let t=e.content[e.content.length-1];if("output_text"===t.type)return t.text}class s4{data;type="raw_model_stream_event";constructor(e){this.data=e}}class s9{name;item;type="run_item_stream_event";constructor(e,t){this.name=e,this.item=t}}class s5{agent;type="agent_updated_stream_event";constructor(e){this.agent=e}}function s3(e,t,r,n){let i=[],a=[],s=[],o=[],l=[],u=new Map(n.map(e=>[e.toolName,e])),c=new Map(r.filter(e=>"function"===e.type).map(e=>[e.name,e])),d=r.find(e=>"computer"===e.type);for(let r of e.output){if("message"===r.type)"assistant"===r.role&&i.push(new sJ(r,t));else if("hosted_tool_call"===r.type)i.push(new sY(r,t)),l.push(r.name);else if("reasoning"===r.type)i.push(new sQ(r,t));else if("computer_call"===r.type){if(i.push(new sY(r,t)),l.push("computer_use"),!d)throw a$({message:"Model produced computer action without a computer tool.",data:{agent_name:t.name}}),new nV("Model produced computer action without a computer tool.");o.push({toolCall:r,computer:d})}if("function_call"!==r.type)continue;l.push(r.name);let e=u.get(r.name);if(e)i.push(new sX(r,t)),a.push({toolCall:r,handoff:e});else{let e=c.get(r.name);if(!e)throw a$({message:`Tool ${r.name} not found in agent ${t.name}.`,data:{tool_name:r.name,agent_name:t.name}}),new nV(`Tool ${r.name} not found in agent ${t.name}.`);i.push(new sY(r,t)),s.push({toolCall:r,tool:e})}}return{newItems:i,handoffs:a,functions:s,computerActions:o,toolsUsed:l,hasToolsOrApprovalsToRun:()=>a.length>0||s.length>0||o.length>0}}let s6=ax("type",[av({type:aS("next_step_handoff"),newAgent:ay()}),av({type:aS("next_step_final_output"),output:af()}),av({type:aS("next_step_run_again")}),av({type:aS("next_step_interruption"),data:aw(af(),ay())})]);class s7{originalInput;modelResponse;preStepItems;newStepItems;nextStep;constructor(e,t,r,n,i){this.originalInput=e,this.modelResponse=t,this.preStepItems=r,this.newStepItems=n,this.nextStep=i}get generatedItems(){return this.preStepItems.concat(this.newStepItems)}}function s8(e,t,r){return e.resetToolChoice&&t.hasUsedTools(e)?{...r,toolChoice:void 0}:r}async function oe(e,t,r,n,i,a,s){let o=r.filter(e=>!(e instanceof s1)),l=r.filter(e=>e instanceof s1).map(e=>e.rawItem.callId),u=i.functions.filter(e=>l.includes(e.toolCall.callId)),c=await on(e,u,a,s),d=c.map(e=>e.runItem),p=await ol(e,c,s);return p.isFinalOutput?(a.emit("agent_end",s._context,e,p.finalOutput),e.emit("agent_end",s._context,p.finalOutput),new s7(t,n,o,d,{type:"next_step_final_output",output:p.finalOutput})):p.isInterrupted?new s7(t,n,o,d,{type:"next_step_interruption",data:{interruptions:p.interruptions}}):new s7(t,n,o,d,{type:"next_step_run_again"})}async function ot(e,t,r,n,i,a,s){let o=i.newItems,[l,u]=await Promise.all([on(e,i.functions,a,s),oa(e,i.computerActions,a,s._context)]);if(o=(o=o.concat(l.map(e=>e.runItem))).concat(u),i.handoffs.length>0)return await os(e,t,r,o,n,i.handoffs,a,s._context);let c=await ol(e,l,s);if(c.isFinalOutput)return a.emit("agent_end",s._context,e,c.finalOutput),e.emit("agent_end",s._context,c.finalOutput),new s7(t,n,r,o,{type:"next_step_final_output",output:c.finalOutput});if(c.isInterrupted)return new s7(t,n,r,o,{type:"next_step_interruption",data:{interruptions:c.interruptions}});let d=o.filter(e=>e instanceof sJ),p=d.length>0?s2(d[d.length-1].rawItem):void 0;if(!p)return new s7(t,n,r,o,{type:"next_step_run_again"});if("text"===e.outputType&&!i.hasToolsOrApprovalsToRun())return new s7(t,n,r,o,{type:"next_step_final_output",output:p});if("text"!==e.outputType&&p){let{parser:i}=nX(e.outputType,"final_output"),[a]=await nd(()=>i(p));if(a)throw a$({message:"Invalid output type",data:{error:String(a)}}),new nV("Invalid output type");return new s7(t,n,r,o,{type:"next_step_final_output",output:p})}return new s7(t,n,r,o,{type:"next_step_run_again"})}function or(e,t){return{type:"function_call_result",name:e.name,callId:e.callId,status:"completed",output:{type:"text",text:n8(t)}}}async function on(e,t,r,n){async function i(t){let i=t.toolCall.arguments;if(t.tool.parameters&&(i=nK(t.tool.parameters)?t.tool.parameters.parse(i):JSON.parse(i)),await t.tool.needsApproval(n._context,i,t.toolCall.callId)){let r=n._context.isToolApproved({toolName:t.tool.name,callId:t.toolCall.callId});if(!1===r)return a5(async r=>{let n="Tool execution was not approved.";return r.setError({message:n,data:{tool_name:t.tool.name,error:`Tool execution for ${t.toolCall.callId} was manually rejected by user.`}}),r.spanData.output=n,{type:"function_output",tool:t.tool,output:n,runItem:new sK(or(t.toolCall,n),e,n)}},{data:{name:t.tool.name}});if(!0!==r)return{type:"function_approval",tool:t.tool,runItem:new s1(t.toolCall,e)}}return a5(async i=>{r.config.traceIncludeSensitiveData&&(i.spanData.input=t.toolCall.arguments);try{r.emit("agent_tool_start",n._context,e,t.tool),e.emit("agent_tool_start",n._context,t.tool);let a=await t.tool.invoke(n._context,t.toolCall.arguments),s=n8(a);return r.emit("agent_tool_end",n._context,e,t.tool,s),e.emit("agent_tool_end",n._context,t.tool,s),r.config.traceIncludeSensitiveData&&(i.spanData.output=s),{type:"function_output",tool:t.tool,output:a,runItem:new sK(or(t.toolCall,a),e,a)}}catch(e){throw i.setError({message:"Error running tool",data:{tool_name:t.tool.name,error:String(e)}}),e}},{data:{name:t.tool.name}})}try{return await Promise.all(t.map(i))}catch(e){throw new nW(`Failed to run function tools: ${e}`,e,n)}}async function oi(e,t){let r,n=t.action;switch(n.type){case"click":await e.click(n.x,n.y,n.button);break;case"double_click":await e.doubleClick(n.x,n.y);break;case"drag":await e.drag(n.path.map(e=>[e.x,e.y]));break;case"keypress":await e.keypress(n.keys);break;case"move":await e.move(n.x,n.y);break;case"screenshot":r=await e.screenshot();break;case"scroll":await e.scroll(n.x,n.y,n.scroll_x,n.scroll_y);break;case"type":await e.type(n.text);break;case"wait":await e.wait()}if(void 0!==r||"function"==typeof e.screenshot&&void 0!==(r=await e.screenshot()))return r;throw Error("Computer does not implement screenshot()")}async function oa(e,t,r,n,i){let a=i??n7,s=[];for(let i of t){let t,o=i.computer.computer,l=i.toolCall;r.emit("agent_tool_start",n,e,i.computer),"function"==typeof e.emit&&e.emit("agent_tool_start",n,i.computer);try{t=await oi(o,l)}catch(e){a.error("Failed to execute computer action:",e),t=""}r.emit("agent_tool_end",n,e,i.computer,t),"function"==typeof e.emit&&e.emit("agent_tool_end",n,i.computer,t);let u=t?`data:image/png;base64,${t}`:"",c={type:"computer_call_result",callId:l.callId,output:{type:"computer_screenshot",data:u}};s.push(new sK(c,e,u))}return s}async function os(e,t,r,n,i,a,s,o){if(n=[...n],0===a.length)return n7.warn("Incorrectly called executeHandoffCalls with no handoffs. This should not happen. Moving on."),new s7(t,i,r,n,{type:"next_step_run_again"});if(a.length>1){let t="Multiple handoffs detected, ignorning this one.";for(let r=1;r<a.length;r++)n.push(new sK(or(a[r].toolCall,t),e,t))}let l=a[0];return a3(async u=>{let c=l.handoff,d=await c.onInvokeHandoff(o,l.toolCall.arguments);if(u.spanData.to_agent=d.name,a.length>1){let e=a.map(e=>e.handoff.agentName);u.setError({message:"Multiple handoffs requested",data:{requested_agents:e}})}n.push(new s0(or(l.toolCall,si(d)),e,d)),s.emit("agent_handoff",o,e,d),e.emit("agent_handoff",o,d);let p=c.inputFilter??s.config.handoffInputFilter;if(p){n7.debug("Filtering inputs for handoff"),"function"!=typeof p&&u.setError({message:"Invalid input filter",data:{details:"not callable"}});let e=p({inputHistory:Array.isArray(t)?[...t]:t,preHandoffItems:[...r],newItems:[...n]});t=e.inputHistory,r=e.preHandoffItems,n=e.newItems}return new s7(t,i,r,n,{type:"next_step_handoff",newAgent:d})},{data:{from_agent:e.name}})}let oo={isFinalOutput:!1,isInterrupted:void 0};async function ol(e,t,r){if(0===t.length)return oo;let n=t.filter(e=>e.runItem instanceof s1).map(e=>e.runItem);if(n.length>0)return{isFinalOutput:!1,isInterrupted:!0,interruptions:n};if("run_llm_again"===e.toolUseBehavior)return oo;let i=t[0];if("stop_on_first_tool"===e.toolUseBehavior)return i?.type==="function_output"?{isFinalOutput:!0,isInterrupted:void 0,finalOutput:n8(i.output)}:oo;let a=e.toolUseBehavior;if("object"==typeof a){let e=t.find(e=>a.stopAtToolNames.includes(e.tool.name));return e?.type==="function_output"?{isFinalOutput:!0,isInterrupted:void 0,finalOutput:n8(e.output)}:oo}if("function"==typeof a)return a(r._context,t);throw new nG(`Invalid toolUseBehavior: ${a}`,r)}function ou(e,t){for(let r of t.newStepItems){let t;if(r instanceof sJ)t="message_output_created";else if(r instanceof sX)t="handoff_requested";else if(r instanceof s0)t="handoff_occurred";else if(r instanceof sY)t="tool_called";else if(r instanceof sK)t="tool_output";else if(r instanceof sQ)t="reasoning_item_created";else if(r instanceof s1)t="tool_approval_requested";else{n7.warn("Unknown item type: ",r);continue}e._addItem(new s9(t,r))}}class oc{#L=new Map;addToolUse(e,t){this.#L.set(e,t)}hasUsedTools(e){return this.#L.has(e)}toJSON(){return Object.fromEntries(Array.from(this.#L.entries()).map(([e,t])=>[e.name,t]))}}let od=aS("1.0"),op=av({name:af()}),oh=av({object:aS("trace.span"),id:af(),trace_id:af(),parent_id:af().nullable(),started_at:af().nullable(),ended_at:af().nullable(),error:av({message:af(),data:aw(af(),ay()).optional()}).nullable(),span_data:aw(af(),ay())}).extend({previous_span:ak(()=>oh).optional()}),of=av({requests:am(),inputTokens:am(),outputTokens:am(),totalTokens:am()}),om=av({usage:of,output:a_(sL),responseId:af().optional()}),og=ax("type",[av({type:aS("message_output_item"),rawItem:sk,agent:op}),av({type:aS("tool_call_item"),rawItem:sP.or(sE),agent:op}),av({type:aS("tool_call_output_item"),rawItem:sI,agent:op,output:af()}),av({type:aS("reasoning_item"),rawItem:sR,agent:op}),av({type:aS("handoff_call_item"),rawItem:sA,agent:op}),av({type:aS("handoff_output_item"),rawItem:sI,sourceAgent:op,targetAgent:op}),av({type:aS("tool_approval_item"),rawItem:sA,agent:op})]),oy=av({object:aS("trace"),id:af(),workflow_name:af(),group_id:af().nullable(),metadata:aw(af(),ay())}),o_=av({newItems:a_(og),toolsUsed:a_(af()),handoffs:a_(av({toolCall:ay(),handoff:ay()})),functions:a_(av({toolCall:ay(),tool:ay()})),computerActions:a_(av({toolCall:ay(),computer:ay()}))}),ov=av({tripwireTriggered:ag(),outputInfo:ay()}),ob=av({guardrail:av({type:aS("input"),name:af()}),output:ov}),ox=av({guardrail:av({type:aS("output"),name:af()}),agentOutput:ay(),agent:op,output:ov}),ow=av({$schemaVersion:od,currentTurn:am(),currentAgent:op,originalInput:af().or(a_(sD)),modelResponses:a_(om),context:av({usage:of,approvals:aw(af(),av({approved:a_(af()).or(ag()),rejected:a_(af()).or(ag())})),context:aw(af(),ay())}),toolUseTracker:aw(af(),a_(af())),maxTurns:am(),currentAgentSpan:oh.nullable().optional(),noActiveAgentRun:ag(),inputGuardrailResults:a_(ob),outputGuardrailResults:a_(ox),currentStep:s6.optional(),lastModelResponse:om.optional(),generatedItems:a_(og),lastProcessedResponse:o_.optional(),trace:oy.nullable()});class ok{_currentTurn=0;_currentAgent;_originalInput;_modelResponses;_currentAgentSpan;_context;_toolUseTracker;_generatedItems;_maxTurns;_noActiveAgentRun=!0;_lastTurnResponse;_inputGuardrailResults;_outputGuardrailResults;_currentStep=void 0;_lastProcessedResponse=void 0;_trace=null;constructor(e,t,r,n){this._context=e,this._originalInput=structuredClone(t),this._modelResponses=[],this._currentAgentSpan=void 0,this._currentAgent=r,this._toolUseTracker=new oc,this._generatedItems=[],this._maxTurns=n,this._inputGuardrailResults=[],this._outputGuardrailResults=[],this._trace=aj()}approve(e,t={alwaysApprove:!1}){this._context.approveTool(e,t)}reject(e,t={alwaysReject:!1}){this._context.rejectTool(e,t)}toJSON(){let e={$schemaVersion:"1.0",currentTurn:this._currentTurn,currentAgent:{name:this._currentAgent.name},originalInput:this._originalInput,modelResponses:this._modelResponses.map(e=>({usage:{requests:e.usage.requests,inputTokens:e.usage.inputTokens,outputTokens:e.usage.outputTokens,totalTokens:e.usage.totalTokens},output:e.output,responseId:e.responseId})),context:this._context.toJSON(),toolUseTracker:this._toolUseTracker.toJSON(),maxTurns:this._maxTurns,currentAgentSpan:this._currentAgentSpan?.toJSON(),noActiveAgentRun:this._noActiveAgentRun,inputGuardrailResults:this._inputGuardrailResults,outputGuardrailResults:this._outputGuardrailResults.map(e=>({...e,agent:e.agent.toJSON()})),currentStep:this._currentStep,lastModelResponse:this._lastTurnResponse,generatedItems:this._generatedItems.map(e=>e.toJSON()),lastProcessedResponse:this._lastProcessedResponse,trace:this._trace?this._trace.toJSON():null},t=ow.safeParse(e);if(!t.success)throw new nU(`Failed to serialize run state. ${t.error.message}`);return t.data}toString(){return JSON.stringify(this.toJSON())}static async fromString(e,t){let[r,n]=await nd(()=>JSON.parse(t));if(r)throw new nG(`Failed to parse run state. ${r instanceof Error?r.message:String(r)}`);let i=n.$schemaVersion;if(!i)throw new nG("Run state is missing schema version");if("1.0"!==i)throw new nG(`Run state schema version ${i} is not supported. Please use version 1.0`);let a=ow.parse(JSON.parse(t)),s=function(e){let t=new Map,r=[e];for(;r.length>0;){let e=r.shift();if(!t.has(e.name))for(let n of(t.set(e.name,e),e.handoffs))n instanceof oO?t.has(n.name)||r.push(n):n.agent&&!t.has(n.agent.name)&&r.push(n.agent)}return t}(e),o=new sq(a.context.context);o._rebuildApprovals(a.context.approvals);let l=s.get(a.currentAgent.name);if(!l)throw new nG(`Agent ${a.currentAgent.name} not found`);let u=new ok(o,"",l,a.maxTurns);for(let[e,t]of(u._currentTurn=a.currentTurn,u._toolUseTracker=new oc,Object.entries(a.toolUseTracker)))u._toolUseTracker.addToolUse(s.get(e),t);if(a.currentAgentSpan){a.trace||n7.warn("Trace is not set, skipping tracing setup");let e=a2().createTrace({traceId:a.trace?.id,name:a.trace?.workflow_name,groupId:a.trace?.group_id??void 0,metadata:a.trace?.metadata});u._currentAgentSpan=function e(t,r){let n=r.span_data,i=r.previous_span?e(t,r.previous_span):void 0,a=a2().createSpan({spanId:r.id,traceId:r.trace_id,parentId:r.parent_id??void 0,startedAt:r.started_at??void 0,endedAt:r.ended_at??void 0,data:n},t);return a.previousSpan=i,a}(e,a.currentAgentSpan),u._trace=e}return u._noActiveAgentRun=a.noActiveAgentRun,u._inputGuardrailResults=a.inputGuardrailResults,u._outputGuardrailResults=a.outputGuardrailResults.map(e=>({...e,agent:s.get(e.agent.name)})),u._currentStep=a.currentStep,u._originalInput=a.originalInput,u._modelResponses=a.modelResponses.map(oS),u._lastTurnResponse=a.lastModelResponse?oS(a.lastModelResponse):void 0,u._generatedItems=a.generatedItems.map(e=>oC(e,s)),u._lastProcessedResponse=a.lastProcessedResponse?await oT(s,u._currentAgent,a.lastProcessedResponse):void 0,a.currentStep?.type==="next_step_handoff"&&(u._currentStep={type:"next_step_handoff",newAgent:s.get(a.currentStep.newAgent.name)}),u}}function oS(e){let t=new s$;return t.requests=e.usage.requests,t.inputTokens=e.usage.inputTokens,t.outputTokens=e.usage.outputTokens,t.totalTokens=e.usage.totalTokens,{usage:t,output:e.output.map(e=>sL.parse(e)),responseId:e.responseId}}function oC(e,t){switch(e.type){case"message_output_item":return new sJ(e.rawItem,t.get(e.agent.name));case"tool_call_item":return new sY(e.rawItem,t.get(e.agent.name));case"tool_call_output_item":return new sK(e.rawItem,t.get(e.agent.name),e.output);case"reasoning_item":return new sQ(e.rawItem,t.get(e.agent.name));case"handoff_call_item":return new sX(e.rawItem,t.get(e.agent.name));case"handoff_output_item":return new s0(e.rawItem,t.get(e.sourceAgent.name),t.get(e.targetAgent.name));case"tool_approval_item":return new s1(e.rawItem,t.get(e.agent.name))}}async function oT(e,t,r){let n=await t.getAllTools(),i=new Map(n.filter(e=>"function"===e.type).map(e=>[e.name,e])),a=new Map(n.filter(e=>"computer"===e.type).map(e=>[e.name,e])),s=new Map(t.handoffs.map(e=>e instanceof oO?[e.name,ss(e)]:[e.toolName,e])),o={newItems:r.newItems.map(t=>oC(t,e)),toolsUsed:r.toolsUsed,handoffs:r.handoffs.map(e=>{if(!s.has(e.handoff.toolName))throw new nG(`Handoff ${e.handoff.toolName} not found`);return{toolCall:e.toolCall,handoff:s.get(e.handoff.toolName)}}),functions:await Promise.all(r.functions.map(async e=>{if(!i.has(e.tool.name))throw new nG(`Tool ${e.tool.name} not found`);return{toolCall:e.toolCall,tool:i.get(e.tool.name)}})),computerActions:r.computerActions.map(e=>{let t=e.computer.name;if(!a.has(t))throw new nG(`Computer tool ${t} not found`);return{toolCall:e.toolCall,computer:a.get(t)}})};return{...o,hasToolsOrApprovalsToRun:()=>o.handoffs.length>0||o.functions.length>0||o.computerActions.length>0}}function oE(e,t){return!e&&(!!t||"enabled_without_data")}function oA(e,t){return"string"==typeof e&&(e=[{type:"message",role:"user",content:e}]),[...e,...t.map(e=>e.rawItem)]}class oI extends st{config;inputGuardrailDefs;outputGuardrailDefs;constructor(e={}){super(),this.config={modelProvider:e.modelProvider??function(){if(void 0===s)throw Error("No default model provider set. Make sure to set a provider using setDefaultModelProvider before calling getDefaultModelProvider or pass an explicit provider.");return s}(),model:e.model,modelSettings:e.modelSettings,handoffInputFilter:e.handoffInputFilter,inputGuardrails:e.inputGuardrails,outputGuardrails:e.outputGuardrails,tracingDisabled:e.tracingDisabled??!1,traceIncludeSensitiveData:e.traceIncludeSensitiveData??!0,workflowName:e.workflowName??"Agent workflow",traceId:e.traceId,groupId:e.groupId,traceMetadata:e.traceMetadata},this.inputGuardrailDefs=(e.inputGuardrails??[]).map(sr),this.outputGuardrailDefs=(e.outputGuardrails??[]).map(sn)}async #D(e,t,r){return aq(async()=>{let n=t instanceof ok?t:new ok(r.context instanceof sq?r.context:new sq(r.context),t,e,r.maxTurns??10);try{for(;;){let e=n._currentAgent.model??this.config.model;if("string"==typeof e&&(e=await this.config.modelProvider.getModel(e)),n._currentStep=n._currentStep??{type:"next_step_run_again"},"next_step_interruption"===n._currentStep.type){if(n7.debug("Continuing from interruption"),!n._lastTurnResponse||!n._lastProcessedResponse)throw new nG("No model response found in previous state",n);let e=await oe(n._currentAgent,n._originalInput,n._generatedItems,n._lastTurnResponse,n._lastProcessedResponse,this,n);n._toolUseTracker.addToolUse(n._currentAgent,n._lastProcessedResponse.toolsUsed),n._originalInput=e.originalInput,n._generatedItems=e.generatedItems,n._currentStep=e.nextStep;continue}if("next_step_run_again"===n._currentStep.type){let t=n._currentAgent.handoffs.map(so);if(!n._currentAgentSpan){let e=t.map(e=>e.agentName);n._currentAgentSpan=a9({data:{name:n._currentAgent.name,handoffs:e,output_type:n._currentAgent.outputSchemaName}}),n._currentAgentSpan.start(),aZ(n._currentAgentSpan)}let i=await n._currentAgent.getAllTools(),a=i.map(e=>sG(e)),s=t.map(e=>sH(e));if(n._currentAgentSpan&&(n._currentAgentSpan.spanData.tools=i.map(e=>e.name)),n._currentTurn++,n._currentTurn>n._maxTurns)throw n._currentAgentSpan?.setError({message:"Max turns exceeded",data:{max_turns:n._maxTurns}}),new nB(`Max turns (${n._maxTurns}) exceeded`,n);n7.debug(`Running agent ${n._currentAgent.name} (turn ${n._currentTurn})`),1===n._currentTurn&&await this.#M(n);let o=oA(n._originalInput,n._generatedItems);n._noActiveAgentRun&&(n._currentAgent.emit("agent_start",n._context,n._currentAgent),this.emit("agent_start",n._context,n._currentAgent));let l={...this.config.modelSettings,...n._currentAgent.modelSettings};l=s8(n._currentAgent,n._toolUseTracker,l),n._lastTurnResponse=await e.getResponse({systemInstructions:await n._currentAgent.getSystemPrompt(n._context),input:o,previousResponseId:r.previousResponseId,modelSettings:l,tools:a,outputType:n0(n._currentAgent.outputType),handoffs:s,tracing:oE(this.config.tracingDisabled,this.config.traceIncludeSensitiveData)}),n._modelResponses.push(n._lastTurnResponse),n._context.usage.add(n._lastTurnResponse.usage),n._noActiveAgentRun=!1;let u=s3(n._lastTurnResponse,n._currentAgent,i,t);n._lastProcessedResponse=u;let c=await ot(n._currentAgent,n._originalInput,n._generatedItems,n._lastTurnResponse,n._lastProcessedResponse,this,n);n._toolUseTracker.addToolUse(n._currentAgent,n._lastProcessedResponse.toolsUsed),n._originalInput=c.originalInput,n._generatedItems=c.generatedItems,n._currentStep=c.nextStep}if(n._currentStep&&"next_step_final_output"===n._currentStep.type)return await this.#F(n,n._currentStep.output),this.emit("agent_end",n._context,n._currentAgent,n._currentStep.output),n._currentAgent.emit("agent_end",n._context,n._currentStep.output),new sB(n);if(n._currentStep&&"next_step_handoff"===n._currentStep.type)n._currentAgent=n._currentStep.newAgent,n._currentAgentSpan&&(n._currentAgentSpan.end(),az(),n._currentAgentSpan=void 0),n._noActiveAgentRun=!0,n._currentStep={type:"next_step_run_again"};else{if(n._currentStep&&"next_step_interruption"===n._currentStep.type)return new sB(n);n7.debug("Running next loop")}}}catch(e){throw n._currentAgentSpan&&n._currentAgentSpan.setError({message:"Error in agent run",data:{error:String(e)}}),e}finally{n._currentAgentSpan&&(n._currentStep?.type!=="next_step_interruption"&&n._currentAgentSpan.end(),az())}})}async #M(e){let t=this.inputGuardrailDefs.concat(e._currentAgent.inputGuardrails.map(sr));if(t.length>0){let r={agent:e._currentAgent,input:e._originalInput,context:e._context};try{for(let n of(await Promise.all(t.map(async t=>a6(async e=>{let n=await t.run(r);return e.spanData.triggered=n.output.tripwireTriggered,n},{data:{name:t.name}},e._currentAgentSpan)))))if(n.output.tripwireTriggered)throw e._currentAgentSpan&&e._currentAgentSpan.setError({message:"Guardrail tripwire triggered",data:{guardrail:n.guardrail.name}}),new nJ(`Input guardrail triggered: ${JSON.stringify(n.output.outputInfo)}`,n,e)}catch(t){if(t instanceof nJ)throw t;throw e._currentTurn--,new nH(`Input guardrail failed to complete: ${t}`,t,e)}}}async #F(e,t){let r=this.outputGuardrailDefs.concat(e._currentAgent.outputGuardrails.map(sn));if(r.length>0){let n=e._currentAgent.processFinalOutput(t),i={agent:e._currentAgent,agentOutput:n,context:e._context};try{for(let t of(await Promise.all(r.map(async t=>a6(async e=>{let r=await t.run(i);return e.spanData.triggered=r.output.tripwireTriggered,r},{data:{name:t.name}},e._currentAgentSpan)))))if(t.output.tripwireTriggered)throw e._currentAgentSpan&&e._currentAgentSpan.setError({message:"Guardrail tripwire triggered",data:{guardrail:t.guardrail.name}}),new nY(`Output guardrail triggered: ${JSON.stringify(t.output.outputInfo)}`,t,e)}catch(t){if(t instanceof nY)throw t;throw new nH(`Output guardrail failed to complete: ${t}`,t,e)}}}async #Z(e,t){try{for(;;){let r=e.state._currentAgent,n=r.handoffs.map(so),i=await r.getAllTools(),a=i.map(e=>sG(e)),s=n.map(e=>sH(e));if(e.state._currentStep=e.state._currentStep??{type:"next_step_run_again"},"next_step_interruption"===e.state._currentStep.type){if(n7.debug("Continuing from interruption"),!e.state._lastTurnResponse||!e.state._lastProcessedResponse)throw new nG("No model response found in previous state",e.state);let t=await oe(e.state._currentAgent,e.state._originalInput,e.state._generatedItems,e.state._lastTurnResponse,e.state._lastProcessedResponse,this,e.state);ou(e,t),e.state._toolUseTracker.addToolUse(e.state._currentAgent,e.state._lastProcessedResponse.toolsUsed),e.state._originalInput=t.originalInput,e.state._generatedItems=t.generatedItems,e.state._currentStep=t.nextStep;continue}if("next_step_run_again"===e.state._currentStep.type){let o;if(!e.state._currentAgentSpan){let t=n.map(e=>e.agentName);e.state._currentAgentSpan=a9({data:{name:r.name,handoffs:t,tools:i.map(e=>e.name),output_type:r.outputSchemaName}}),e.state._currentAgentSpan.start(),aZ(e.state._currentAgentSpan)}if(e.state._currentTurn++,e.state._currentTurn>e.state._maxTurns)throw e.state._currentAgentSpan?.setError({message:"Max turns exceeded",data:{max_turns:e.state._maxTurns}}),new nB(`Max turns (${e.state._maxTurns}) exceeded`,e.state);n7.debug(`Running agent ${r.name} (turn ${e.state._currentTurn})`);let l=r.model??this.config.model;"string"==typeof l&&(l=await this.config.modelProvider.getModel(l)),1===e.state._currentTurn&&await this.#M(e.state);let u={...this.config.modelSettings,...r.modelSettings};u=s8(r,e.state._toolUseTracker,u);let c=oA(e.input,e.newItems);for await(let n of(e.state._noActiveAgentRun&&(r.emit("agent_start",e.state._context,r),this.emit("agent_start",e.state._context,r)),l.getStreamedResponse({systemInstructions:await r.getSystemPrompt(e.state._context),input:c,previousResponseId:t.previousResponseId,modelSettings:u,tools:a,handoffs:s,outputType:n0(r.outputType),tracing:oE(this.config.tracingDisabled,this.config.traceIncludeSensitiveData)}))){if("response_done"===n.type){let e=sz.parse(n);o={usage:new s$(e.response.usage),output:e.response.output,responseId:e.response.id}}if(e.cancelled)return;e._addItem(new s4(n))}if(e.state._noActiveAgentRun=!1,!o)throw new nV("Model did not procude a final response!",e.state);e.state._lastTurnResponse=o,e.state._modelResponses.push(e.state._lastTurnResponse);let d=s3(e.state._lastTurnResponse,r,i,n);e.state._lastProcessedResponse=d;let p=await ot(r,e.state._originalInput,e.state._generatedItems,e.state._lastTurnResponse,e.state._lastProcessedResponse,this,e.state);ou(e,p),e.state._toolUseTracker.addToolUse(r,d.toolsUsed),e.state._originalInput=p.originalInput,e.state._generatedItems=p.generatedItems,e.state._currentStep=p.nextStep}if("next_step_final_output"===e.state._currentStep.type)return void await this.#F(e.state,e.state._currentStep.output);if("next_step_interruption"===e.state._currentStep.type)return;"next_step_handoff"===e.state._currentStep.type?(e.state._currentAgent=e.state._currentStep?.newAgent,e.state._currentAgentSpan&&(e.state._currentAgentSpan.end(),az()),e.state._currentAgentSpan=void 0,e._addItem(new s5(r)),e.state._noActiveAgentRun=!0,e.state._currentStep={type:"next_step_run_again"}):n7.debug("Running next loop")}}catch(t){throw e.state._currentAgentSpan&&e.state._currentAgentSpan.setError({message:"Error in agent run",data:{error:String(t)}}),t}finally{e.state._currentAgentSpan&&(e.state._currentStep?.type!=="next_step_interruption"&&e.state._currentAgentSpan.end(),az())}}async #z(e,t,r){return r=r??{},aq(async()=>{let n=t instanceof ok?t:new ok(r.context instanceof sq?r.context:new sq(r.context),t,e,r.maxTurns??10),i=new sV({signal:r.signal,state:n});return i.maxTurns=r.maxTurns??n._maxTurns,this.#Z(i,r).then(()=>{i._done()},e=>{i._raiseError(e)}),i})}run(e,t,r={stream:!1,context:void 0}){return t instanceof ok&&t._trace?aM(t._trace,async()=>(t._currentAgentSpan&&aZ(t._currentAgentSpan),r?.stream)?this.#z(e,t,r):this.#D(e,t,r)):aF(async()=>r?.stream?this.#z(e,t,r):this.#D(e,t,r))}}class oO extends se{static create(e){return new oO({...e,handoffs:e.handoffs,outputType:e.outputType,handoffOutputTypeWarningEnabled:!1})}name;instructions;handoffDescription;handoffs;model;modelSettings;tools;mcpServers;inputGuardrails;outputGuardrails;outputType="text";toolUseBehavior;resetToolChoice;constructor(e){if(super(),"string"!=typeof e.name||""===e.name.trim())throw new nG("Agent must have a name.");if(this.name=e.name,this.instructions=e.instructions??"",this.handoffDescription=e.handoffDescription??"",this.handoffs=e.handoffs??[],this.model=e.model??"",this.modelSettings=e.modelSettings??{},this.tools=e.tools??[],this.mcpServers=e.mcpServers??[],this.inputGuardrails=e.inputGuardrails??[],this.outputGuardrails=e.outputGuardrails??[],e.outputType&&(this.outputType=e.outputType),this.toolUseBehavior=e.toolUseBehavior??"run_llm_again",this.resetToolChoice=e.resetToolChoice??!0,(void 0===e.handoffOutputTypeWarningEnabled||e.handoffOutputTypeWarningEnabled)&&this.handoffs&&this.outputType){let e=new Set([JSON.stringify(this.outputType)]);for(let t of this.handoffs)"outputType"in t&&t.outputType?e.add(JSON.stringify(t.outputType)):"agent"in t&&t.agent.outputType&&e.add(JSON.stringify(t.agent.outputType));e.size>1&&n7.warn(`[Agent] Warning: Handoff agents have different output types: ${Array.from(e).join(", ")}. You can make it type-safe by using Agent.create({ ... }) method instead.`)}}get outputSchemaName(){if("text"===this.outputType)return"text";if(nK(this.outputType))return"ZodOutput";if("object"==typeof this.outputType)return this.outputType.name;throw Error(`Unknown output type: ${this.outputType}`)}clone(e){return new oO({...this,...e})}asTool(e){let{toolName:t,toolDescription:r,customOutputExtractor:n}=e;return it({name:t??nQ(this.name),description:r??"",parameters:{type:"object",properties:{input:{type:"string"}},required:["input"],additionalProperties:!1},strict:!0,execute:async(e,t)=>{var r;if(!("object"==typeof e&&null!==e&&"input"in e&&"string"==typeof e.input))throw new nV("Agent tool called with invalid input");let i=new oI,a=await i.run(this,e.input,{context:t?.context});return"function"==typeof n?n(a):0===(r=a.rawResponses[a.rawResponses.length-1]).output.length?"":s2(r.output[r.output.length-1])||""}})}async getSystemPrompt(e){return"function"==typeof this.instructions?await this.instructions(e,this):this.instructions}async getMcpTools(){return this.mcpServers.length>0?aI(this.mcpServers):[]}async getAllTools(){return[...await this.getMcpTools(),...this.tools]}processFinalOutput(e){if("text"===this.outputType)return e;if("object"==typeof this.outputType){let t=JSON.parse(e);return nK(this.outputType)?this.outputType.parse(t):t}throw Error(`Unknown output type: ${this.outputType}`)}toJSON(){return{name:this.name}}}u=aW(),a2().registerProcessor(u);class oN extends oO{voice;constructor(e){super(e),this.voice=e.voice??"ash"}}function oP({policyHint:e,...t}){let r=sn(t),n=e??r.name;return{...r,policyHint:n,run:async e=>{let t=await r.run(e);return{...t,guardrail:{...t.guardrail,policyHint:n}}}}}let oR=n6("openai-agents:realtime");av({itemId:af()});let oj=ax("role",[av({itemId:af(),previousItemId:af().nullable().optional(),type:aS("message"),role:aS("system"),content:a_(av({type:aS("input_text"),text:af()}))}),av({itemId:af(),previousItemId:af().nullable().optional(),type:aS("message"),role:aS("user"),status:aC(["in_progress","completed"]),content:a_(av({type:aS("input_text"),text:af()}).or(av({type:aS("input_audio"),audio:af().nullable().optional(),transcript:af().nullable()})))}),av({itemId:af(),previousItemId:af().nullable().optional(),type:aS("message"),role:aS("assistant"),status:aC(["in_progress","completed","incomplete"]),content:a_(av({type:aS("text"),text:af()}).or(av({type:aS("audio"),audio:af().nullable().optional(),transcript:af().nullable().optional()})))})]),oL=av({itemId:af(),previousItemId:af().nullable().optional(),type:aS("function_call"),status:aC(["in_progress","completed"]),arguments:af(),name:af(),output:af().nullable()}),oD=av({id:af().optional().nullable(),conversation_id:af().optional().nullable(),max_output_tokens:am().or(aS("inf")).optional().nullable(),metadata:aw(af(),ay()).optional().nullable(),modalities:a_(af()).optional().nullable(),object:aS("realtime.response").optional().nullable(),output:a_(ay()).optional().nullable(),output_audio_format:af().optional().nullable(),status:aC(["completed","incomplete","failed","cancelled","in_progress"]).optional().nullable(),status_details:aw(af(),ay()).optional().nullable(),usage:av({input_tokens:am().optional(),input_tokens_details:aw(af(),ay()).optional().nullable(),output_tokens:am().optional(),output_tokens_details:aw(af(),ay()).optional().nullable()}).optional().nullable(),voice:af().optional().nullable()}),oM=av({id:af().optional(),audio:af().nullable().optional(),text:af().nullable().optional(),transcript:af().nullable().optional(),type:ab([aS("input_text"),aS("input_audio"),aS("item_reference"),aS("text"),aS("audio")])}),oF=av({id:af().optional(),arguments:af().optional(),call_id:af().optional(),content:a_(oM).optional(),name:af().optional(),object:aS("realtime.item").optional(),output:af().optional(),role:aC(["user","assistant","system"]).optional(),status:aC(["completed","incomplete","in_progress"]).optional(),type:aC(["message","function_call","function_call_output"]).optional()}),oZ=av({type:aS("conversation.created"),event_id:af(),conversation:av({id:af().optional(),object:aS("realtime.conversation").optional()})}),oz=av({type:aS("conversation.item.created"),event_id:af(),item:oF,previous_item_id:af().nullable().optional()}),o$=av({type:aS("conversation.item.deleted"),event_id:af(),item_id:af()}),oq=av({type:aS("conversation.item.input_audio_transcription.completed"),event_id:af(),item_id:af(),content_index:am(),transcript:af(),logprobs:a_(ay()).nullable().optional()}),oU=av({type:aS("conversation.item.input_audio_transcription.delta"),event_id:af(),item_id:af(),content_index:am().optional(),delta:af().optional(),logprobs:a_(ay()).nullable().optional()}),oB=av({type:aS("conversation.item.input_audio_transcription.failed"),event_id:af(),item_id:af(),content_index:am(),error:av({code:af().optional(),message:af().optional(),param:af().optional(),type:af().optional()})}),oV=av({type:aS("conversation.item.retrieved"),event_id:af(),item:oF}),oG=av({type:aS("conversation.item.truncated"),event_id:af(),item_id:af(),audio_end_ms:am(),content_index:am()}),oH=av({type:aS("conversation.item.create"),item:oF,event_id:af().optional(),previous_item_id:af().nullable().optional()}),oW=av({type:aS("conversation.item.delete"),item_id:af(),event_id:af().optional()}),oJ=av({type:aS("conversation.item.retrieve"),item_id:af(),event_id:af().optional()}),oY=av({type:aS("conversation.item.truncate"),item_id:af(),audio_end_ms:am(),content_index:am(),event_id:af().optional()}),oK=av({type:aS("error"),event_id:af().optional(),error:ay().optional()}),oQ=av({type:aS("input_audio_buffer.cleared"),event_id:af()}),oX=av({type:aS("input_audio_buffer.append"),audio:af(),event_id:af().optional()}),o0=av({type:aS("input_audio_buffer.clear"),event_id:af().optional()}),o1=av({type:aS("input_audio_buffer.commit"),event_id:af().optional()}),o2=av({type:aS("input_audio_buffer.committed"),event_id:af(),item_id:af(),previous_item_id:af().nullable().optional()}),o4=av({type:aS("input_audio_buffer.speech_started"),event_id:af(),item_id:af(),audio_start_ms:am()}),o9=av({type:aS("input_audio_buffer.speech_stopped"),event_id:af(),item_id:af(),audio_end_ms:am()}),o5=av({type:aS("output_audio_buffer.started"),event_id:af()}).passthrough(),o3=av({type:aS("output_audio_buffer.stopped"),event_id:af()}).passthrough(),o6=av({type:aS("output_audio_buffer.cleared"),event_id:af()}),o7=av({type:aS("rate_limits.updated"),event_id:af(),rate_limits:a_(av({limit:am().optional(),name:aC(["requests","tokens"]).optional(),remaining:am().optional(),reset_seconds:am().optional()}))}),o8=av({type:aS("response.audio.delta"),event_id:af(),item_id:af(),content_index:am(),delta:af(),output_index:am(),response_id:af()}),le=av({type:aS("response.audio.done"),event_id:af(),item_id:af(),content_index:am(),output_index:am(),response_id:af()}),lt=av({type:aS("response.audio_transcript.delta"),event_id:af(),item_id:af(),content_index:am(),delta:af(),output_index:am(),response_id:af()}),lr=av({type:aS("response.audio_transcript.done"),event_id:af(),item_id:af(),content_index:am(),transcript:af(),output_index:am(),response_id:af()}),ln=av({type:aS("response.content_part.added"),event_id:af(),item_id:af(),content_index:am(),output_index:am(),response_id:af(),part:av({audio:af().optional(),text:af().optional(),transcript:af().optional(),type:aC(["text","audio"]).optional()})}),li=av({type:aS("response.content_part.done"),event_id:af(),item_id:af(),content_index:am(),output_index:am(),response_id:af(),part:av({audio:af().optional(),text:af().optional(),transcript:af().optional(),type:aC(["text","audio"]).optional()})}),la=av({type:aS("response.created"),event_id:af(),response:oD}),ls=av({type:aS("response.done"),event_id:af(),response:oD}),lo=av({type:aS("response.function_call_arguments.delta"),event_id:af(),item_id:af(),call_id:af(),delta:af(),output_index:am(),response_id:af()}),ll=av({type:aS("response.function_call_arguments.done"),event_id:af(),item_id:af(),call_id:af(),arguments:af(),output_index:am(),response_id:af()}),lu=av({type:aS("response.output_item.added"),event_id:af(),item:oF,output_index:am(),response_id:af()}),lc=av({type:aS("response.output_item.done"),event_id:af(),item:oF,output_index:am(),response_id:af()}),ld=av({type:aS("response.text.delta"),event_id:af(),item_id:af(),content_index:am(),delta:af(),output_index:am(),response_id:af()}),lp=av({type:aS("response.text.done"),event_id:af(),item_id:af(),content_index:am(),text:af(),output_index:am(),response_id:af()}),lh=av({type:aS("session.created"),event_id:af(),session:ay()}),lf=av({type:aS("session.updated"),event_id:af(),session:ay()}),lm=av({type:aS("response.cancel"),event_id:af().optional(),response_id:af().optional()}),lg=av({type:aS("response.create"),event_id:af().optional(),response:ay().optional()}),ly=av({type:aS("session.update"),event_id:af().optional(),session:ay()}),l_=av({type:aS("transcription_session.update"),event_id:af().optional(),session:ay()}),lv=av({type:aS("transcription_session.updated"),event_id:af(),session:ay()}),lb=av({type:af(),event_id:af().optional().nullable()}).passthrough(),lx=ax("type",[oZ,oz,o$,oq,oU,oB,oV,oG,oK,oQ,o2,o4,o9,o5,o3,o6,o7,o8,le,lt,lr,ln,li,la,ls,lo,ll,lu,lc,ld,lp,lh,lf,lv]);function lw(e){let t=JSON.parse(e.data.toString()),r=lx.safeParse(t);if(!r.success){let e=lb.safeParse(t);return e.success?{data:e.data,isGeneric:!0}:{data:null,isGeneric:!0}}return{data:r.data,isGeneric:!1}}ax("type",[oH,oW,oJ,oY,oX,o0,o1,lm,lg,ly,l_]);let lk={voice:"ash",modalities:["text","audio"],inputAudioFormat:"pcm16",outputAudioFormat:"pcm16",inputAudioTranscription:{model:"gpt-4o-mini-transcribe"},turnDetection:{type:"semantic_vad"}};class lS extends a8{#$;#q;#U=null;eventEmitter=new ns.EventEmitter;constructor(e={}){super(),this.#$=e.model??"gpt-4o-realtime-preview",this.#q=e.apiKey}get currentModel(){return this.#$}set currentModel(e){this.#$=e}async _getApiKey(e){let t=e.apiKey??this.#q;return"function"==typeof t?await t():t}_onMessage(e){let{data:t,isGeneric:r}=lw(e);if(null!==t&&(this.emit("*",t),!r)){if("error"===t.type?this.emit("error",{type:"error",error:t}):this.emit(t.type,t),"response.created"===t.type)return void this.emit("turn_started",{type:"response_started",providerData:{...t}});if("response.done"===t.type){let e=ls.safeParse(t);if(!e.success)return void oR.error("Error parsing response done event",e.error);let r=e.data.response.usage?.input_tokens??0,n=e.data.response.usage?.output_tokens??0,i=r+n,a=new s$({inputTokens:r,inputTokensDetails:e.data.response.usage?.input_tokens_details??{},outputTokens:n,outputTokensDetails:e.data.response.usage?.output_tokens_details??{},totalTokens:i});return this.emit("usage_update",a),void this.emit("turn_done",{type:"response_done",response:{id:e.data.response.id??"",output:e.data.response.output??[],usage:{inputTokens:r,inputTokensDetails:e.data.response.usage?.input_tokens_details??{},outputTokens:n,outputTokensDetails:e.data.response.usage?.output_tokens_details??{},totalTokens:i}}})}if("response.audio.done"===t.type)return void this.emit("audio_done");if("conversation.item.deleted"===t.type)return void this.emit("item_deleted",{itemId:t.item_id});if("conversation.item.input_audio_transcription.completed"===t.type||"conversation.item.truncated"===t.type)return void this.sendEvent({type:"conversation.item.retrieve",item_id:t.item_id});if("conversation.item.input_audio_transcription.delta"===t.type||"response.text.delta"===t.type||"response.audio_transcript.delta"===t.type||"response.function_call_arguments.delta"===t.type){"response.audio_transcript.delta"===t.type&&this.emit("audio_transcript_delta",{type:"transcript_delta",delta:t.delta,itemId:t.item_id,responseId:t.response_id});return}if(("conversation.item.created"===t.type||"conversation.item.retrieved"===t.type)&&"message"===t.item.type){let e="conversation.item.created"===t.type?t.previous_item_id:null,r=oj.parse({itemId:t.item.id,previousItemId:e,type:t.item.type,role:t.item.role,content:t.item.content,status:t.item.status});this.emit("item_update",r);return}if("response.output_item.done"===t.type||"response.output_item.added"===t.type){let e=t.item;if("function_call"===e.type&&"completed"===e.status){let t=oL.parse({itemId:e.id,type:e.type,status:"in_progress",arguments:e.arguments,name:e.name,output:null});this.emit("item_update",t),this.emit("function_call",{id:e.id,type:"function_call",callId:e.call_id??"",arguments:e.arguments??"",name:e.name??""});return}if("message"===e.type){let e=oj.parse({itemId:t.item.id,type:t.item.type,role:t.item.role,content:t.item.content,status:"in_progress"});this.emit("item_update",e);return}}}}_onError(e){this.emit("error",{type:"error",error:e})}_onOpen(){this.emit("connected")}_onClose(){this.emit("disconnected")}sendMessage(e,t){this.sendEvent({type:"conversation.item.create",item:"string"==typeof e?{type:"message",role:"user",content:[{type:"input_text",text:e}]}:e,...t}),this.sendEvent({type:"response.create"})}_getMergedSessionConfig(e){return{instructions:e.instructions,model:e.model??this.#$??lk.model,voice:e.voice??lk.voice,modalities:e.modalities??lk.modalities,input_audio_format:e.inputAudioFormat??lk.inputAudioFormat,output_audio_format:e.outputAudioFormat??lk.outputAudioFormat,input_audio_transcription:e.inputAudioTranscription??lk.inputAudioTranscription,turn_detection:e.turnDetection??lk.turnDetection,tool_choice:e.toolChoice??lk.toolChoice,tools:e.tools?.map(e=>({...e,strict:void 0})),...e.providerData??{}}}set _tracingConfig(e){this.#U=e}_updateTracingConfig(e){if(void 0===this.#U&&(this.#U=null),"auto"===e)return void this.sendEvent({type:"session.update",session:{tracing:"auto"}});if("string"!=typeof this.#U&&"string"!=typeof e)return void oR.warn("Tracing config is already set, skipping setting it again. This likely happens when you already set a tracing config on session creation.");if(null===e){oR.debug("Disabling tracing for this session. It cannot be turned on for this session from this point on."),this.sendEvent({type:"session.update",session:{tracing:null}});return}return null===this.#U||"string"==typeof this.#U?void this.sendEvent({type:"session.update",session:{tracing:e}}):e?.group_id!==this.#U?.group_id||e?.metadata!==this.#U?.metadata||e?.workflow_name!==this.#U?.workflow_name?void oR.warn("Mismatch in tracing config. Ignoring the new tracing config. This likely happens when you already set a tracing config on session creation. Current tracing config: %s, new tracing config: %s",JSON.stringify(this.#U),JSON.stringify(e)):void this.sendEvent({type:"session.update",session:{tracing:e}})}updateSessionConfig(e){let t=this._getMergedSessionConfig(e);this.sendEvent({type:"session.update",session:t})}sendFunctionCallOutput(e,t,r=!0){this.sendEvent({type:"conversation.item.create",item:{type:"function_call_output",output:t,call_id:e.callId}});try{let r=oL.parse({itemId:e.id,previousItemId:e.previousItemId,type:"function_call",status:"completed",arguments:e.arguments,name:e.name,output:t});this.emit("item_update",r)}catch(t){oR.error("Error parsing tool call item",t,e)}r&&this.sendEvent({type:"response.create"})}sendAudio(e,{commit:t=!1}={}){this.sendEvent({type:"input_audio_buffer.append",audio:btoa(String.fromCharCode(...new Uint8Array(e)))}),t&&this.sendEvent({type:"input_audio_buffer.commit"})}resetHistory(e,t){let{removals:r,additions:n,updates:i}=function(e,t){let r=e.filter(e=>!t.some(t=>t.itemId===e.itemId));return{removals:r,additions:t.filter(t=>!e.some(e=>e.itemId===t.itemId)),updates:t.filter(t=>e.some(e=>e.itemId===t.itemId&&JSON.stringify(e)!==JSON.stringify(t)))}}(e,t),a=new Set(r.map(e=>e.itemId));for(let e of i)a.add(e.itemId);if(a.size>0)for(let e of a)this.sendEvent({type:"conversation.item.delete",item_id:e});for(let e of[...n,...i])if("message"===e.type){let t={type:"message",role:e.role,content:e.content,id:e.itemId};"system"!==e.role&&e.status&&(t.status=e.status),this.sendEvent({type:"conversation.item.create",item:t})}else"function_call"===e.type&&oR.warn("Function calls cannot be manually added or updated at the moment. Ignoring.")}}class lC extends lS{options;#B;#V={status:"disconnected",peerConnection:void 0,dataChannel:void 0};#G;#H=!1;#W=!1;constructor(e={}){if("undefined"==typeof RTCPeerConnection)throw Error("WebRTC is not supported in this environment");super(e),this.options=e,this.#B=e.baseUrl??"https://api.openai.com/v1/realtime",this.#G=e.useInsecureApiKey??!1}get status(){return this.#V.status}get connectionState(){return this.#V}get muted(){return this.#W}async connect(e){if("connected"===this.#V.status)return;"connecting"===this.#V.status&&oR.warn("Realtime connection already in progress. Please await original promise");let t=e.model??this.currentModel;this.currentModel=t;let r=e.url??this.#B,n=await this._getApiKey(e);return"string"==typeof n&&n.startsWith("ek_"),new Promise(async(t,i)=>{try{let a={...e.initialSessionConfig||{},model:this.currentModel},s=new URL(r),o=new RTCPeerConnection,l=o.createDataChannel("oai-events");this.#V={status:"connecting",peerConnection:o,dataChannel:l},this.emit("connection_change",this.#V.status),l.addEventListener("open",()=>{this.#V={status:"connected",peerConnection:o,dataChannel:l},this.updateSessionConfig(a),this.emit("connection_change",this.#V.status),this._onOpen(),t()}),l.addEventListener("error",e=>{this.close(),this._onError(e),i(e)}),l.addEventListener("message",e=>{this._onMessage(e);let{data:t,isGeneric:r}=lw(e);t&&!r&&("response.created"===t.type?this.#H=!0:"response.done"===t.type&&(this.#H=!1),"session.created"===t.type&&(this._tracingConfig=t.session.tracing,this._updateTracingConfig(a.tracing??"auto")))});let u=this.options.audioElement??document.createElement("audio");u.autoplay=!0,o.ontrack=e=>{u.srcObject=e.streams[0]};let c=this.options.mediaStream??await navigator.mediaDevices.getUserMedia({audio:!0});o.addTrack(c.getAudioTracks()[0]),this.options.changePeerConnection&&(o=await this.options.changePeerConnection(o),this.#V={...this.#V,peerConnection:o});let d=await o.createOffer();if(await o.setLocalDescription(d),!d.sdp)throw Error("Failed to create offer");let p={...this._getMergedSessionConfig(a),model:this.currentModel},h=new FormData;h.append("sdp",d.sdp),h.append("session",JSON.stringify(p));let f=await fetch(s,{method:"POST",body:h,headers:{Authorization:`Bearer ${n}`,"X-OpenAI-Agents-SDK":na["X-OpenAI-Agents-SDK"]}}),m={type:"answer",sdp:await f.text()};await o.setRemoteDescription(m)}catch(e){this.close(),this._onError(e),i(e)}})}sendEvent(e){if(!this.#V.dataChannel||"open"!==this.#V.dataChannel.readyState)throw Error("WebRTC data channel is not connected. Make sure you call `connect()` before sending events.");this.#V.dataChannel.send(JSON.stringify(e))}mute(e){this.#W=e,this.#V.peerConnection&&this.#V.peerConnection.getSenders().forEach(t=>{t.track&&(t.track.enabled=!e)})}close(){if(this.#V.dataChannel&&this.#V.dataChannel.close(),this.#V.peerConnection){let e=this.#V.peerConnection;e.getSenders().forEach(e=>{e.track?.stop()}),e.close()}"disconnected"!==this.#V.status&&(this.#V={status:"disconnected",peerConnection:void 0,dataChannel:void 0},this.emit("connection_change",this.#V.status),this._onClose())}interrupt(){this.#H&&(this.sendEvent({type:"response.cancel"}),this.#H=!1),this.sendEvent({type:"output_audio_buffer.clear"})}}r(3090),r(4203),r(6207);var lT=r(2635);r(6495);class lE extends lS{#q;#B;#V={status:"disconnected",websocket:void 0};#G;#J;#Y;_firstAudioTimestamp;_audioLengthMs=0;#H=!1;constructor(e={}){super(e),this.#B=`wss://api.openai.com/v1/realtime?model=${this.currentModel}`,this.#G=e.useInsecureApiKey??!1}get status(){return this.#V.status}get connectionState(){return this.#V}get muted(){return null}get currentItemId(){return this.#J}_onAudio(e){this.emit("audio",e)}#K(e,t,r){if(this.#V.websocket)return void e();if(!this.#q)throw new nG("API key is not set. Please call `connect()` with an API key first.");let n={headers:{Authorization:`Bearer ${this.#q}`,"OpenAI-Beta":"realtime=v1",...na}},i=new lT(this.#B,n);this.#V={status:"connecting",websocket:i},this.emit("connection_change",this.#V.status),i.addEventListener("open",()=>{this.#V={status:"connected",websocket:i},this.emit("connection_change",this.#V.status),this._onOpen(),e()}),i.addEventListener("error",e=>{this._onError(e),this.#V={status:"disconnected",websocket:void 0},this.emit("connection_change",this.#V.status),t(e)}),i.addEventListener("message",e=>{this._onMessage(e);let{data:t,isGeneric:n}=lw(e);if(t&&!n)if("response.audio.delta"===t.type){this.#Y=t.content_index,this.#J=t.item_id,void 0===this._firstAudioTimestamp&&(this._firstAudioTimestamp=Date.now(),this._audioLengthMs=0);let e=function(e){let t=atob(e),r=t.length,n=new Uint8Array(r);for(let e=0;e<r;e++)n[e]=t.charCodeAt(e);return n.buffer}(t.delta);this._audioLengthMs+=e.byteLength/24/2;let r={type:"audio",data:e,responseId:t.response_id};this._onAudio(r)}else"input_audio_buffer.speech_started"===t.type?this.interrupt():"response.created"===t.type?this.#H=!0:"response.done"===t.type?this.#H=!1:"session.created"===t.type&&(this._tracingConfig=t.session.tracing,this._updateTracingConfig(r.tracing??"auto"))}),i.addEventListener("close",()=>{this.#V={status:"disconnected",websocket:void 0},this.emit("connection_change",this.#V.status),this._onClose()})}async connect(e){let t=e.model??this.currentModel;this.currentModel=t,this.#q=await this._getApiKey(e),this.#B=e.url??`wss://api.openai.com/v1/realtime?model=${this.currentModel}`;let r={...e.initialSessionConfig||{},model:this.currentModel};await new Promise((e,t)=>{try{this.#K(e,t,r)}catch(e){t(e)}}),await this.updateSessionConfig(r)}sendEvent(e){if(!this.#V.websocket)throw Error("WebSocket is not connected. Make sure you call `connect()` before sending events.");this.#V.websocket.send(JSON.stringify(e))}close(){this.#V.websocket?.close(),this.#J=void 0,this._firstAudioTimestamp=void 0,this._audioLengthMs=0,this.#Y=void 0}mute(e){throw Error("Mute is not supported for the WebSocket transport. You have to mute the audio input yourself.")}sendAudio(e,t={}){"connected"===this.#V.status&&super.sendAudio(e,t)}_cancelResponse(){this.#H&&(this.sendEvent({type:"response.cancel"}),this.#H=!1)}_interrupt(e){this.emit("audio_interrupted"),this.sendEvent({type:"conversation.item.truncate",item_id:this.#J,content_index:this.#Y,audio_end_ms:e})}interrupt(){if(!this.#J||"number"!=typeof this._firstAudioTimestamp)return;this._cancelResponse();let e=Date.now()-this._firstAudioTimestamp;e>=0&&e<this._audioLengthMs&&this._interrupt(e),this.#J=void 0,this._firstAudioTimestamp=void 0,this._audioLengthMs=0,this.#Y=void 0}}class lA extends ns.EventEmitter{initialAgent;options;#Q;#X;#ee=[];#et;#er=[];#en;#ei={};#ea=[];#es;#eo={};constructor(e,t={}){super(),this.initialAgent=e,this.options=t,(void 0!==t.transport||("undefined"==typeof window?1:void 0===window.RTCPeerConnection))&&"webrtc"!==t.transport?"websocket"===t.transport||void 0===t.transport?this.#Q=new lE:this.#Q=t.transport:this.#Q=new lC,this.#X=e,this.#et=new sq({...t.context??{},history:this.#ea}),this.#er=(t.outputGuardrails??[]).map(oP),this.#en={debounceTextLength:(t.outputGuardrailSettings??{}).debounceTextLength??100},this.#es=t.historyStoreAudio??!1}get transport(){return this.#Q}get currentAgent(){return this.#X}get usage(){return this.#et.usage}get context(){return this.#et}get muted(){return this.#Q.muted}get history(){return this.#ea}async #el(e){this.#X=e;let t=this.#X.handoffs.map(so).map(e=>e.getHandoffAsFunctionTool());this.#ee=[...(await this.#X.getAllTools()).filter(e=>"function"===e.type),...t]}async #eu(e={}){let t=await this.#X.getSystemPrompt(this.#et),r=this.options.tracingDisabled?null:this.options.workflowName?{workflow_name:this.options.workflowName}:"auto";return null!==r&&"auto"!==r?(this.options.groupId&&(r.group_id=this.options.groupId),this.options.traceMetadata&&(r.metadata=this.options.traceMetadata)):(this.options.groupId||this.options.traceMetadata)&&oR.warn("In order to set traceMetadata or a groupId you need to specify a workflowName."),{instructions:t,voice:this.#X.voice,model:this.options.model,tools:this.#ee,tracing:r,...e}}async updateAgent(e){return this.#X.emit("agent_handoff",this.#et,e),this.emit("agent_handoff",this.#et,this.#X,e),await this.#el(e),await this.#Q.updateSessionConfig(await this.#eu()),e}async #ec(e,t){let r=await t.onInvokeHandoff(this.#et,e.arguments);this.#X.emit("agent_handoff",this.#et,r),this.emit("agent_handoff",this.#et,this.#X,r),await this.#el(r),await this.#Q.updateSessionConfig(await this.#eu());let n=si(r);return this.#Q.sendFunctionCallOutput(e,n,!0),r}async #ed(e,t){this.#et.context.history=JSON.parse(JSON.stringify(this.#ea));let r=e.arguments;if(t.parameters&&(r=nK(t.parameters)?t.parameters.parse(r):JSON.parse(r)),await t.needsApproval(this.#et,r,e.callId)){let r=this.context.isToolApproved({toolName:t.name,callId:e.callId});if(!1===r){this.emit("agent_tool_start",this.#et,this.#X,t),this.#X.emit("agent_tool_start",this.#et,t);let r="Tool execution was not approved.";this.#Q.sendFunctionCallOutput(e,r,!0),this.emit("agent_tool_end",this.#et,this.#X,t,r),this.#X.emit("agent_tool_end",this.#et,t,r);return}if(void 0===r)return void this.emit("tool_approval_requested",this.#et,this.#X,{type:"function_approval",tool:t,approvalItem:new s1(e,this.#X)})}this.emit("agent_tool_start",this.#et,this.#X,t),this.#X.emit("agent_tool_start",this.#et,t),this.#et.context.history=JSON.parse(JSON.stringify(this.#ea));let n=n8(await t.invoke(this.#et,e.arguments));this.#Q.sendFunctionCallOutput(e,n,!0),this.emit("agent_tool_end",this.#et,this.#X,t,n),this.#X.emit("agent_tool_end",this.#et,t,n)}async #ep(e){let t=new Map(this.#X.handoffs.map(so).map(e=>[e.toolName,e])),r=new Map((await this.#X.getAllTools()).map(e=>[e.name,e])),n=t.get(e.name);if(n)await this.#ec(e,n);else{let t=r.get(e.name);if(t&&"function"===t.type)await this.#ed(e,t);else throw new nV(`Tool ${e.name} not found`)}}async #F(e,t){if(0===this.#er.length)return;let r={agent:this.#X,agentOutput:e,context:this.#et},n=(await Promise.all(this.#er.map(e=>e.run(r)))).find(e=>e.output.tripwireTriggered);if(n){if(this.#eo[t])return;this.#eo[t]=!0;let e=new nY(`Output guardrail triggered: ${JSON.stringify(n.output.outputInfo)}`,n);this.emit("guardrail_tripped",this.#et,this.#X,e),this.interrupt();let r=`
⚠️ Your last answer was blocked. 
Failed Guardrail Reason: ${n.guardrail.policyHint}. 
Failure Details: ${JSON.stringify(n.output.outputInfo??{})}. 
Please respond again following policy. Apologize for not being able to answer the question (while avoiding the specific reason) and divert discussion back to an approved topic immediately and not invite more discussion.
`.trim();this.sendMessage(r);return}}#eh(){let e;this.#Q.on("*",e=>{this.emit("transport_event",e)}),this.#Q.on("audio",e=>{this.emit("audio",e)}),this.#Q.on("turn_started",()=>{this.emit("agent_start",this.#et,this.#X),this.#X.emit("agent_start",this.#et,this.#X)}),this.#Q.on("turn_done",e=>{let t=function(e){if(null==e||"object"!=typeof e||!("type"in e)||"string"!=typeof e.type||!e.type||"message"!==e.type||!("content"in e)||!Array.isArray(e.content)||e.content.length<1)return;let t=e.content[e.content.length-1];if("type"in t&&"string"==typeof t.type){if("text"===t.type)return"string"==typeof t.text?t.text:void 0;if("audio"===t.type)return"string"==typeof t.transcript?t.transcript:void 0}}(e.response.output[e.response.output.length-1])??"";this.emit("agent_end",this.#et,this.#X,t),this.#X.emit("agent_end",this.#et,t),this.#F(t,e.response.id)}),this.#Q.on("audio_done",()=>{this.emit("audio_stopped",this.#et,this.#X)});let t=0;this.#Q.on("audio_transcript_delta",r=>{try{let n=r.delta,i=r.itemId,a=r.responseId;e!==i&&(e=i,t=0);let s=(this.#ei[i]??"")+n;if(this.#ei[i]=s,this.#en.debounceTextLength<0)return;let o=Math.floor(s.length/this.#en.debounceTextLength);o>t&&(t=o,this.#F(s,a))}catch(e){this.emit("error",{type:"error",error:e})}}),this.#Q.on("item_update",e=>{try{let t=!this.#ea.some(t=>t.itemId===e.itemId);if(this.#ea=function(e,t,r){let n=r||"message"!==t.type?t:ni(t),i=e.findIndex(e=>e.itemId===t.itemId);if(-1!==i)return e.map((e,t)=>t===i?n:r||"message"!==e.type?e:ni(e));if(!t.previousItemId)return[...e,n];{let r=e.findIndex(e=>e.itemId===t.previousItemId);return -1!==r?[...e.slice(0,r+1),n,...e.slice(r+1)]:[...e,n]}}(this.#ea,e,this.#es),this.#et.context.history=this.#ea,t){let t=this.#ea.find(t=>t.itemId===e.itemId);t&&this.emit("history_added",t)}this.emit("history_updated",this.#ea)}catch(e){this.emit("error",{type:"error",error:e})}}),this.#Q.on("item_deleted",e=>{try{this.#ea=this.#ea.filter(t=>t.itemId!==e.itemId),this.#et.context.history=this.#ea,this.emit("history_updated",this.#ea)}catch(e){this.emit("error",{type:"error",error:e})}}),this.#Q.on("function_call",async e=>{try{await this.#ep(e)}catch(e){oR.error("Error handling function call",e),this.emit("error",{type:"error",error:e})}}),this.#Q.on("usage_update",e=>{this.#et.usage.add(e)}),this.#Q.on("audio_interrupted",()=>{this.emit("audio_interrupted",this.#et,this.#X)}),this.#Q.on("error",e=>{this.emit("error",e)})}async connect(e){await this.#el(this.initialAgent),this.#eh(),await this.#Q.connect({apiKey:e.apiKey??this.options.apiKey,model:this.options.model,initialSessionConfig:await this.#eu(this.options.config)}),this.#ea=[],this.emit("history_updated",this.#ea)}updateHistory(e){let t;t="function"==typeof e?e(this.#ea):e,this.#Q.resetHistory(this.#ea,t)}sendMessage(e,t={}){this.#Q.sendMessage(e,t)}mute(e){this.#Q.mute(e)}close(){this.#eo={},this.#Q.close()}sendAudio(e,t={}){this.#Q.sendAudio(e,t)}interrupt(){this.#Q.interrupt()}async approve(e,t={alwaysApprove:!1}){this.#et.approveTool(e,t);let r=this.#X.tools.find(t=>t.name===e.rawItem.name);if(r&&"function"===r.type)await this.#ed(e.rawItem,r);else throw new nV(`Tool ${e.rawItem.name} not found`)}async reject(e,t={alwaysReject:!1}){this.#et.rejectTool(e,t);let r=this.#X.tools.find(t=>t.name===e.rawItem.name);if(r&&"function"===r.type)await this.#ed(e.rawItem,r);else throw new nV(`Tool ${e.rawItem.name} not found`)}}function lI(){let{transcriptItems:e,addTranscriptBreadcrumb:t,addTranscriptMessage:r,updateTranscriptMessage:n,updateTranscriptItem:i}=(0,rY.c)(),{logServerEvent:a}=(0,ne._)(),s=(e=[])=>Array.isArray(e)?e.map(e=>e&&"object"==typeof e?"input_text"===e.type?e.text??"":"audio"===e.type?e.transcript??"":"":"").filter(Boolean).join("\n"):"",o=(e,t=[])=>{if(Array.isArray(t))return t.find(t=>"function_call"===t.type&&t.name===e)},l=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch{console.warn("Failed to parse JSON:",e)}return e},u=(e=[])=>{if(Array.isArray(e))return e.reverse().find(e=>"message"===e.type&&"assistant"===e.role)},c=e=>"moderationCategory"in e?e:"outputInfo"in e?c(e.outputInfo):"output"in e?c(e.output):"result"in e?c(e.result):void 0,d=e=>e.match(/Failure Details: (\{.*?\})/)?.[1];return(0,y.useRef)({handleAgentToolStart:function(e,r,n){let i=o(n.name,e?.context?.history),a=i?.name;t(`function call: ${a}`,i?.arguments)},handleAgentToolEnd:function(e,r,n,i){let a=o(n.name,e?.context?.history);t(`function call result: ${a?.name}`,l(i))},handleHistoryUpdated:function(e){console.log("[handleHistoryUpdated] ",e),e.forEach(e=>{if(!e||"message"!==e.type)return;let{itemId:t,content:r=[]}=e,i=s(r);i&&n(t,i,!1)})},handleHistoryAdded:function(e){if(console.log("[handleHistoryAdded] ",e),!e||"message"!==e.type)return;let{itemId:n,role:i,content:a=[]}=e;if(n&&i){let e="user"===i,o=s(a);e&&!o&&(o="[Transcribing...]");let l=d(o);l?t("Output Guardrail Active",{details:JSON.parse(l)}):r(n,i,o)}},handleTranscriptionDelta:function(e){let t=e.item_id,r=e.delta||"";t&&n(t,r,!0)},handleTranscriptionCompleted:function(t){let r=t.item_id,a=t.transcript&&"\n"!==t.transcript?t.transcript:"[inaudible]";if(r){n(r,a,!1);let t=e.find(e=>e.itemId===r);i(r,{status:"DONE"}),t?.guardrailResult?.status==="IN_PROGRESS"&&i(r,{guardrailResult:{status:"DONE",category:"NONE",rationale:""}})}},handleGuardrailTripped:function(e,t,r){console.log("[guardrail tripped]",e,t,r);let n=c(r.result.output.outputInfo);a({type:"guardrail_tripped",payload:n});let s=u(e?.context?.history);if(s&&n){let e=n.moderationCategory??"NONE",t=n.moderationRationale??"",r=n?.testText;i(s.itemId,{guardrailResult:{status:"DONE",category:e,rationale:t,testText:r}})}}})}function lO(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function lN(e,t,r,n,i){e[t]=r,lO(e,t,n,i)}let lP=(e,t)=>lY(e.innerType._def,t),lR=(e,t)=>{let r={type:"integer",format:"unix-time"};if("openApi3"===t.target)return r;for(let n of e.checks)switch(n.kind){case"min":lN(r,"minimum",n.value,n.message,t);break;case"max":lN(r,"maximum",n.value,n.message,t)}return r},lj=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e,lL={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===o&&(o=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),o),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function lD(e,t){let r={type:"string"};function n(e){return"escape"===t.patternStrategy?lM(e):e}if(e.checks)for(let i of e.checks)switch(i.kind){case"min":lN(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,i.value):i.value,i.message,t);break;case"max":lN(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,i.value):i.value,i.message,t);break;case"email":switch(t.emailStrategy){case"format:email":lF(r,"email",i.message,t);break;case"format:idn-email":lF(r,"idn-email",i.message,t);break;case"pattern:zod":lZ(r,lL.email,i.message,t)}break;case"url":lF(r,"uri",i.message,t);break;case"uuid":lF(r,"uuid",i.message,t);break;case"regex":lZ(r,i.regex,i.message,t);break;case"cuid":lZ(r,lL.cuid,i.message,t);break;case"cuid2":lZ(r,lL.cuid2,i.message,t);break;case"startsWith":lZ(r,RegExp(`^${n(i.value)}`),i.message,t);break;case"endsWith":lZ(r,RegExp(`${n(i.value)}$`),i.message,t);break;case"datetime":lF(r,"date-time",i.message,t);break;case"date":lF(r,"date",i.message,t);break;case"time":lF(r,"time",i.message,t);break;case"duration":lF(r,"duration",i.message,t);break;case"length":lN(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,i.value):i.value,i.message,t),lN(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,i.value):i.value,i.message,t);break;case"includes":lZ(r,RegExp(n(i.value)),i.message,t);break;case"ip":"v6"!==i.version&&lF(r,"ipv4",i.message,t),"v4"!==i.version&&lF(r,"ipv6",i.message,t);break;case"emoji":lZ(r,lL.emoji,i.message,t);break;case"ulid":lZ(r,lL.ulid,i.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":lF(r,"binary",i.message,t);break;case"contentEncoding:base64":lN(r,"contentEncoding","base64",i.message,t);break;case"pattern:zod":lZ(r,lL.base64,i.message,t)}break;case"nanoid":lZ(r,lL.nanoid,i.message,t)}return r}let lM=e=>Array.from(e).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),lF=(e,t,r,n)=>{e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):lN(e,"format",t,r,n)},lZ=(e,t,r,n)=>{e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:lz(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):lN(e,"pattern",lz(t,n),r,n)},lz=(e,t)=>{let r="function"==typeof e?e():e;if(!t.applyRegexFlags||!r.flags)return r.source;let n={i:r.flags.includes("i"),m:r.flags.includes("m"),s:r.flags.includes("s")},i=n.i?r.source.toLowerCase():r.source,a="",s=!1,o=!1,l=!1;for(let e=0;e<i.length;e++){if(s){a+=i[e],s=!1;continue}if(n.i){if(o){if(i[e].match(/[a-z]/)){l?(a+=i[e],a+=`${i[e-2]}-${i[e]}`.toUpperCase(),l=!1):"-"===i[e+1]&&i[e+2]?.match(/[a-z]/)?(a+=i[e],l=!0):a+=`${i[e]}${i[e].toUpperCase()}`;continue}}else if(i[e].match(/[a-z]/)){a+=`[${i[e]}${i[e].toUpperCase()}]`;continue}}if(n.m){if("^"===i[e]){a+=`(^|(?<=[\r
]))`;continue}else if("$"===i[e]){a+=`($|(?=[\r
]))`;continue}}if(n.s&&"."===i[e]){a+=o?`${i[e]}\r
`:`[${i[e]}\r
]`;continue}a+=i[e],"\\"===i[e]?s=!0:o&&"]"===i[e]?o=!1:o||"["!==i[e]||(o=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),r.source}return a};function l$(e,t){if("openApi3"===t.target&&e.keyType?._def.typeName===ny.kY.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,n)=>({...r,[n]:lY(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",n]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:lY(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===ny.kY.ZodString&&e.keyType._def.checks?.length){let n=Object.entries(lD(e.keyType._def,t)).reduce((e,[t,r])=>"type"===t?e:{...e,[t]:r},{});return{...r,propertyNames:n}}return e.keyType?._def.typeName===ny.kY.ZodEnum?{...r,propertyNames:{enum:e.keyType._def.values}}:r}let lq={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},lU=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>lY(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0},lB=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return lY(e.innerType._def,t);let r=lY(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}},lV=(e,t)=>{if("input"===t.pipeStrategy)return lY(e.in._def,t);if("output"===t.pipeStrategy)return lY(e.out._def,t);let r=lY(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=lY(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(e=>void 0!==e)}},lG=(e,t)=>lY(e.innerType._def,t),lH=Symbol("Let zodToJsonSchema decide on which parser to use"),lW={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},lJ=e=>"string"==typeof e?{...lW,basePath:["#"],definitions:{},name:e}:{...lW,basePath:["#"],definitions:{},...e};function lY(e,t,r=!1){let n=t.seen.get(e);if(t.override){let i=t.override?.(e,t,n,r);if(i!==lH)return i}if(n&&!r){let e=lK(n,t);if(void 0!==e)return"$ref"in e&&t.seenRefs.add(e.$ref),e}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let a=lX(e,e.typeName,t,r);return a&&l0(e,t,a),i.jsonSchema=a,a}let lK=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"extract-to-root":let r=e.path.slice(t.basePath.length+1).join("_");return r!==t.name&&"duplicate-ref"===t.nameStrategy&&(t.definitions[r]=e.def),{$ref:[...t.basePath,t.definitionPath,r].join("/")};case"relative":return{$ref:lQ(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},lQ=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},lX=(e,t,r,n)=>{switch(t){case ny.kY.ZodString:return lD(e,r);case ny.kY.ZodNumber:return function(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",lO(r,"type",n.message,t);break;case"min":"jsonSchema7"===t.target?n.inclusive?lN(r,"minimum",n.value,n.message,t):lN(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),lN(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?lN(r,"maximum",n.value,n.message,t):lN(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),lN(r,"maximum",n.value,n.message,t));break;case"multipleOf":lN(r,"multipleOf",n.value,n.message,t)}return r}(e,r);case ny.kY.ZodObject:return function(e,t){let r={type:"object",...Object.entries(e.shape()).reduce((e,[r,n])=>{if(void 0===n||void 0===n._def)return e;let i=[...t.currentPath,"properties",r],a=lY(n._def,{...t,currentPath:i,propertyPath:i});return void 0===a?e:(t.openaiStrictMode&&n.isOptional()&&!n.isNullable()&&console.warn(`Zod field at \`${i.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required
This will become an error in a future version of the SDK.`),{properties:{...e.properties,[r]:a},required:n.isOptional()&&!t.openaiStrictMode?e.required:[...e.required,r]})},{properties:{},required:[]}),additionalProperties:"strict"===t.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:lY(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:lY(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0};return r.required.length||delete r.required,r}(e,r);case ny.kY.ZodBigInt:return function(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":"jsonSchema7"===t.target?n.inclusive?lN(r,"minimum",n.value,n.message,t):lN(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),lN(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?lN(r,"maximum",n.value,n.message,t):lN(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),lN(r,"maximum",n.value,n.message,t));break;case"multipleOf":lN(r,"multipleOf",n.value,n.message,t)}return r}(e,r);case ny.kY.ZodBoolean:return{type:"boolean"};case ny.kY.ZodDate:return function e(t,r,n){let i=n??r.dateStrategy;if(Array.isArray(i))return{anyOf:i.map((n,i)=>e(t,r,n))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return lR(t,r)}}(e,r);case ny.kY.ZodUndefined:return{not:{}};case ny.kY.ZodNull:return"openApi3"===r.target?{enum:["null"],nullable:!0}:{type:"null"};case ny.kY.ZodArray:return function(e,t){let r={type:"array"};return e.type?._def?.typeName!==ny.kY.ZodAny&&(r.items=lY(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&lN(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&lN(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(lN(r,"minItems",e.exactLength.value,e.exactLength.message,t),lN(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}(e,r);case ny.kY.ZodUnion:case ny.kY.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return lU(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(e=>e._def.typeName in lq&&(!e._def.checks||!e._def.checks.length))){let e=r.reduce((e,t)=>{let r=lq[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(r.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=r.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===r.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:r.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(r.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:r.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return lU(e,t)}(e,r);case ny.kY.ZodIntersection:return function(e,t){let r=[lY(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),lY(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),n="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,i=[];return r.forEach(e=>{if(lj(e))i.push(...e.allOf),void 0===e.unevaluatedProperties&&(n=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...n}=e;t=n}else n=void 0;i.push(t)}}),i.length?{allOf:i,...n}:void 0}(e,r);case ny.kY.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,r)=>lY(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:lY(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,r)=>lY(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}(e,r);case ny.kY.ZodRecord:return l$(e,r);case ny.kY.ZodLiteral:return function(e,t){let r=typeof e.value;return"bigint"!==r&&"number"!==r&&"boolean"!==r&&"string"!==r?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===r?"integer":r,enum:[e.value]}:{type:"bigint"===r?"integer":r,const:e.value}}(e,r);case ny.kY.ZodEnum:return{type:"string",enum:[...e.values]};case ny.kY.ZodNativeEnum:return function(e){let t=e.values,r=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),n=Array.from(new Set(r.map(e=>typeof e)));return{type:1===n.length?"string"===n[0]?"string":"number":["string","number"],enum:r}}(e);case ny.kY.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target||"property"===t.nullableStrategy?{type:lq[e.innerType._def.typeName],nullable:!0}:{type:[lq[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){let r=lY(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}let r=lY(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}(e,r);case ny.kY.ZodOptional:return lB(e,r);case ny.kY.ZodMap:return function(e,t){return"record"===t.mapStrategy?l$(e,t):{type:"array",maxItems:125,items:{type:"array",items:[lY(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},lY(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,r);case ny.kY.ZodSet:return function(e,t){let r={type:"array",uniqueItems:!0,items:lY(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&lN(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&lN(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}(e,r);case ny.kY.ZodLazy:return lY(e.getter()._def,r);case ny.kY.ZodPromise:return lY(e.type._def,r);case ny.kY.ZodNaN:case ny.kY.ZodNever:return{not:{}};case ny.kY.ZodEffects:return function(e,t,r){return"input"===t.effectStrategy?lY(e.schema._def,t,r):{}}(e,r,n);case ny.kY.ZodAny:case ny.kY.ZodUnknown:return{};case ny.kY.ZodDefault:return function(e,t){return{...lY(e.innerType._def,t),default:e.defaultValue()}}(e,r);case ny.kY.ZodBranded:return lY(e.type._def,r);case ny.kY.ZodReadonly:return lG(e,r);case ny.kY.ZodCatch:return lP(e,r);case ny.kY.ZodPipeline:return lV(e,r);case ny.kY.ZodFunction:case ny.kY.ZodVoid:case ny.kY.ZodSymbol:default:return}},l0=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),l1=e=>"_def"in e?e._def:e,l2=e=>{let t=lJ(e),r=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(t.definitions).map(([e,r])=>[l1(r),{def:l1(r),path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}},l4=(e,t)=>{let r=l2(t),n="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,i=lY(e._def,void 0===n?r:{...r,currentPath:[...r.basePath,r.definitionPath,n]},!1)??{},a="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==a&&(i.title=a);let s=(()=>{if(function(e){if(!e)return!0;for(let t in e)return!1;return!0}(r.definitions))return;let e={},t=new Set;for(let n=0;n<500;n++){let n=Object.entries(r.definitions).filter(([e])=>!t.has(e));if(0===n.length)break;for(let[i,a]of n)e[i]=lY(l1(a),{...r,currentPath:[...r.basePath,r.definitionPath,i]},!0)??{},t.add(i)}return e})(),o=void 0===n?s?{...i,[r.definitionPath]:s}:i:"duplicate-ref"===r.nameStrategy?{...i,...s||r.seenRefs.size?{[r.definitionPath]:{...s,...r.seenRefs.size?{[n]:i}:void 0}}:void 0}:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,n].join("/"),[r.definitionPath]:{...s,[n]:i}};return"jsonSchema7"===r.target?o.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===r.target&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o},l9=ny.z.enum(["OFFENSIVE","OFF_BRAND","VIOLENCE","NONE"]),l5=ny.z.object({moderationRationale:ny.z.string(),moderationCategory:l9,testText:ny.z.string().optional()});async function l3(e,t="newTelco"){var r;let n=[{role:"user",content:`You are an expert at classifying text according to moderation policies. Consider the provided message, analyze potential classes from output_classes, and output the best classification. Output json, following the provided schema. Keep your analysis and reasoning short and to the point, maximum 2 sentences.

      <info>
      - Company name: ${t}
      </info>

      <message>
      ${e}
      </message>

      <output_classes>
      - OFFENSIVE: Content that includes hate speech, discriminatory language, insults, slurs, or harassment.
      - OFF_BRAND: Content that discusses competitors in a disparaging way.
      - VIOLENCE: Content that includes explicit threats, incitement of harm, or graphic descriptions of physical injury or violence.
      - NONE: If no other classes are appropriate and the message is fine.
      </output_classes>
      `}],i=await fetch("/api/responses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",input:n,text:{format:(r="output_format",function(e,t){let r={...e};return Object.defineProperties(r,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),r}({type:"json_schema",...void 0,name:r,strict:!0,schema:l4(l5,{openaiStrictMode:!0,name:{name:r}.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})},e=>l5.parse(JSON.parse(e))))}})});if(!i.ok)return console.warn("Server returned an error:",i),Promise.reject("Error with runGuardrailClassifier.");let a=await i.json();try{return{...l5.parse(a.output_parsed),testText:e}}catch(e){return console.error("Error parsing the message content as GuardrailOutput:",e),Promise.reject("Failed to parse guardrail output.")}}let l6={item_001:{name:"Chicken or Pork Chow",price:9.25,category:"Lunch Specials"},item_002:{name:"Baby Shrimp Chow Mei",price:9.25,category:"Lunch Specials"},item_003:{name:"Chicken or Pork Lo Mein Chicken",price:9.25,category:"Lunch Specials"},item_004:{name:"Roast Pork Egg Foo Young",price:9.25,category:"Lunch Specials"},item_005:{name:"Sweet & Sour Pork or Chicken Pork",price:9.25,category:"Lunch Specials"},item_006:{name:"Roast Pork with Chinese Vegetable",price:9.25,category:"Lunch Specials"},item_007:{name:"Beef with Chinese Vegetable",price:9.45,category:"Lunch Specials"},item_008:{name:"Moo Goo Gai Pan",price:9.25,category:"Lunch Specials"},item_009:{name:"Pepper Steak with Onion",price:9.45,category:"Lunch Specials"},item_010:{name:"Baby Shrimp with Lobster Sauce",price:9.45,category:"Lunch Specials"},item_011a:{name:"Chicken with Broccoli with White Rice",price:9.25,category:"Lunch Specials"},item_011b:{name:"Chicken with Broccoli with Fried Rice",price:9.25,category:"Lunch Specials"},item_012:{name:"Beef with Broccoli",price:9.45,category:"Lunch Specials"},item_013:{name:"Baby Shrimp with Broccoli",price:9.45,category:"Lunch Specials"},item_014:{name:"Saut\xe9ed Mixed Vegetables",price:8.95,category:"Lunch Specials"},item_015:{name:"Boneless Honey Ribs",price:9.75,category:"Lunch Specials"},item_016:{name:"Sesame Chicken",price:9.75,category:"Lunch Specials"},item_017:{name:"General Tso’s Chicken",price:9.75,category:"Lunch Specials"},item_018:{name:"Hot & Spicy Shrimp",price:9.75,category:"Lunch Specials"},item_019:{name:"Curry Chicken with Onion",price:9.25,category:"Lunch Specials"},item_020:{name:"Broccoli with Garlic Sauce",price:8.95,category:"Lunch Specials"},item_021:{name:"Chicken with Garlic Sauce",price:9.25,category:"Lunch Specials"},item_022:{name:"Beef with Garlic Sauce",price:9.45,category:"Lunch Specials"},item_023:{name:"Baby Shrimp with Garlic Sauce",price:9.45,category:"Lunch Specials"},item_024:{name:"Kung Po Chicken",price:9.25,category:"Lunch Specials"},item_025:{name:"Kung Po Baby Shrimp",price:9.45,category:"Lunch Specials"},item_026:{name:"Hunan Chicken",price:9.25,category:"Lunch Specials"},item_027:{name:"Hunan Beef",price:9.45,category:"Lunch Specials"},item_028:{name:"Hunan Shrimp",price:9.45,category:"Lunch Specials"},item_029:{name:"Kung Po Bean Curd",price:8.95,category:"Lunch Specials"},item_030:{name:"Fried Wings (4)",price:9.65,category:"Lunch Specials"},item_031:{name:"Spring Roll (2)",price:3.95,category:"Appetizers"},item_032:{name:"Roast Pork or Veggie Egg Roll",price:2.15,category:"Appetizers"},item_033:{name:"Shrimp Egg Roll (Each)",price:2.3,category:"Appetizers"},item_034:{name:"Roast Pork Slices (Sm)",price:7.5,category:"Appetizers"},item_035:{name:"Roast Pork Slices (Lg)",price:11.95,category:"Appetizers"},item_036:{name:"Boneless Honey Ribs (Sm)",price:10.25,category:"Appetizers"},item_037:{name:"Boneless Honey Ribs (Lg)",price:17.5,category:"Appetizers"},item_038:{name:"BBQ Spare Ribs (Sm)",price:10.5,category:"Appetizers"},item_039:{name:"BBQ Spare Ribs (Lg)",price:18.49,category:"Appetizers"},item_040:{name:"Golden Chicken Fingers (5)",price:7.25,category:"Appetizers"},item_041:{name:"Fried Wonton (10)",price:5.25,category:"Appetizers"},item_042:{name:"Chicken Wings (4)",price:8.25,category:"Appetizers"},item_043:{name:"Shrimp Toast (4 pcs)",price:5.25,category:"Appetizers"},item_044:{name:"Teriyaki Beef (2)",price:7.25,category:"Appetizers"},item_045:{name:"Teriyaki Chicken (2)",price:6.25,category:"Appetizers"},item_046:{name:"Cheese Wonton (8)",price:6.25,category:"Appetizers"},item_047:{name:"Steamed Dumplings (8)",price:6.99,category:"Appetizers"},item_048:{name:"Pan-Fried Dumplings (8)",price:6.99,category:"Appetizers"},item_049:{name:"Steamed Veggie Dumplings (8)",price:6.99,category:"Appetizers"},item_050:{name:"Pan-Fried Veggie Dumplings (8)",price:6.99,category:"Appetizers"},item_051:{name:"Shrimp Shumai (8)",price:8,category:"Appetizers"},item_052:{name:"Coconut Shrimp (6)",price:8,category:"Appetizers"},item_053:{name:"Tempura Shrimp (8)",price:8,category:"Appetizers"},item_054:{name:"Steamed Shrimp Dumpling (8)",price:8.99,category:"Appetizers"},item_055:{name:"Dumpling with Sesame Sauce (8)",price:7.95,category:"Appetizers"},item_056:{name:"Cold Sesame Noodles",price:6.75,category:"Appetizers"},item_057:{name:"Pu Pu Platter (For 2)",price:16.25,category:"Appetizers"},item_058:{name:"Edamame",price:4.95,category:"Appetizers"},item_059:{name:"Egg Drop Soup (Pt)",price:3.25,category:"Soup"},item_060:{name:"Egg Drop Soup (Qt)",price:5.75,category:"Soup"},item_061:{name:"Wonton Soup (Pt)",price:3.95,category:"Soup"},item_062:{name:"Wonton Soup (Qt)",price:6.5,category:"Soup"},item_063:{name:"Wonton Egg Drop Mix (Pt)",price:4.25,category:"Soup"},item_064:{name:"Wonton Egg Drop Mix (Qt)",price:6.5,category:"Soup"},item_065:{name:"Chicken Rice or Noodle (Pt)",price:4.25,category:"Soup"},item_066:{name:"Chicken Rice or Noodle (Qt)",price:6.5,category:"Soup"},item_067:{name:"Vegetable Soup (Pt)",price:4.75,category:"Soup"},item_068:{name:"Vegetable Soup (Qt)",price:6.75,category:"Soup"},item_069:{name:"Hot & Sour Soup (Pt)",price:4.75,category:"Soup"},item_070:{name:"Hot & Sour Soup (Qt)",price:6.75,category:"Soup"},item_071:{name:"Special Seafood Soup (For 2)",price:10.5,category:"Soup"},item_072:{name:"House Special Soup (For 2)",price:10.5,category:"Soup"},item_073:{name:"Chicken Fried Rice (Pt)",price:6.75,category:"Fried Rice"},item_074:{name:"Chicken Fried Rice (Qt)",price:9.75,category:"Fried Rice"},item_075:{name:"Pork Fried Rice (Pt)",price:6.75,category:"Fried Rice"},item_076:{name:"Pork Fried Rice (Qt)",price:9.75,category:"Fried Rice"},item_077:{name:"Beef Fried Rice (Pt)",price:7.15,category:"Fried Rice"},item_078:{name:"Beef Fried Rice (Qt)",price:10.25,category:"Fried Rice"},item_079:{name:"Shrimp Fried Rice (Pt)",price:7.15,category:"Fried Rice"},item_080:{name:"Shrimp Fried Rice (Qt)",price:10.25,category:"Fried Rice"},item_081:{name:"Vegetable Fried Rice (Pt)",price:6.25,category:"Fried Rice"},item_082:{name:"Vegetable Fried Rice (Qt)",price:9.75,category:"Fried Rice"},item_083:{name:"House Special Fried Rice (Pt)",price:8.5,category:"Fried Rice"},item_084:{name:"House Special Fried Rice (Qt)",price:11.95,category:"Fried Rice"},item_085:{name:"White Meat Chicken Lo Mein (Pt)",price:7.25,category:"Lo Mein"},item_086:{name:"White Meat Chicken Lo Mein (Qt)",price:10.95,category:"Lo Mein"},item_087:{name:"Pork Lo Mein (Pt)",price:7.25,category:"Lo Mein"},item_088:{name:"Pork Lo Mein (Qt)",price:10.95,category:"Lo Mein"},item_089:{name:"Beef Lo Mein (Pt)",price:8,category:"Lo Mein"},item_090:{name:"Beef Lo Mein (Qt)",price:11.95,category:"Lo Mein"},item_091:{name:"Shrimp Lo Mein (Pt)",price:8,category:"Lo Mein"},item_092:{name:"Shrimp Lo Mein (Qt)",price:11.95,category:"Lo Mein"},item_093:{name:"Vegetable Lo Mein (Pt)",price:6.75,category:"Lo Mein"},item_094:{name:"Vegetable Lo Mein (Qt)",price:10.25,category:"Lo Mein"},item_095:{name:"House Special Lo Mein (Pt)",price:8.5,category:"Lo Mein"},item_096:{name:"House Special Lo Mein (Qt)",price:12.75,category:"Lo Mein"}},l7=null;async function l8(e){let t=await fetch("/api/responses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,parallel_tool_calls:!1})});return t.ok?await t.json():(console.warn("Server returned an error:",t),{error:"Something went wrong."})}async function ue(e){if(e?.error)return{error:"Something went wrong."};let t=(e.output??[]).filter(e=>"function_call"===e.type);if(0===t.length)return"no function call";for(let e of(console.log("function calls"),console.log(t),t)){let t=e.name,r=JSON.parse(e.arguments||"{}");switch(t){case"fetchMenuItem":return ua(r);case"sumOrderTool":return ut();case"updateOrder":return ui(r);default:return{result:!0}}}}let ut=()=>l7?l7.ordered_items.reduce((e,t)=>e+t.item_price*t.quantity,0):0,ur=e=>{(l7=l7??{ordered_items:[],delivery_address:""}).delivery_address=e.delivery_address},un=e=>{for(let{itemNumber:t,quantity:r,specialInstruction:n}of(l7=l7??{ordered_items:[],delivery_address:""},e.itemsToAdd)){let e=l6[t];if(!e){console.warn(`Menu item "${t}" not found; skipping`);continue}let i={index:l7.ordered_items.length+1,item_number:t,item_name:e.name,item_price:e.price,quantity:r,...n&&{special_instruction:n}};l7.ordered_items.push(i)}return console.log("Updated order:",l7),l7},ui=e=>{if(!l7)throw Error("No current order to update.");let{index:t,itemNumber:r,quantity:n,specialInstruction:i}=e,a=l7.ordered_items.find(e=>e.index===t);if(!a)throw Error(`Order item with index ${t} not found.`);if(r){let e=l6[r];if(!e)throw Error(`Menu item "${r}" not found.`);a.item_number=r,a.item_name=e.name,a.item_price=e.price}return void 0!==n&&(a.quantity=n),void 0!==i&&(a.special_instruction=i),l7},ua=e=>e.itemNumbers.map(e=>{let t=l6[e];if(!t)throw Error(`Menu item with key "${e}" not found.`);return{itemNumber:e,...t}}),us=()=>l7=l7??{ordered_items:[],delivery_address:""},uo=()=>{(l7=l7??{ordered_items:[],delivery_address:""}).ordered_items=l7.ordered_items.filter(e=>e.quantity>0)},ul={type:"function",name:"updateOrder",description:"Update specified item in the current order",parameters:{type:"object",properties:{index:{type:"number",description:"the item index in the current order"},itemNumber:{type:"string",description:"The item number of the item from the menu"},quantity:{type:"number",description:"The quantity number of the ordered item"},specialInstruction:{type:"string",description:"The special instruction of this item"}},required:["index","itemNumber","quantity","specialInstruction"],additionalProperties:!1}},uu={type:"function",name:"fetchMenuItem",description:"Fetch one or more menu items from the restaurantMenu by their item numbers",parameters:{type:"object",properties:{itemNumbers:{type:"array",description:'The list of menu item keys to fetch (e.g. ["item_001", "item_002"])',items:{type:"string",description:"A single menu item key"}}},required:["itemNumbers"],additionalProperties:!1}},uc=it({name:"sumOrder",description:"Calculate the sum of price of the current order",parameters:{type:"object",properties:{sum:{type:"string",description:"A optional string of order to let the tool start the sum action"}},required:[],additionalProperties:!1},execute:async(e,t)=>{console.log("Sum up current Order: tool call input and details"),console.log(e),console.log(t);let r=ut();console.log("currentorder total dollar:"),console.log(r);let n={orderItem:l7,totalPrice:r};return console.log(n),n}}),ud=it({name:"printOrder",description:"Print order details with the items and delivery instruction.",parameters:{type:"object",properties:{delivery_address:{type:"string",description:"The delivery street address, with zip code and unit number when appropriate. Also with customer's name"}},required:["delivery_address"],additionalProperties:!1},execute:async(e,t)=>{console.log("print order, input and details"),console.log(e),ur(e),uo(),console.log(t),console.log("currentorder: "),console.log(l7)}}),up=it({name:"lookupMenu",description:`Look up the items customer ordered and find the best matched items from the menu.
    If there is no reasonable match in the menu, respond with empty list.
    `,parameters:{type:"object",properties:{orderedItems:{type:"array",description:"The list of items to add to the order",items:{type:"string",description:"The description of customer ordered item (one item at a time) and quantity, special instructions"}}},required:["orderedItems"],additionalProperties:!1},execute:async(e,t)=>{let{orderedItems:r}=e,n={model:"gpt-4.1",input:[{type:"message",role:"system",content:`
              Look up the item customer ordered in the menu and find the best matched items from the menu.
              For each ordered item, do not return more than 5 matches.
              If there is no reasonable match in the menu, respond with empty list.
            `},{type:"message",role:"system",content:`==== Restaurant Menu ====
            ${JSON.stringify(l6,null,2)}
            `},{type:"message",role:"user",content:`==== Ordered Items ====
            ${JSON.stringify(r,null,2)}`}],tools:[uu]};console.log("!!!@@@@@@@!!!process look up menu tool:-------"),console.log(n);let i=await l8(n),a=await ue(i);if(console.log(t),console.log("processlook up menu response:"),console.log(a),console.log(i.output_text),a.error)return a.error;let s=Array.isArray(a)&&a.length>0?JSON.stringify(a,null,2):"nothing found",o=i.output_text?.trim()?` Other comments from lookupMenuTool: ${i.output_text.trim()}`:"";return console.log(s),console.log(o),`Best matched item(s):${s}.${o}`}}),uh=[new oN({name:"chatAgent",voice:"sage",instructions:`
Role Description
You are a helpful junior phone agent for Hunan Wok, a Chinese restaurant.
Your primary task is to take customer phone orders, confirm all details, and collect delivery information clearly and accurately.
You must not handle any non-order-related requests. You should speak the same language as the customer.

General Instructions
Keep conversations short, polite, and efficient.

Use simple, natural language. When calling tools and expect taking more than 1 second, politely ask customer to wait. For example: "Just One moment".

Always confirm details to prevent mistakes.

Handle interruptions or corrections naturally.

Never guess—ask for clarification if uncertain.

Always use the processCustomerAddItem tool to add items to an order, use processCustomerUpdateItem Tool to update or delete items.

If the customer lists multiple items at once, call processCustomerAddItem only once with an array of all item descriptions. Example: ['beef with broccoli', 'chicken fried rice']

Do not call the tool multiple times per round; merge items into a single call where possible.

The tool will validate items against the menu. If an item is invalid, clarify with the customer and add it after confirmation. Avoid adding duplicate items.

When the customer asks to update or delete (delete can be done by setting quantity to 0) an item, always use the processCustomerUpdateItem tool.

Once the order is complete, always call sumOrderTool to get the total price and the full order, confirm the full order and total price with the customer.

At the very end, after confirming the order and delivery details, always call printOrder to finalize and print the order.

Call Flow
1. Greeting
Greet the customer with the restaurant name.

Ask whether the order is for pickup or delivery.

Example: "Hi, this is Hunan Wok. Is this for pickup or delivery?"

2. Collect Delivery Information (if applicable)
If delivery:

Ask for the delivery address and name.

Example: "What's the delivery address and name, please?"

3. Take the Order
Listen carefully for multiple items; split them as needed.

For each item:

ALWAYS call the lookupMenuTool to validate against the menu.

THIS IS IMPORTANT: ALWAYS call the lookupMenuTool to validate against the menu, DO NOT promise or suggest any item that is not in the menu.

If the item is not found from the menu, do not make up any options for suggestion. Only ask customer with the options from the lookupMenuTool.

Ask for options (rice type, size) if not specified.

If customer does not mention quantity, always assume it is one order. Confirm quantity if unclear.

Use processCustomerAddItem to add the item(s) to the order. Validate the item is successfully added to item by looking at the item processCustomerAddItem returned. 

Example: "One General Tso's Chicken combo—got it. With white rice of fried rice?"

"Sorry, we don't have pork fried mei fun on our menu. Would you like something else?

4. Handle Clarifications
If the request is incomplete or ambiguous:

Ask politely.

Use processCustomerUpdateItemTool to update the item that is already in current order. 

Do not use processCustomerAddItem to update item to avoid duplicate.

Examples:

"Did you want that with white rice or fried rice?"

"Sorry, could you repeat that item?"

5. Ask if Anything Else
After confirming items, ask if the customer wants to add more.

Example: “Anything else you'd like to add?”

6. Confirm the Order and Price
Call sumOrderTool to get the total price and the full order.

Read back the entire order and confirm both items and total price. Also ask customer's name to appear in the order delivery address

Example: "So that's one General Tso's Chicken combo with fried rice, one egg roll, and one wonton soup. That'll be $13.75. Is that correct?"

7. Close the Call
Always call the printOrder tool to finalize the order. (This important because otherwise this order will not be created!!!
So you have to call the printOrder tool to actually create this order) 

Say thank you and provide a polite closing.

Example:

Call printOrder Tool.

"Your order is confirmed and successfully submitted. Thanks and have a good day!"
`,tools:[up,it({name:"processCustomerAddItem",description:"Add specified item or items to the current order",parameters:{type:"object",properties:{itemsToAdd:{type:"array",description:"The list of items to add to the order",items:{type:"object",properties:{itemNumber:{type:"string",description:"The item number of the item from the menu, in its original format, for example, item_004"},quantity:{type:"number",description:"The quantity number of the ordered item"},specialInstruction:{type:"string",description:"The special instruction of this item"}},required:["itemNumber","quantity"],additionalProperties:!1}}},required:["itemsToAdd"],additionalProperties:!1},execute:async(e,t)=>{let r=t?.context?.addTranscriptBreadcrumb;console.log("~~~~~~~~~~~adding item tool call input:"),console.log(e),console.log("~~~~~~~~~~~add to item tool details"),console.log(t),un(e);let n=us(),i={"Current Order":n};return console.log("current order after adding item"),console.log(i),r&&r("Current Order:",n),`${JSON.stringify(i,null,2)}`}}),it({name:"processCustomerUpdateItem",description:`Look up the item customer ordered in the current order and find the best matched items from the order, 
    and call the updateOrder tool with the updated item details, if any, to add the item.
    If there is no reasonable match in the order, respond 'item not found in current order'.
    `,parameters:{type:"object",properties:{updateInstruction:{type:"string",description:"The update instruction of the ordered item"}},required:["index","itemNumber","quantity","specialInstruction"],additionalProperties:!1},execute:async(e,t)=>{let{updateInstruction:r}=e,n={model:"gpt-4.1",input:[{type:"message",role:"system",content:"Based on the update instruction, find the corresponding item in the current order, then call the updateItemTool with the updated item details"},{type:"message",role:"user",content:`==== current order ====
            ${JSON.stringify(l7,null,2)}
            `},{type:"message",role:"user",content:r}],tools:[ul]};console.log("!!!@@@@@@@!!!process customer UPDATE item log:-------"),console.log(n);let i=await l8(n);return console.log(i),ue(i),console.log(t),i.text}}),ud,uc]})],uf={chatSupervisor:uh};function um(e,t,r){for(let n=0;n<r.length;n++)e.setUint8(t+n,r.charCodeAt(n))}async function ug(e){let t=await e.arrayBuffer(),r=new AudioContext,n=await r.decodeAudioData(t),i=n.numberOfChannels,a=n.length,s=new Float32Array(a);for(let e=0;e<i;e++){let t=n.getChannelData(e);for(let e=0;e<a;e++)s[e]+=t[e]}for(let e=0;e<a;e++)s[e]/=i;return new Blob([function(e,t){let r=new ArrayBuffer(44+2*e.length),n=new DataView(r);um(n,0,"RIFF"),n.setUint32(4,36+2*e.length,!0),um(n,8,"WAVE"),um(n,12,"fmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,1,!0),n.setUint32(24,t,!0),n.setUint32(28,2*t,!0),n.setUint16(32,2,!0),n.setUint16(34,16,!0),um(n,36,"data"),n.setUint32(40,2*e.length,!0);var i=44;for(let t=0;t<e.length;t++,i+=2){let r=Math.max(-1,Math.min(1,e[t]));n.setInt16(i,r<0?32768*r:32767*r,!0)}return r}(s,n.sampleRate)],{type:"audio/wav"})}let uy=function(){let e=(0,y.useRef)(null),t=(0,y.useRef)([]);return{startRecording:async r=>{let n;try{n=await navigator.mediaDevices.getUserMedia({audio:!0})}catch(e){console.error("Error getting microphone stream:",e),n=new MediaStream}let i=new AudioContext,a=i.createMediaStreamDestination();try{i.createMediaStreamSource(r).connect(a)}catch(e){console.error("Error connecting remote stream to the audio context:",e)}try{i.createMediaStreamSource(n).connect(a)}catch(e){console.error("Error connecting microphone stream to the audio context:",e)}try{let r=new MediaRecorder(a.stream,{mimeType:"audio/webm"});r.ondataavailable=e=>{e.data&&e.data.size>0&&t.current.push(e.data)},r.start(),e.current=r}catch(e){console.error("Error starting MediaRecorder with combined stream:",e)}},stopRecording:()=>{e.current&&(e.current.requestData(),e.current.stop(),e.current=null)},downloadRecording:async()=>{if(e.current&&"recording"===e.current.state&&(e.current.requestData(),await new Promise(e=>setTimeout(e,100))),0===t.current.length)return void console.warn("No recorded chunks found to download.");let r=new Blob(t.current,{type:"audio/webm"});try{let e=await ug(r),t=URL.createObjectURL(e),n=new Date().toISOString().replace(/[:.]/g,"-"),i=document.createElement("a");i.style.display="none",i.href=t,i.download=`realtime_agents_audio_${n}.wav`,document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(()=>URL.revokeObjectURL(t),100)}catch(e){console.error("Error converting recording to WAV:",e)}}}},u_={chatSupervisor:uh},uv=function(){let e=(0,v.useSearchParams)(),t=e.get("codec")||"opus",{addTranscriptMessage:r,addTranscriptBreadcrumb:n}=(0,rY.c)(),{logClientEvent:i,logServerEvent:a}=(0,ne._)(),[s,o]=(0,y.useState)(""),[l,u]=(0,y.useState)(null);(0,y.useRef)(null);let c=(0,y.useRef)(!1),d=_().useMemo(()=>{},[]),{connect:p,disconnect:h,sendUserText:f,sendEvent:m,interrupt:b,mute:w}=function(e={}){let t=(0,y.useRef)(null),[r,n]=(0,y.useState)("DISCONNECTED"),{logClientEvent:i}=(0,ne._)(),a=(0,y.useCallback)(t=>{n(t),e.onConnectionChange?.(t),i({},t)},[e]),{logServerEvent:s}=(0,ne._)();lI().current;let o=(0,y.useRef)("opus"),l=(0,y.useCallback)(e=>(function(e,t){try{let r=RTCRtpSender.getCapabilities?.("audio");if(!r)return;let n=r.codecs.find(e=>e.mimeType.toLowerCase()===`audio/${t.toLowerCase()}`);if(!n)return;e.getTransceivers().filter(e=>e.sender&&e.sender.track?.kind==="audio").forEach(e=>e.setCodecPreferences([n]))}catch(e){console.error("[codecUtils] applyCodecPreferences error",e)}})(e,o.current),[]),u=(0,y.useCallback)(async({getEphemeralKey:e,initialAgents:r,audioElement:n,extraContext:i,outputGuardrails:s})=>{if(t.current)return;a("CONNECTING");let u=await e(),c=r[0],d=(o.current,"pcm16");t.current=new lA(c,{transport:new lC({audioElement:n,changePeerConnection:async e=>(l(e),e)}),model:"gpt-4o-realtime-preview-2025-06-03",config:{inputAudioFormat:d,outputAudioFormat:d,inputAudioTranscription:{model:"gpt-4o-mini-transcribe"}},outputGuardrails:s??[],context:i??{}}),await t.current.connect({apiKey:u}),a("CONNECTED")},[e,a]),c=(0,y.useCallback)(()=>{t.current?.close(),t.current=null,a("DISCONNECTED")},[a]),d=()=>{if(!t.current)throw Error("RealtimeSession not connected")},p=(0,y.useCallback)(()=>{t.current?.interrupt()},[]),h=(0,y.useCallback)(e=>{d(),t.current.sendMessage(e)},[]),f=(0,y.useCallback)(e=>{t.current?.transport.sendEvent(e)},[]),m=(0,y.useCallback)(e=>{t.current?.mute(e)},[]);return{status:r,connect:u,disconnect:c,sendUserText:h,sendEvent:f,mute:m,pushToTalkStart:(0,y.useCallback)(()=>{t.current&&t.current.transport.sendEvent({type:"input_audio_buffer.clear"})},[]),pushToTalkStop:(0,y.useCallback)(()=>{t.current&&(t.current.transport.sendEvent({type:"input_audio_buffer.commit"}),t.current.transport.sendEvent({type:"response.create"}))},[]),interrupt:p}}({onConnectionChange:e=>S(e),onAgentHandoff:e=>{c.current=!0,o(e)}}),[k,S]=(0,y.useState)("DISCONNECTED"),[C,T]=(0,y.useState)(!0),[E,A]=(0,y.useState)(""),[I,O]=(0,y.useState)(!1),[N,P]=(0,y.useState)(!1),[R,j]=(0,y.useState)(()=>!0),{startRecording:L,stopRecording:D,downloadRecording:M}=uy(),F=(e,t="")=>{try{m(e),i(e,t)}catch(e){console.error("Failed to send via SDK",e)}};lI();let Z=async()=>{i({url:"/session"},"fetch_session_token_request");let e=await fetch("/api/session"),t=await e.json();return(a(t,"fetch_session_token_response"),t.client_secret?.value)?t.client_secret.value:(i(t,"error.no_ephemeral_key"),console.error("No ephemeral key provided by the server"),S("DISCONNECTED"),null)},z=async()=>{let t=e.get("agentConfig")||"default";if(u_[t]){if("DISCONNECTED"!==k)return;S("CONNECTING");try{var r;let e=await Z();if(!e)return;let i=[...u_[t]],a=i.findIndex(e=>e.name===s);if(a>0){let[e]=i.splice(a,1);i.unshift(e)}let o=(r="Hunanwok",{name:"moderation_guardrail",async execute({agentOutput:e}){try{let t=await l3(e,r);return{tripwireTriggered:"NONE"!==t.moderationCategory,outputInfo:t}}catch{return{tripwireTriggered:!1,outputInfo:{error:"guardrail_failed"}}}}});await p({getEphemeralKey:async()=>e,initialAgents:i,audioElement:d,outputGuardrails:[o],extraContext:{addTranscriptBreadcrumb:n}})}catch(e){console.error("Error connecting via SDK:",e),S("DISCONNECTED")}return}},$=()=>{h(),S("DISCONNECTED"),P(!1)},q=e.get("agentConfig")||"default";return(0,g.jsxs)("div",{className:"text-base flex flex-col h-screen bg-gray-100 text-gray-800 relative",children:[(0,g.jsxs)("div",{className:"p-5 text-lg font-semibold flex justify-between items-center",children:[(0,g.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:()=>window.location.reload(),children:[(0,g.jsx)("div",{children:(0,g.jsx)(x(),{src:"/openai-logomark.svg",alt:"OpenAI Logo",width:20,height:20,className:"mr-2"})}),(0,g.jsxs)("div",{children:["Realtime API ",(0,g.jsx)("span",{className:"text-gray-500",children:"Agents"})]})]}),(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("label",{className:"flex items-center text-base gap-1 mr-2 font-medium",children:"Scenario"}),(0,g.jsxs)("div",{className:"relative inline-block",children:[(0,g.jsx)("select",{value:q,onChange:e=>{let t=e.target.value,r=new URL(window.location.toString());r.searchParams.set("agentConfig",t),window.location.replace(r.toString())},className:"appearance-none border border-gray-300 rounded-lg text-base px-2 py-1 pr-8 cursor-pointer font-normal focus:outline-none",children:Object.keys(uf).map(e=>(0,g.jsx)("option",{value:e,children:e},e))}),(0,g.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-600",children:(0,g.jsx)("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,g.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.44l3.71-3.21a.75.75 0 111.04 1.08l-4.25 3.65a.75.75 0 01-1.04 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})})]}),q&&(0,g.jsxs)("div",{className:"flex items-center ml-6",children:[(0,g.jsx)("label",{className:"flex items-center text-base gap-1 mr-2 font-medium",children:"Agent"}),(0,g.jsxs)("div",{className:"relative inline-block",children:[(0,g.jsx)("select",{value:s,onChange:e=>{let t=e.target.value;$(),o(t)},className:"appearance-none border border-gray-300 rounded-lg text-base px-2 py-1 pr-8 cursor-pointer font-normal focus:outline-none",children:l?.map(e=>(0,g.jsx)("option",{value:e.name,children:e.name},e.name))}),(0,g.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2 text-gray-600",children:(0,g.jsx)("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,g.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.44l3.71-3.21a.75.75 0 111.04 1.08l-4.25 3.65a.75.75 0 01-1.04 0L5.21 8.27a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})})]})]})]})]}),(0,g.jsxs)("div",{className:"flex flex-1 gap-2 px-2 overflow-hidden relative",children:[(0,g.jsx)(r8,{userText:E,setUserText:A,onSendMessage:()=>{if(E.trim()){b();try{f(E.trim())}catch(e){console.error("Failed to send via SDK",e)}A("")}},downloadRecording:M,canSend:"CONNECTED"===k}),(0,g.jsx)(nt,{isExpanded:C})]}),(0,g.jsx)(nr,{sessionStatus:k,onToggleConnection:()=>{"CONNECTED"===k||"CONNECTING"===k?($(),S("DISCONNECTED")):z()},isPTTActive:I,setIsPTTActive:O,isPTTUserSpeaking:N,handleTalkButtonDown:()=>{"CONNECTED"===k&&(b(),P(!0),F({type:"input_audio_buffer.clear"},"clear PTT buffer"))},handleTalkButtonUp:()=>{"CONNECTED"===k&&N&&(P(!1),F({type:"input_audio_buffer.commit"},"commit PTT"),F({type:"response.create"},"trigger response PTT"))},isEventsPaneExpanded:C,setIsEventsPaneExpanded:T,isAudioPlaybackEnabled:R,setIsAudioPlaybackEnabled:j,codec:t,onCodecChange:e=>{let t=new URL(window.location.toString());t.searchParams.set("codec",e),window.location.replace(t.toString())}})]})}},1204:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(7413),i=r(1120),a=r(9171),s=r(5615),o=r(4660);function l(){return(0,n.jsx)(i.Suspense,{fallback:(0,n.jsx)("div",{children:"Loading..."}),children:(0,n.jsx)(a.TranscriptProvider,{children:(0,n.jsx)(s.EventProvider,{children:(0,n.jsx)(o.default,{})})})})}},1261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return o}});let n=r(4985),i=r(4953),a=r(6533),s=n._(r(1933));function o(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=a.Image},1268:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=r(6632):e.exports=r(678)},1313:(e,t,r)=>{"use strict";r.d(t,{EventProvider:()=>o,_:()=>l});var n=r(687),i=r(3210),a=r(5495);let s=(0,i.createContext)(void 0),o=({children:e})=>{let[t,r]=(0,i.useState)([]);function o(e,t,n){let i=n.event_id||(0,a.A)();r(r=>[...r,{id:i,direction:e,eventName:t,eventData:n,timestamp:new Date().toLocaleTimeString(),expanded:!1}])}return(0,n.jsx)(s.Provider,{value:{loggedEvents:t,logClientEvent:(e,t="")=>{o("client",`${e.type||""} ${t||""}`.trim(),e)},logServerEvent:(e,t="")=>{o("server",`${e.type||""} ${t||""}`.trim(),e)},logHistoryItem:e=>{let t=e.type;"message"===e.type&&(t=`${e.role}.${e.status}`),"function_call"===e.type&&(t=`function.${e.name}.${e.status}`),o("server",t,e)},toggleExpand:e=>{r(t=>t.map(t=>t.id===e?{...t,expanded:!t.expanded}:t))}},children:e})};function l(){let e=(0,i.useContext)(s);if(!e)throw Error("useEvent must be used within an EventProvider");return e}},1480:(e,t)=>{"use strict";function r(e){let{widthInt:t,heightInt:r,blurWidth:n,blurHeight:i,blurDataURL:a,objectFit:s}=e,o=n?40*n:t,l=i?40*i:r,u=o&&l?"viewBox='0 0 "+o+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+u+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(u?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+a+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},1548:(e,t,r)=>{"use strict";let{kForOnEventAttribute:n,kListener:i}=r(1813),a=Symbol("kCode"),s=Symbol("kData"),o=Symbol("kError"),l=Symbol("kMessage"),u=Symbol("kReason"),c=Symbol("kTarget"),d=Symbol("kType"),p=Symbol("kWasClean");class h{constructor(e){this[c]=null,this[d]=e}get target(){return this[c]}get type(){return this[d]}}Object.defineProperty(h.prototype,"target",{enumerable:!0}),Object.defineProperty(h.prototype,"type",{enumerable:!0});class f extends h{constructor(e,t={}){super(e),this[a]=void 0===t.code?0:t.code,this[u]=void 0===t.reason?"":t.reason,this[p]=void 0!==t.wasClean&&t.wasClean}get code(){return this[a]}get reason(){return this[u]}get wasClean(){return this[p]}}Object.defineProperty(f.prototype,"code",{enumerable:!0}),Object.defineProperty(f.prototype,"reason",{enumerable:!0}),Object.defineProperty(f.prototype,"wasClean",{enumerable:!0});class m extends h{constructor(e,t={}){super(e),this[o]=void 0===t.error?null:t.error,this[l]=void 0===t.message?"":t.message}get error(){return this[o]}get message(){return this[l]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends h{constructor(e,t={}){super(e),this[s]=void 0===t.data?null:t.data}get data(){return this[s]}}function y(e,t,r){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}Object.defineProperty(g.prototype,"data",{enumerable:!0}),e.exports={CloseEvent:f,ErrorEvent:m,Event:h,EventTarget:{addEventListener(e,t,r={}){let a;for(let a of this.listeners(e))if(!r[n]&&a[i]===t&&!a[n])return;if("message"===e)a=function(e,r){let n=new g("message",{data:r?e:e.toString()});n[c]=this,y(t,this,n)};else if("close"===e)a=function(e,r){let n=new f("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[c]=this,y(t,this,n)};else if("error"===e)a=function(e){let r=new m("error",{error:e,message:e.message});r[c]=this,y(t,this,r)};else{if("open"!==e)return;a=function(){let e=new h("open");e[c]=this,y(t,this,e)}}a[n]=!!r[n],a[i]=t,r.once?this.once(e,a):this.on(e,a)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[i]===t&&!r[n]){this.removeListener(e,r);break}}},MessageEvent:g}},1630:e=>{"use strict";e.exports=require("http")},1637:(e,t,r)=>{"use strict";let{tokenChars:n}=r(7293);function i(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,r,a=Object.create(null),s=Object.create(null),o=!1,l=!1,u=!1,c=-1,d=-1,p=-1,h=0;for(;h<e.length;h++)if(d=e.charCodeAt(h),void 0===t)if(-1===p&&1===n[d])-1===c&&(c=h);else if(0!==h&&(32===d||9===d))-1===p&&-1!==c&&(p=h);else if(59===d||44===d){if(-1===c)throw SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);let r=e.slice(c,p);44===d?(i(a,r,s),s=Object.create(null)):t=r,c=p=-1}else throw SyntaxError(`Unexpected character at index ${h}`);else if(void 0===r)if(-1===p&&1===n[d])-1===c&&(c=h);else if(32===d||9===d)-1===p&&-1!==c&&(p=h);else if(59===d||44===d){if(-1===c)throw SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h),i(s,e.slice(c,p),!0),44===d&&(i(a,t,s),s=Object.create(null),t=void 0),c=p=-1}else if(61===d&&-1!==c&&-1===p)r=e.slice(c,h),c=p=-1;else throw SyntaxError(`Unexpected character at index ${h}`);else if(l){if(1!==n[d])throw SyntaxError(`Unexpected character at index ${h}`);-1===c?c=h:o||(o=!0),l=!1}else if(u)if(1===n[d])-1===c&&(c=h);else if(34===d&&-1!==c)u=!1,p=h;else if(92===d)l=!0;else throw SyntaxError(`Unexpected character at index ${h}`);else if(34===d&&61===e.charCodeAt(h-1))u=!0;else if(-1===p&&1===n[d])-1===c&&(c=h);else if(-1!==c&&(32===d||9===d))-1===p&&(p=h);else if(59===d||44===d){if(-1===c)throw SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);let n=e.slice(c,p);o&&(n=n.replace(/\\/g,""),o=!1),i(s,r,n),44===d&&(i(a,t,s),s=Object.create(null),t=void 0),r=void 0,c=p=-1}else throw SyntaxError(`Unexpected character at index ${h}`);if(-1===c||u||32===d||9===d)throw SyntaxError("Unexpected end of input");-1===p&&(p=h);let f=e.slice(c,p);return void 0===t?i(a,f,s):(void 0===r?i(s,f,!0):o?i(s,r,f.replace(/\\/g,"")):i(s,r,f),i(a,t,s)),a}}},1645:e=>{"use strict";e.exports=require("net")},1708:e=>{"use strict";e.exports=require("node:process")},1813:e=>{"use strict";let t=["nodebuffer","arraybuffer","fragments"],r="undefined"!=typeof Blob;r&&t.push("blob"),e.exports={BINARY_TYPES:t,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:r,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},1820:e=>{"use strict";e.exports=require("os")},1933:(e,t)=>{"use strict";function r(e){var t;let{config:r,src:n,width:i,quality:a}=e,s=a||(null==(t=r.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return r.path+"?url="+encodeURIComponent(n)+"&w="+i+"&q="+s+(n.startsWith("/_next/static/media/"),"")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),r.__next_img_default=!0;let n=r},1991:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>u});var n=r(5239),i=r(8088),a=r(8170),s=r.n(a),o=r(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let u=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1204)),"E:\\5-Project\\restaurantordering\\github\\restaurantOrderaoesnedfownadioef23424\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,4551)),"E:\\5-Project\\restaurantordering\\github\\restaurantOrderaoesnedfownadioef23424\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"]}],c=["E:\\5-Project\\restaurantordering\\github\\restaurantOrderaoesnedfownadioef23424\\src\\app\\page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},2050:(e,t,r)=>{Promise.resolve().then(r.bind(r,4660)),Promise.resolve().then(r.bind(r,5615)),Promise.resolve().then(r.bind(r,9171))},2635:(e,t,r)=>{"use strict";let n=r(4735),i=r(5591),a=r(1630),s=r(1645),o=r(4631),{randomBytes:l,createHash:u}=r(5511),{Duplex:c,Readable:d}=r(7910),{URL:p}=r(9551),h=r(2666),f=r(4203),m=r(6207),{isBlob:g}=r(7293),{BINARY_TYPES:y,EMPTY_BUFFER:_,GUID:v,kForOnEventAttribute:b,kListener:x,kStatusCode:w,kWebSocket:k,NOOP:S}=r(1813),{EventTarget:{addEventListener:C,removeEventListener:T}}=r(1548),{format:E,parse:A}=r(1637),{toBuffer:I}=r(257),O=Symbol("kAborted"),N=[8,13],P=["CONNECTING","OPEN","CLOSING","CLOSED"],R=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class j extends n{constructor(e,t,r){super(),this._binaryType=y[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=_,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=j.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),function e(t,r,n,s){let o,c,d,f,m={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:N[1],maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=m.autoPong,!N.includes(m.protocolVersion))throw RangeError(`Unsupported protocol version: ${m.protocolVersion} (supported versions: ${N.join(", ")})`);if(r instanceof p)o=r;else try{o=new p(r)}catch(e){throw SyntaxError(`Invalid URL: ${r}`)}"http:"===o.protocol?o.protocol="ws:":"https:"===o.protocol&&(o.protocol="wss:"),t._url=o.href;let g="wss:"===o.protocol,y="ws+unix:"===o.protocol;if("ws:"===o.protocol||g||y?y&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"):c='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"',c){let e=SyntaxError(c);if(0!==t._redirects)return void L(t,e);throw e}let _=g?443:80,b=l(16).toString("base64"),x=g?i.request:a.request,w=new Set;if(m.createConnection=m.createConnection||(g?M:D),m.defaultPort=m.defaultPort||_,m.port=o.port||_,m.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,m.headers={...m.headers,"Sec-WebSocket-Version":m.protocolVersion,"Sec-WebSocket-Key":b,Connection:"Upgrade",Upgrade:"websocket"},m.path=o.pathname+o.search,m.timeout=m.handshakeTimeout,m.perMessageDeflate&&(d=new h(!0!==m.perMessageDeflate?m.perMessageDeflate:{},!1,m.maxPayload),m.headers["Sec-WebSocket-Extensions"]=E({[h.extensionName]:d.offer()})),n.length){for(let e of n){if("string"!=typeof e||!R.test(e)||w.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");w.add(e)}m.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(m.origin&&(m.protocolVersion<13?m.headers["Sec-WebSocket-Origin"]=m.origin:m.headers.Origin=m.origin),(o.username||o.password)&&(m.auth=`${o.username}:${o.password}`),y){let e=m.path.split(":");m.socketPath=e[0],m.path=e[1]}if(m.followRedirects){if(0===t._redirects){t._originalIpc=y,t._originalSecure=g,t._originalHostOrSocketPath=y?m.socketPath:o.host;let e=s&&s.headers;if(s={...s,headers:{}},e)for(let[t,r]of Object.entries(e))s.headers[t.toLowerCase()]=r}else if(0===t.listenerCount("redirect")){let e=y?!!t._originalIpc&&m.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&o.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||g)||(delete m.headers.authorization,delete m.headers.cookie,e||delete m.headers.host,m.auth=void 0)}m.auth&&!s.headers.authorization&&(s.headers.authorization="Basic "+Buffer.from(m.auth).toString("base64")),f=t._req=x(m),t._redirects&&t.emit("redirect",t.url,f)}else f=t._req=x(m);m.timeout&&f.on("timeout",()=>{F(t,f,"Opening handshake has timed out")}),f.on("error",e=>{null===f||f[O]||(f=t._req=null,L(t,e))}),f.on("response",i=>{let a=i.headers.location,o=i.statusCode;if(a&&m.followRedirects&&o>=300&&o<400){let i;if(++t._redirects>m.maxRedirects)return void F(t,f,"Maximum redirects exceeded");f.abort();try{i=new p(a,r)}catch(e){L(t,SyntaxError(`Invalid URL: ${a}`));return}e(t,i,n,s)}else t.emit("unexpected-response",f,i)||F(t,f,`Unexpected server response: ${i.statusCode}`)}),f.on("upgrade",(e,r,n)=>{let i;if(t.emit("upgrade",e),t.readyState!==j.CONNECTING)return;f=t._req=null;let a=e.headers.upgrade;if(void 0===a||"websocket"!==a.toLowerCase())return void F(t,r,"Invalid Upgrade header");let s=u("sha1").update(b+v).digest("base64");if(e.headers["sec-websocket-accept"]!==s)return void F(t,r,"Invalid Sec-WebSocket-Accept header");let o=e.headers["sec-websocket-protocol"];if(void 0!==o?w.size?w.has(o)||(i="Server sent an invalid subprotocol"):i="Server sent a subprotocol but none was requested":w.size&&(i="Server sent no subprotocol"),i)return void F(t,r,i);o&&(t._protocol=o);let l=e.headers["sec-websocket-extensions"];if(void 0!==l){let e;if(!d)return void F(t,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");try{e=A(l)}catch(e){F(t,r,"Invalid Sec-WebSocket-Extensions header");return}let n=Object.keys(e);if(1!==n.length||n[0]!==h.extensionName)return void F(t,r,"Server indicated an extension that was not requested");try{d.accept(e[h.extensionName])}catch(e){F(t,r,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[h.extensionName]=d}t.setSocket(r,n,{allowSynchronousEvents:m.allowSynchronousEvents,generateMask:m.generateMask,maxPayload:m.maxPayload,skipUTF8Validation:m.skipUTF8Validation})}),m.finishRequest?m.finishRequest(f,t):f.end()}(this,e,t,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){y.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let n=new f({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation}),i=new m(e,this._extensions,r.generateMask);this._receiver=n,this._sender=i,this._socket=e,n[k]=this,i[k]=this,e[k]=this,n.on("conclude",z),n.on("drain",$),n.on("error",q),n.on("message",B),n.on("ping",V),n.on("pong",G),i.onerror=W,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Y),e.on("data",K),e.on("end",Q),e.on("error",X),this._readyState=j.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=j.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=j.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==j.CLOSED){if(this.readyState===j.CONNECTING)return void F(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===j.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=j.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),J(this)}}pause(){this.readyState!==j.CONNECTING&&this.readyState!==j.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===j.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==j.OPEN)return void Z(this,e,r);void 0===t&&(t=!this._isServer),this._sender.ping(e||_,t,r)}pong(e,t,r){if(this.readyState===j.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==j.OPEN)return void Z(this,e,r);void 0===t&&(t=!this._isServer),this._sender.pong(e||_,t,r)}resume(){this.readyState!==j.CONNECTING&&this.readyState!==j.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===j.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==j.OPEN)return void Z(this,e,r);let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[h.extensionName]||(n.compress=!1),this._sender.send(e||_,n,r)}terminate(){if(this.readyState!==j.CLOSED){if(this.readyState===j.CONNECTING)return void F(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=j.CLOSING,this._socket.destroy())}}}function L(e,t){e._readyState=j.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function D(e){return e.path=e.socketPath,s.connect(e)}function M(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),o.connect(e)}function F(e,t,r){e._readyState=j.CLOSING;let n=Error(r);Error.captureStackTrace(n,F),t.setHeader?(t[O]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(L,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function Z(e,t,r){if(t){let r=g(t)?t.size:I(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${P[e.readyState]})`);process.nextTick(r,t)}}function z(e,t){let r=this[k];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[k]&&(r._socket.removeListener("data",K),process.nextTick(H,r._socket),1005===e?r.close():r.close(e,t))}function $(){let e=this[k];e.isPaused||e._socket.resume()}function q(e){let t=this[k];void 0!==t._socket[k]&&(t._socket.removeListener("data",K),process.nextTick(H,t._socket),t.close(e[w])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function U(){this[k].emitClose()}function B(e,t){this[k].emit("message",e,t)}function V(e){let t=this[k];t._autoPong&&t.pong(e,!this._isServer,S),t.emit("ping",e)}function G(e){this[k].emit("pong",e)}function H(e){e.resume()}function W(e){let t=this[k];t.readyState!==j.CLOSED&&(t.readyState===j.OPEN&&(t._readyState=j.CLOSING,J(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function J(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),3e4)}function Y(){let e,t=this[k];this.removeListener("close",Y),this.removeListener("data",K),this.removeListener("end",Q),t._readyState=j.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[k]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",U),t._receiver.on("finish",U))}function K(e){this[k]._receiver.write(e)||this.pause()}function Q(){let e=this[k];e._readyState=j.CLOSING,e._receiver.end(),this.end()}function X(){let e=this[k];this.removeListener("error",X),this.on("error",S),e&&(e._readyState=j.CLOSING,this.destroy())}Object.defineProperty(j,"CONNECTING",{enumerable:!0,value:P.indexOf("CONNECTING")}),Object.defineProperty(j.prototype,"CONNECTING",{enumerable:!0,value:P.indexOf("CONNECTING")}),Object.defineProperty(j,"OPEN",{enumerable:!0,value:P.indexOf("OPEN")}),Object.defineProperty(j.prototype,"OPEN",{enumerable:!0,value:P.indexOf("OPEN")}),Object.defineProperty(j,"CLOSING",{enumerable:!0,value:P.indexOf("CLOSING")}),Object.defineProperty(j.prototype,"CLOSING",{enumerable:!0,value:P.indexOf("CLOSING")}),Object.defineProperty(j,"CLOSED",{enumerable:!0,value:P.indexOf("CLOSED")}),Object.defineProperty(j.prototype,"CLOSED",{enumerable:!0,value:P.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(j.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(j.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[b])return t[x];return null},set(t){for(let t of this.listeners(e))if(t[b]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[b]:!0})}})}),j.prototype.addEventListener=C,j.prototype.removeEventListener=T,e.exports=j},2666:(e,t,r)=>{"use strict";let n,i=r(4075),a=r(257),s=r(4400),{kStatusCode:o}=r(1813),l=Buffer[Symbol.species],u=Buffer.from([0,0,255,255]),c=Symbol("permessage-deflate"),d=Symbol("total-length"),p=Symbol("callback"),h=Symbol("buffers"),f=Symbol("error");class m{constructor(e,t,r){this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new s(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[p];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!r)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:(!0===r.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==r)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=r})}),e}decompress(e,t,r){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),r(e,t)})})}compress(e,t,r){n.add(n=>{this._compress(e,t,(e,t)=>{n(),r(e,t)})})}_decompress(e,t,r){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[c]=this,this._inflate[d]=0,this._inflate[h]=[],this._inflate.on("error",_),this._inflate.on("data",y)}this._inflate[p]=r,this._inflate.write(e),t&&this._inflate.write(u),this._inflate.flush(()=>{let e=this._inflate[f];if(e){this._inflate.close(),this._inflate=null,r(e);return}let i=a.concat(this._inflate[h],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[h]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),r(null,i)})}_compress(e,t,r){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[h]=[],this._deflate.on("data",g)}this._deflate[p]=r,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=a.concat(this._deflate[h],this._deflate[d]);t&&(e=new l(e.buffer,e.byteOffset,e.length-4)),this._deflate[p]=null,this._deflate[d]=0,this._deflate[h]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}function g(e){this[h].push(e),this[d]+=e.length}function y(e){if(this[d]+=e.length,this[c]._maxPayload<1||this[d]<=this[c]._maxPayload)return void this[h].push(e);this[f]=RangeError("Max payload size exceeded"),this[f].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[f][o]=1009,this.removeListener("data",y),this.reset()}function _(e){if(this[c]._inflate=null,this[f])return void this[p](this[f]);e[o]=1007,this[p](e)}e.exports=m},2756:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return n}});let r=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},2820:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3038:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return i}});let n=r(3210);function i(e,t){let r=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=i.current;t&&(i.current=null,t())}else e&&(r.current=a(e,n)),t&&(i.current=a(t,n))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3090:(e,t,r)=>{"use strict";r(2635);let{Duplex:n}=r(7910);function i(e){e.emit("close")}function a(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0,o=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,r){let n=!r&&o._readableState.objectMode?t.toString():t;o.push(n)||e.pause()}),e.once("error",function(e){o.destroyed||(r=!1,o.destroy(e))}),e.once("close",function(){o.destroyed||o.push(null)}),o._destroy=function(t,n){if(e.readyState===e.CLOSED){n(t),process.nextTick(i,o);return}let a=!1;e.once("error",function(e){a=!0,n(e)}),e.once("close",function(){a||n(t),process.nextTick(i,o)}),r&&e.terminate()},o._final=function(t){if(e.readyState===e.CONNECTING)return void e.once("open",function(){o._final(t)});null!==e._socket&&(e._socket._writableState.finished?(t(),o._readableState.endEmitted&&o.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},o._read=function(){e.isPaused&&e.resume()},o._write=function(t,r,n){if(e.readyState===e.CONNECTING)return void e.once("open",function(){o._write(t,r,n)});e.send(t,n)},o.on("end",a),o.on("error",s),o}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3669:(e,t,r)=>{"use strict";r.d(t,{TranscriptProvider:()=>o,c:()=>l});var n=r(687),i=r(3210),a=r(5495);let s=(0,i.createContext)(void 0),o=({children:e})=>{let[t,r]=(0,i.useState)([]);function o(){let e=new Date,t=e.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),r=e.getMilliseconds().toString().padStart(3,"0");return`${t}.${r}`}return(0,n.jsx)(s.Provider,{value:{transcriptItems:t,addTranscriptMessage:(e,t,n="",i=!1)=>{r(r=>r.some(t=>t.itemId===e&&"MESSAGE"===t.type)?(console.warn(`[addTranscriptMessage] skipping; message already exists for itemId=${e}, role=${t}, text=${n}`),r):[...r,{itemId:e,type:"MESSAGE",role:t,title:n,expanded:!1,timestamp:o(),createdAtMs:Date.now(),status:"IN_PROGRESS",isHidden:i}])},updateTranscriptMessage:(e,t,n=!1)=>{r(r=>r.map(r=>r.itemId===e&&"MESSAGE"===r.type?{...r,title:n?(r.title??"")+t:t}:r))},addTranscriptBreadcrumb:(e,t)=>{r(r=>[...r,{itemId:`breadcrumb-${(0,a.A)()}`,type:"BREADCRUMB",title:e,data:t,expanded:!1,timestamp:o(),createdAtMs:Date.now(),status:"DONE",isHidden:!1}])},toggleTranscriptItemExpand:e=>{r(t=>t.map(t=>t.itemId===e?{...t,expanded:!t.expanded}:t))},updateTranscriptItem:(e,t)=>{r(r=>r.map(r=>r.itemId===e?{...r,...t}:r))}},children:e})};function l(){let e=(0,i.useContext)(s);if(!e)throw Error("useTranscript must be used within a TranscriptProvider");return e}},3873:e=>{"use strict";e.exports=require("path")},3997:e=>{"use strict";e.exports=require("tty")},4075:e=>{"use strict";e.exports=require("zlib")},4203:(e,t,r)=>{"use strict";let{Writable:n}=r(7910),i=r(2666),{BINARY_TYPES:a,EMPTY_BUFFER:s,kStatusCode:o,kWebSocket:l}=r(1813),{concat:u,toArrayBuffer:c,unmask:d}=r(257),{isValidStatusCode:p,isValidUTF8:h}=r(7293),f=Buffer[Symbol.species];class m extends n{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||a[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[l]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new f(t.buffer,t.byteOffset+e,t.length-e),new f(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=new f(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0)return void e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));let r=(64&t[0])==64;if(r&&!this._extensions[i.extensionName])return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(r)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=r}else{if(!(this._opcode>7)||!(this._opcode<11))return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(r)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked)return void e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),r=t.readUInt32BE(0);if(r>2097151)return void e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));this._payloadLength=0x100000000*r+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return void e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&d(t,this._mask)}if(this._opcode>7)return void this.controlMessage(t,e);if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return void t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(r)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?u(r,t):"arraybuffer"===this._binaryType?c(u(r,t)):"blob"===this._binaryType?new Blob(r):r,this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)}))}else{let n=u(r,t);if(!this._skipUTF8Validation&&!h(n))return void e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,s),this.end();else{let r=e.readUInt16BE(0);if(!p(r))return void t(this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));let n=new f(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!h(n))return void t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));this._loop=!1,this.emit("conclude",r,n),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,r,n,i){this._loop=!1,this._errored=!0;let a=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(a,this.createError),a.code=i,a[o]=n,a}}e.exports=m},4400:e=>{"use strict";let t=Symbol("kDone"),r=Symbol("kRun");class n{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=n},4517:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g;function u(e){return e?e.replace(l,""):""}e.exports=function(e,l){if("string"!=typeof e)throw TypeError("First argument must be a string");if(!e)return[];l=l||{};var c=1,d=1;function p(e){var t=e.match(r);t&&(c+=t.length);var n=e.lastIndexOf("\n");d=~n?e.length-n:d+e.length}function h(){var e={line:c,column:d};return function(t){return t.position=new f(e),y(n),t}}function f(e){this.start=e,this.end={line:c,column:d},this.source=l.source}f.prototype.content=e;var m=[];function g(t){var r=Error(l.source+":"+c+":"+d+": "+t);if(r.reason=t,r.filename=l.source,r.line=c,r.column=d,r.source=e,l.silent)m.push(r);else throw r}function y(t){var r=t.exec(e);if(r){var n=r[0];return p(n),e=e.slice(n.length),r}}function _(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var t=h();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var r=2;""!=e.charAt(r)&&("*"!=e.charAt(r)||"/"!=e.charAt(r+1));)++r;if(r+=2,""===e.charAt(r-1))return g("End of comment missing");var n=e.slice(2,r-2);return d+=2,p(n),e=e.slice(r),d+=2,t({type:"comment",comment:n})}}y(n);var b,x=[];for(_(x);b=function(){var e=h(),r=y(i);if(r){if(v(),!y(a))return g("property missing ':'");var n=y(s),l=e({type:"declaration",property:u(r[0].replace(t,"")),value:n?u(n[0].replace(t,"")):""});return y(o),l}}();)!1!==b&&(x.push(b),_(x));return x}},4551:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s,metadata:()=>a});var n=r(7413);r(1135);var i=r(7329);r.n(i)().config({path:"./env"});let a={title:"Realtime API Agents",description:"A demo app from OpenAI."};function s({children:e}){return(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{className:"antialiased",children:e})})}},4604:(e,t)=>{"use strict";function r(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:n=!1}=void 0===e?{}:e;return t||r&&n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return r}})},4631:e=>{"use strict";e.exports=require("tls")},4660:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\5-Project\\\\restaurantordering\\\\github\\\\restaurantOrderaoesnedfownadioef23424\\\\src\\\\app\\\\App.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\5-Project\\restaurantordering\\github\\restaurantOrderaoesnedfownadioef23424\\src\\app\\App.tsx","default")},4735:e=>{"use strict";e.exports=require("events")},4953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return l}}),r(148);let n=r(1480),i=r(2756),a=["-moz-initial","fill","none","scale-down",void 0];function s(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l(e,t){var r,l;let u,c,d,{src:p,sizes:h,unoptimized:f=!1,priority:m=!1,loading:g,className:y,quality:_,width:v,height:b,fill:x=!1,style:w,overrideSrc:k,onLoad:S,onLoadingComplete:C,placeholder:T="empty",blurDataURL:E,fetchPriority:A,decoding:I="async",layout:O,objectFit:N,objectPosition:P,lazyBoundary:R,lazyRoot:j,...L}=e,{imgConf:D,showAltText:M,blurComplete:F,defaultLoader:Z}=t,z=D||i.imageConfigDefault;if("allSizes"in z)u=z;else{let e=[...z.deviceSizes,...z.imageSizes].sort((e,t)=>e-t),t=z.deviceSizes.sort((e,t)=>e-t),n=null==(r=z.qualities)?void 0:r.sort((e,t)=>e-t);u={...z,allSizes:e,deviceSizes:t,qualities:n}}if(void 0===Z)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let $=L.loader||Z;delete L.loader,delete L.srcSet;let q="__next_img_default"in $;if(q){if("custom"===u.loader)throw Object.defineProperty(Error('Image with src "'+p+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=$;$=t=>{let{config:r,...n}=t;return e(n)}}if(O){"fill"===O&&(x=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[O];e&&(w={...w,...e});let t={responsive:"100vw",fill:"100vw"}[O];t&&!h&&(h=t)}let U="",B=o(v),V=o(b);if((l=p)&&"object"==typeof l&&(s(l)||void 0!==l.src)){let e=s(p)?p.default:p;if(!e.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(c=e.blurWidth,d=e.blurHeight,E=E||e.blurDataURL,U=e.src,!x)if(B||V){if(B&&!V){let t=B/e.width;V=Math.round(e.height*t)}else if(!B&&V){let t=V/e.height;B=Math.round(e.width*t)}}else B=e.width,V=e.height}let G=!m&&("lazy"===g||void 0===g);(!(p="string"==typeof p?p:U)||p.startsWith("data:")||p.startsWith("blob:"))&&(f=!0,G=!1),u.unoptimized&&(f=!0),q&&!u.dangerouslyAllowSVG&&p.split("?",1)[0].endsWith(".svg")&&(f=!0);let H=o(_),W=Object.assign(x?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:N,objectPosition:P}:{},M?{}:{color:"transparent"},w),J=F||"empty"===T?null:"blur"===T?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:B,heightInt:V,blurWidth:c,blurHeight:d,blurDataURL:E||"",objectFit:W.objectFit})+'")':'url("'+T+'")',Y=a.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,K=J?{backgroundSize:Y,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:J}:{},Q=function(e){let{config:t,src:r,unoptimized:n,width:i,quality:a,sizes:s,loader:o}=e;if(n)return{src:r,srcSet:void 0,sizes:void 0};let{widths:l,kind:u}=function(e,t,r){let{deviceSizes:n,allSizes:i}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(r);)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:i.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:i,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>i.find(t=>t>=e)||i[i.length-1]))],kind:"x"}}(t,i,s),c=l.length-1;return{sizes:s||"w"!==u?s:"100vw",srcSet:l.map((e,n)=>o({config:t,src:r,quality:a,width:e})+" "+("w"===u?e:n+1)+u).join(", "),src:o({config:t,src:r,quality:a,width:l[c]})}}({config:u,src:p,unoptimized:f,width:B,quality:H,sizes:h,loader:$});return{props:{...L,loading:G?"lazy":g,fetchPriority:A,width:B,height:V,decoding:I,className:y,style:{...W,...K},sizes:Q.sizes,srcSet:Q.srcSet,src:k||Q.src},meta:{unoptimized:f,priority:m,placeholder:T,fill:x}}}},4959:(e,t,r)=>{"use strict";e.exports=r(4041).vendored.contexts.AmpContext},5258:(e,t,r)=>{Promise.resolve().then(r.bind(r,1187)),Promise.resolve().then(r.bind(r,1313)),Promise.resolve().then(r.bind(r,3669))},5495:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(5511);let i={randomUUID:n.randomUUID},a=new Uint8Array(256),s=a.length,o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));let l=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();let l=(e=e||{}).random??e.rng?.()??(s>a.length-16&&((0,n.randomFillSync)(a),s=0),a.slice(s,s+=16));if(l.length<16)throw Error("Random bytes length must be >= 16");if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=l[e];return t}return function(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}(l)}},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},5615:(e,t,r)=>{"use strict";r.d(t,{EventProvider:()=>i});var n=r(2907);let i=(0,n.registerClientReference)(function(){throw Error("Attempted to call EventProvider() from the server but EventProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\5-Project\\restaurantordering\\github\\restaurantOrderaoesnedfownadioef23424\\src\\app\\contexts\\EventContext.tsx","EventProvider");(0,n.registerClientReference)(function(){throw Error("Attempted to call useEvent() from the server but useEvent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\5-Project\\restaurantordering\\github\\restaurantOrderaoesnedfownadioef23424\\src\\app\\contexts\\EventContext.tsx","useEvent")},5687:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},5840:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=null;if(!e||"string"!=typeof e)return r;var n=(0,i.default)(e),a="function"==typeof t;return n.forEach(function(e){if("declaration"===e.type){var n=e.property,i=e.value;a?t(n,i,e):i&&((r=r||{})[n]=i)}}),r};var i=n(r(4517))},6207:(e,t,r)=>{"use strict";let n,{Duplex:i}=r(7910),{randomFillSync:a}=r(5511),s=r(2666),{EMPTY_BUFFER:o,kWebSocket:l,NOOP:u}=r(1813),{isBlob:c,isValidStatusCode:d}=r(7293),{mask:p,toBuffer:h}=r(257),f=Symbol("kByteLength"),m=Buffer.alloc(4),g=8192;class y{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=0,this.onerror=u,this[l]=void 0}static frame(e,t){let r,i,s=!1,o=2,l=!1;t.mask&&(r=t.maskBuffer||m,t.generateMask?t.generateMask(r):(8192===g&&(void 0===n&&(n=Buffer.alloc(8192)),a(n,0,8192),g=0),r[0]=n[g++],r[1]=n[g++],r[2]=n[g++],r[3]=n[g++]),l=(r[0]|r[1]|r[2]|r[3])==0,o=6),"string"==typeof e?i=(!t.mask||l)&&void 0!==t[f]?t[f]:(e=Buffer.from(e)).length:(i=e.length,s=t.mask&&t.readOnly&&!l);let u=i;i>=65536?(o+=8,u=127):i>125&&(o+=2,u=126);let c=Buffer.allocUnsafe(s?i+o:o);return(c[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(c[0]|=64),c[1]=u,126===u?c.writeUInt16BE(i,2):127===u&&(c[2]=c[3]=0,c.writeUIntBE(i,4,6)),t.mask)?(c[1]|=128,c[o-4]=r[0],c[o-3]=r[1],c[o-2]=r[2],c[o-1]=r[3],l)?[c,e]:s?(p(e,r,c,o,i),[c]):(p(e,r,e,0,i),[c,e]):[c,e]}close(e,t,r,n){let i;if(void 0===e)i=o;else if("number"==typeof e&&d(e))if(void 0!==t&&t.length){let r=Buffer.byteLength(t);if(r>123)throw RangeError("The message must not be greater than 123 bytes");(i=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),"string"==typeof t?i.write(t,2):i.set(t,2)}else(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0);else throw TypeError("First argument must be a valid error code number");let a={[f]:i.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};0!==this._state?this.enqueue([this.dispatch,i,!1,a,n]):this.sendFrame(y.frame(i,a),n)}ping(e,t,r){let n,i;if("string"==typeof e?(n=Buffer.byteLength(e),i=!1):c(e)?(n=e.size,i=!1):(n=(e=h(e)).length,i=h.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let a={[f]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};c(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,a,r]):this.getBlobData(e,!1,a,r):0!==this._state?this.enqueue([this.dispatch,e,!1,a,r]):this.sendFrame(y.frame(e,a),r)}pong(e,t,r){let n,i;if("string"==typeof e?(n=Buffer.byteLength(e),i=!1):c(e)?(n=e.size,i=!1):(n=(e=h(e)).length,i=h.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let a={[f]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};c(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,a,r]):this.getBlobData(e,!1,a,r):0!==this._state?this.enqueue([this.dispatch,e,!1,a,r]):this.sendFrame(y.frame(e,a),r)}send(e,t,r){let n,i,a=this._extensions[s.extensionName],o=t.binary?2:1,l=t.compress;"string"==typeof e?(n=Buffer.byteLength(e),i=!1):c(e)?(n=e.size,i=!1):(n=(e=h(e)).length,i=h.readOnly),this._firstFragment?(this._firstFragment=!1,l&&a&&a.params[a._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=n>=a._threshold),this._compress=l):(l=!1,o=0),t.fin&&(this._firstFragment=!0);let u={[f]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:i,rsv1:l};c(e)?0!==this._state?this.enqueue([this.getBlobData,e,this._compress,u,r]):this.getBlobData(e,this._compress,u,r):0!==this._state?this.enqueue([this.dispatch,e,this._compress,u,r]):this.dispatch(e,this._compress,u,r)}getBlobData(e,t,r,n){this._bufferedBytes+=r[f],this._state=2,e.arrayBuffer().then(e=>{if(this._socket.destroyed){let e=Error("The socket was closed while the blob was being read");process.nextTick(_,this,e,n);return}this._bufferedBytes-=r[f];let i=h(e);t?this.dispatch(i,t,r,n):(this._state=0,this.sendFrame(y.frame(i,r),n),this.dequeue())}).catch(e=>{process.nextTick(v,this,e,n)})}dispatch(e,t,r,n){if(!t)return void this.sendFrame(y.frame(e,r),n);let i=this._extensions[s.extensionName];this._bufferedBytes+=r[f],this._state=1,i.compress(e,r.fin,(e,t)=>{if(this._socket.destroyed)return void _(this,Error("The socket was closed while data was being compressed"),n);this._bufferedBytes-=r[f],this._state=0,r.readOnly=!1,this.sendFrame(y.frame(t,r),n),this.dequeue()})}dequeue(){for(;0===this._state&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][f],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][f],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}function _(e,t,r){"function"==typeof r&&r(t);for(let r=0;r<e._queue.length;r++){let n=e._queue[r],i=n[n.length-1];"function"==typeof i&&i(t)}}function v(e,t,r){_(e,t,r),e.onerror(t)}e.exports=y},6211:(e,t,r)=>{e.exports=function(e){function t(e){let r,i,a,s=null;function o(...e){if(!o.enabled)return;let n=Number(new Date);o.diff=n-(r||n),o.prev=r,o.curr=n,r=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return"%";i++;let a=t.formatters[n];if("function"==typeof a){let t=e[i];r=a.call(o,t),e.splice(i,1),i--}return r}),t.formatArgs.call(o,e),(o.log||t.log).apply(o,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function n(e,r){let n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e,t){let r=0,n=0,i=-1,a=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,a=r):r++,n++;else{if(-1===i)return!1;n=i+1,r=++a}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){for(let r of(t.save(e),t.namespaces=e,t.names=[],t.skips=[],("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===r[0]?t.skips.push(r.slice(1)):t.names.push(r)},t.enabled=function(e){for(let r of t.skips)if(i(e,r))return!1;for(let r of t.names)if(i(e,r))return!0;return!1},t.humanize=r(7802),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},6495:(e,t,r)=>{"use strict";let n=r(4735),i=r(1630),{Duplex:a}=r(7910),{createHash:s}=r(5511),o=r(1637),l=r(2666),u=r(946),c=r(2635),{GUID:d,kWebSocket:p}=r(1813),h=/^[+/0-9A-Za-z]{22}==$/;class f extends n{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:c,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=i.createServer((e,t)=>{let r=i.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(m,this);return}if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(m,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{m(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",g);let i=e.headers["sec-websocket-key"],a=e.headers.upgrade,s=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void _(this,e,t,405,"Invalid HTTP method");if(void 0===a||"websocket"!==a.toLowerCase())return void _(this,e,t,400,"Invalid Upgrade header");if(void 0===i||!h.test(i))return void _(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");if(8!==s&&13!==s)return void _(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");if(!this.shouldHandle(e))return void y(t,400);let c=e.headers["sec-websocket-protocol"],d=new Set;if(void 0!==c)try{d=u.parse(c)}catch(r){_(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let p=e.headers["sec-websocket-extensions"],f={};if(this.options.perMessageDeflate&&void 0!==p){let r=new l(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=o.parse(p);e[l.extensionName]&&(r.accept(e[l.extensionName]),f[l.extensionName]=r)}catch(r){_(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let a={origin:e.headers[`${8===s?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(a,s,o,l)=>{if(!a)return y(t,s||401,o,l);this.completeUpgrade(f,i,d,e,t,r,n)});if(!this.options.verifyClient(a))return y(t,401)}this.completeUpgrade(f,i,d,e,t,r,n)}completeUpgrade(e,t,r,n,i,a,u){if(!i.readable||!i.writable)return i.destroy();if(i[p])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return y(i,503);let c=s("sha1").update(t+d).digest("base64"),h=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${c}`],f=new this.options.WebSocket(null,void 0,this.options);if(r.size){let e=this.options.handleProtocols?this.options.handleProtocols(r,n):r.values().next().value;e&&(h.push(`Sec-WebSocket-Protocol: ${e}`),f._protocol=e)}if(e[l.extensionName]){let t=e[l.extensionName].params,r=o.format({[l.extensionName]:[t]});h.push(`Sec-WebSocket-Extensions: ${r}`),f._extensions=e}this.emit("headers",h,n),i.write(h.concat("\r\n").join("\r\n")),i.removeListener("error",g),f.setSocket(i,a,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(f),f.on("close",()=>{this.clients.delete(f),this._shouldEmitClose&&!this.clients.size&&process.nextTick(m,this)})),u(f,n)}}function m(e){e._state=2,e.emit("close")}function g(){this.destroy()}function y(e,t,r,n){r=r||i.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${i.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)}function _(e,t,r,n,i){if(e.listenerCount("wsClientError")){let n=Error(i);Error.captureStackTrace(n,_),e.emit("wsClientError",n,r,t)}else y(r,n,i)}e.exports=f},6533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return b}});let n=r(4985),i=r(740),a=r(687),s=i._(r(3210)),o=n._(r(1215)),l=n._(r(512)),u=r(4953),c=r(2756),d=r(7903);r(148);let p=r(9148),h=n._(r(1933)),f=r(3038),m={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function g(e,t,r,n,i,a,s){let o=null==e?void 0:e.src;e&&e["data-loaded-src"]!==o&&(e["data-loaded-src"]=o,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}(null==n?void 0:n.current)&&n.current(e)}}))}function y(e){return s.use?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let _=(0,s.forwardRef)((e,t)=>{let{src:r,srcSet:n,sizes:i,height:o,width:l,decoding:u,className:c,style:d,fetchPriority:p,placeholder:h,loading:m,unoptimized:_,fill:v,onLoadRef:b,onLoadingCompleteRef:x,setBlurComplete:w,setShowAltText:k,sizesInput:S,onLoad:C,onError:T,...E}=e,A=(0,s.useCallback)(e=>{e&&(T&&(e.src=e.src),e.complete&&g(e,h,b,x,w,_,S))},[r,h,b,x,w,T,_,S]),I=(0,f.useMergedRef)(t,A);return(0,a.jsx)("img",{...E,...y(p),loading:m,width:l,height:o,decoding:u,"data-nimg":v?"fill":"1",className:c,style:d,sizes:i,srcSet:n,src:r,ref:I,onLoad:e=>{g(e.currentTarget,h,b,x,w,_,S)},onError:e=>{k(!0),"empty"!==h&&w(!0),T&&T(e)}})});function v(e){let{isAppRouter:t,imgAttributes:r}=e,n={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...y(r.fetchPriority)};return t&&o.default.preload?(o.default.preload(r.src,n),null):(0,a.jsx)(l.default,{children:(0,a.jsx)("link",{rel:"preload",href:r.srcSet?void 0:r.src,...n},"__nimg-"+r.src+r.srcSet+r.sizes)})}let b=(0,s.forwardRef)((e,t)=>{let r=(0,s.useContext)(p.RouterContext),n=(0,s.useContext)(d.ImageConfigContext),i=(0,s.useMemo)(()=>{var e;let t=m||n||c.imageConfigDefault,r=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),i=t.deviceSizes.sort((e,t)=>e-t),a=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:r,deviceSizes:i,qualities:a}},[n]),{onLoad:o,onLoadingComplete:l}=e,f=(0,s.useRef)(o);(0,s.useEffect)(()=>{f.current=o},[o]);let g=(0,s.useRef)(l);(0,s.useEffect)(()=>{g.current=l},[l]);let[y,b]=(0,s.useState)(!1),[x,w]=(0,s.useState)(!1),{props:k,meta:S}=(0,u.getImgProps)(e,{defaultLoader:h.default,imgConf:i,blurComplete:y,showAltText:x});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_,{...k,unoptimized:S.unoptimized,placeholder:S.placeholder,fill:S.fill,onLoadRef:f,onLoadingCompleteRef:g,setBlurComplete:b,setShowAltText:w,sizesInput:e.sizes,ref:t}),S.priority?(0,a.jsx)(v,{isAppRouter:!r,imgAttributes:k}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6632:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(6211)(t);let{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},6908:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,i=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){var u;return(void 0===t&&(t={}),!(u=e)||i.test(u)||r.test(u))?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(s,l):e.replace(a,l)).replace(n,o))}},7075:e=>{"use strict";e.exports=require("node:stream")},7293:(e,t,r)=>{"use strict";let{isUtf8:n}=r(9428),{hasBlob:i}=r(1813);function a(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}if(e.exports={isBlob:function(e){return i&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&("Blob"===e[Symbol.toStringTag]||"File"===e[Symbol.toStringTag])},isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:a,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)e.exports.isValidUTF8=function(e){return e.length<24?a(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=r(7990);e.exports.isValidUTF8=function(e){return e.length<32?a(e):t(e)}}catch(e){}},7755:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=r(3210),i=()=>{},a=()=>{};function s(e){var t;let{headManager:r,reduceComponentsToState:s}=e;function o(){if(r&&r.mountedInstances){let t=n.Children.toArray(Array.from(r.mountedInstances).filter(Boolean));r.updateHead(s(t,e))}}return null==r||null==(t=r.mountedInstances)||t.add(e.children),o(),i(()=>{var t;return null==r||null==(t=r.mountedInstances)||t.add(e.children),()=>{var t;null==r||null==(t=r.mountedInstances)||t.delete(e.children)}}),i(()=>(r&&(r._pendingUpdate=o),()=>{r&&(r._pendingUpdate=o)})),a(()=>(r&&r._pendingUpdate&&(r._pendingUpdate(),r._pendingUpdate=null),()=>{r&&r._pendingUpdate&&(r._pendingUpdate(),r._pendingUpdate=null)})),null}},7802:e=>{function t(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}e.exports=function(e,r){r=r||{};var n,i,a,s,o=typeof e;if("string"===o&&e.length>0){var l=e;if(!((l=String(l)).length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(u){var c=parseFloat(u[1]);switch((u[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*c;case"weeks":case"week":case"w":return 6048e5*c;case"days":case"day":case"d":return 864e5*c;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*c;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*c;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:break}}}return}if("number"===o&&isFinite(e)){return r.long?(i=Math.abs(n=e))>=864e5?t(n,i,864e5,"day"):i>=36e5?t(n,i,36e5,"hour"):i>=6e4?t(n,i,6e4,"minute"):i>=1e3?t(n,i,1e3,"second"):n+" ms":(s=Math.abs(a=e))>=864e5?Math.round(a/864e5)+"d":s>=36e5?Math.round(a/36e5)+"h":s>=6e4?Math.round(a/6e4)+"m":s>=1e3?Math.round(a/1e3)+"s":a+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7830:e=>{"use strict";e.exports=require("node:stream/web")},7903:(e,t,r)=>{"use strict";e.exports=r(4041).vendored.contexts.ImageConfigContext},7910:e=>{"use strict";e.exports=require("stream")},7990:()=>{},8354:e=>{"use strict";e.exports=require("util")},8735:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},8739:function(e,t,r){"use strict";var n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(5840)),i=r(6908);function a(e,t){var r={};return e&&"string"==typeof e&&(0,n.default)(e,function(e,n){e&&n&&(r[(0,i.camelCase)(e,t)]=n)}),r}a.default=a,e.exports=a},9021:e=>{"use strict";e.exports=require("fs")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9148:(e,t,r)=>{"use strict";e.exports=r(4041).vendored.contexts.RouterContext},9171:(e,t,r)=>{"use strict";r.d(t,{TranscriptProvider:()=>i});var n=r(2907);let i=(0,n.registerClientReference)(function(){throw Error("Attempted to call TranscriptProvider() from the server but TranscriptProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\5-Project\\restaurantordering\\github\\restaurantOrderaoesnedfownadioef23424\\src\\app\\contexts\\TranscriptContext.tsx","TranscriptProvider");(0,n.registerClientReference)(function(){throw Error("Attempted to call useTranscript() from the server but useTranscript is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\5-Project\\restaurantordering\\github\\restaurantOrderaoesnedfownadioef23424\\src\\app\\contexts\\TranscriptContext.tsx","useTranscript")},9207:e=>{"use strict";e.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return -1!==n&&(-1===i||n<i)}},9228:(e,t,r)=>{"use strict";let n,i=r(1820),a=r(3997),s=r(9207),{env:o}=process;function l(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===n)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let r=n||0;if("dumb"===o.TERM)return r;if("win32"===process.platform){let e=i.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in o)||"codeship"===o.CI_NAME?1:r;if("TEAMCITY_VERSION"in o)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION);if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){let e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:r}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?n=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(n=1),"FORCE_COLOR"in o&&(n="true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return l(u(e,e&&e.isTTY))},stdout:l(u(!0,a.isatty(1))),stderr:l(u(!0,a.isatty(2)))}},9275:(e,t,r)=>{"use strict";let n;r.d(t,{kY:()=>o,z:()=>l});var i,a,s,o,l={};r.r(l),r.d(l,{BRAND:()=>eP,DIRTY:()=>k,EMPTY_PATH:()=>v,INVALID:()=>w,NEVER:()=>tf,OK:()=>S,ParseStatus:()=>x,Schema:()=>P,ZodAny:()=>ea,ZodArray:()=>eu,ZodBigInt:()=>X,ZodBoolean:()=>ee,ZodBranded:()=>eR,ZodCatch:()=>eO,ZodDate:()=>et,ZodDefault:()=>eI,ZodDiscriminatedUnion:()=>eh,ZodEffects:()=>eT,ZodEnum:()=>ek,ZodError:()=>h,ZodFirstPartyTypeKind:()=>o,ZodFunction:()=>ev,ZodIntersection:()=>ef,ZodIssueCode:()=>d,ZodLazy:()=>eb,ZodLiteral:()=>ex,ZodMap:()=>ey,ZodNaN:()=>eN,ZodNativeEnum:()=>eS,ZodNever:()=>eo,ZodNull:()=>ei,ZodNullable:()=>eA,ZodNumber:()=>Q,ZodObject:()=>ec,ZodOptional:()=>eE,ZodParsedType:()=>u,ZodPipeline:()=>ej,ZodPromise:()=>eC,ZodReadonly:()=>eL,ZodRecord:()=>eg,ZodSchema:()=>P,ZodSet:()=>e_,ZodString:()=>K,ZodSymbol:()=>er,ZodTransformer:()=>eT,ZodTuple:()=>em,ZodType:()=>P,ZodUndefined:()=>en,ZodUnion:()=>ed,ZodUnknown:()=>es,ZodVoid:()=>el,addIssueToContext:()=>b,any:()=>eJ,array:()=>eX,bigint:()=>eU,boolean:()=>eB,coerce:()=>th,custom:()=>eM,date:()=>eV,datetimeRegex:()=>Y,defaultErrorMap:()=>f,discriminatedUnion:()=>e4,effect:()=>ta,enum:()=>tr,function:()=>e8,getErrorMap:()=>y,getParsedType:()=>c,instanceof:()=>eZ,intersection:()=>e9,isAborted:()=>C,isAsync:()=>A,isDirty:()=>T,isValid:()=>E,late:()=>eF,lazy:()=>te,literal:()=>tt,makeIssue:()=>_,map:()=>e6,nan:()=>eq,nativeEnum:()=>tn,never:()=>eK,null:()=>eW,nullable:()=>to,number:()=>e$,object:()=>e0,objectUtil:()=>a,oboolean:()=>tp,onumber:()=>td,optional:()=>ts,ostring:()=>tc,pipeline:()=>tu,preprocess:()=>tl,promise:()=>ti,quotelessJson:()=>p,record:()=>e3,set:()=>e7,setErrorMap:()=>g,strictObject:()=>e1,string:()=>ez,symbol:()=>eG,transformer:()=>ta,tuple:()=>e5,undefined:()=>eH,union:()=>e2,unknown:()=>eY,util:()=>i,void:()=>eQ}),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(i||(i={})),(a||(a={})).mergeShapes=(e,t)=>({...e,...t});let u=i.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),c=e=>{switch(typeof e){case"undefined":return u.undefined;case"string":return u.string;case"number":return Number.isNaN(e)?u.nan:u.number;case"boolean":return u.boolean;case"function":return u.function;case"bigint":return u.bigint;case"symbol":return u.symbol;case"object":if(Array.isArray(e))return u.array;if(null===e)return u.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return u.promise;if("undefined"!=typeof Map&&e instanceof Map)return u.map;if("undefined"!=typeof Set&&e instanceof Set)return u.set;if("undefined"!=typeof Date&&e instanceof Date)return u.date;return u.object;default:return u.unknown}},d=i.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),p=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class h extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof h))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,i.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}h.create=e=>new h(e);let f=(e,t)=>{let r;switch(e.code){case d.invalid_type:r=e.received===u.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case d.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,i.jsonStringifyReplacer)}`;break;case d.unrecognized_keys:r=`Unrecognized key(s) in object: ${i.joinValues(e.keys,", ")}`;break;case d.invalid_union:r="Invalid input";break;case d.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${i.joinValues(e.options)}`;break;case d.invalid_enum_value:r=`Invalid enum value. Expected ${i.joinValues(e.options)}, received '${e.received}'`;break;case d.invalid_arguments:r="Invalid function arguments";break;case d.invalid_return_type:r="Invalid function return type";break;case d.invalid_date:r="Invalid date";break;case d.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:i.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case d.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case d.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case d.custom:r="Invalid input";break;case d.invalid_intersection_types:r="Intersection results could not be merged";break;case d.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case d.not_finite:r="Number must be finite";break;default:r=t.defaultError,i.assertNever(e)}return{message:r}},m=f;function g(e){m=e}function y(){return m}let _=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}},v=[];function b(e,t){let r=m,n=_({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===f?void 0:f].filter(e=>!!e)});e.common.issues.push(n)}class x{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return w;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return x.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return w;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let w=Object.freeze({status:"aborted"}),k=e=>({status:"dirty",value:e}),S=e=>({status:"valid",value:e}),C=e=>"aborted"===e.status,T=e=>"dirty"===e.status,E=e=>"valid"===e.status,A=e=>"undefined"!=typeof Promise&&e instanceof Promise;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(s||(s={}));class I{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let O=(e,t)=>{if(E(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new h(e.common.issues);return this._error=t,this._error}}};function N(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:a}=e;return"invalid_enum_value"===t.code?{message:a??i.defaultError}:void 0===i.data?{message:a??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:a??r??i.defaultError}},description:i}}class P{get description(){return this._def.description}_getType(e){return c(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:c(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new x,ctx:{common:e.parent.common,data:e.data,parsedType:c(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(A(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:c(e)},n=this._parseSync({data:e,path:r.path,parent:r});return O(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:c(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return E(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>E(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:c(e)},n=this._parse({data:e,path:r.path,parent:r});return O(r,await (A(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),a=()=>n.addIssue({code:d.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new eT({schema:this,typeName:o.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eE.create(this,this._def)}nullable(){return eA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eu.create(this)}promise(){return eC.create(this,this._def)}or(e){return ed.create([this,e],this._def)}and(e){return ef.create(this,e,this._def)}transform(e){return new eT({...N(this._def),schema:this,typeName:o.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eI({...N(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:o.ZodDefault})}brand(){return new eR({typeName:o.ZodBranded,type:this,...N(this._def)})}catch(e){return new eO({...N(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:o.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return ej.create(this,e)}readonly(){return eL.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let R=/^c[^\s-]{8,}$/i,j=/^[0-9a-z]+$/,L=/^[0-9A-HJKMNP-TV-Z]{26}$/i,D=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,M=/^[a-z0-9_-]{21}$/i,F=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Z=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,z=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,q=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,U=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,B=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,V=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,G=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,H="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",W=RegExp(`^${H}$`);function J(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Y(e){let t=`${H}T${J(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class K extends P{_parse(e){var t,r,a,s;let o;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==u.string){let t=this._getOrReturnCtx(e);return b(t,{code:d.invalid_type,expected:u.string,received:t.parsedType}),w}let l=new x;for(let u of this._def.checks)if("min"===u.kind)e.data.length<u.value&&(b(o=this._getOrReturnCtx(e,o),{code:d.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),l.dirty());else if("max"===u.kind)e.data.length>u.value&&(b(o=this._getOrReturnCtx(e,o),{code:d.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),l.dirty());else if("length"===u.kind){let t=e.data.length>u.value,r=e.data.length<u.value;(t||r)&&(o=this._getOrReturnCtx(e,o),t?b(o,{code:d.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):r&&b(o,{code:d.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),l.dirty())}else if("email"===u.kind)z.test(e.data)||(b(o=this._getOrReturnCtx(e,o),{validation:"email",code:d.invalid_string,message:u.message}),l.dirty());else if("emoji"===u.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(b(o=this._getOrReturnCtx(e,o),{validation:"emoji",code:d.invalid_string,message:u.message}),l.dirty());else if("uuid"===u.kind)D.test(e.data)||(b(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:d.invalid_string,message:u.message}),l.dirty());else if("nanoid"===u.kind)M.test(e.data)||(b(o=this._getOrReturnCtx(e,o),{validation:"nanoid",code:d.invalid_string,message:u.message}),l.dirty());else if("cuid"===u.kind)R.test(e.data)||(b(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:d.invalid_string,message:u.message}),l.dirty());else if("cuid2"===u.kind)j.test(e.data)||(b(o=this._getOrReturnCtx(e,o),{validation:"cuid2",code:d.invalid_string,message:u.message}),l.dirty());else if("ulid"===u.kind)L.test(e.data)||(b(o=this._getOrReturnCtx(e,o),{validation:"ulid",code:d.invalid_string,message:u.message}),l.dirty());else if("url"===u.kind)try{new URL(e.data)}catch{b(o=this._getOrReturnCtx(e,o),{validation:"url",code:d.invalid_string,message:u.message}),l.dirty()}else"regex"===u.kind?(u.regex.lastIndex=0,u.regex.test(e.data)||(b(o=this._getOrReturnCtx(e,o),{validation:"regex",code:d.invalid_string,message:u.message}),l.dirty())):"trim"===u.kind?e.data=e.data.trim():"includes"===u.kind?e.data.includes(u.value,u.position)||(b(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),l.dirty()):"toLowerCase"===u.kind?e.data=e.data.toLowerCase():"toUpperCase"===u.kind?e.data=e.data.toUpperCase():"startsWith"===u.kind?e.data.startsWith(u.value)||(b(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:{startsWith:u.value},message:u.message}),l.dirty()):"endsWith"===u.kind?e.data.endsWith(u.value)||(b(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:{endsWith:u.value},message:u.message}),l.dirty()):"datetime"===u.kind?Y(u).test(e.data)||(b(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:"datetime",message:u.message}),l.dirty()):"date"===u.kind?W.test(e.data)||(b(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:"date",message:u.message}),l.dirty()):"time"===u.kind?RegExp(`^${J(u)}$`).test(e.data)||(b(o=this._getOrReturnCtx(e,o),{code:d.invalid_string,validation:"time",message:u.message}),l.dirty()):"duration"===u.kind?Z.test(e.data)||(b(o=this._getOrReturnCtx(e,o),{validation:"duration",code:d.invalid_string,message:u.message}),l.dirty()):"ip"===u.kind?(t=e.data,!(("v4"===(r=u.version)||!r)&&$.test(t)||("v6"===r||!r)&&U.test(t))&&1&&(b(o=this._getOrReturnCtx(e,o),{validation:"ip",code:d.invalid_string,message:u.message}),l.dirty())):"jwt"===u.kind?!function(e,t){if(!F.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,u.alg)&&(b(o=this._getOrReturnCtx(e,o),{validation:"jwt",code:d.invalid_string,message:u.message}),l.dirty()):"cidr"===u.kind?(a=e.data,!(("v4"===(s=u.version)||!s)&&q.test(a)||("v6"===s||!s)&&B.test(a))&&1&&(b(o=this._getOrReturnCtx(e,o),{validation:"cidr",code:d.invalid_string,message:u.message}),l.dirty())):"base64"===u.kind?V.test(e.data)||(b(o=this._getOrReturnCtx(e,o),{validation:"base64",code:d.invalid_string,message:u.message}),l.dirty()):"base64url"===u.kind?G.test(e.data)||(b(o=this._getOrReturnCtx(e,o),{validation:"base64url",code:d.invalid_string,message:u.message}),l.dirty()):i.assertNever(u);return{status:l.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:d.invalid_string,...s.errToObj(r)})}_addCheck(e){return new K({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...s.errToObj(e)})}url(e){return this._addCheck({kind:"url",...s.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...s.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...s.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...s.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...s.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...s.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...s.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...s.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...s.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...s.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...s.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...s.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...s.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...s.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...s.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...s.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...s.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...s.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...s.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...s.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...s.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...s.errToObj(t)})}nonempty(e){return this.min(1,s.errToObj(e))}trim(){return new K({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}K.create=e=>new K({checks:[],typeName:o.ZodString,coerce:e?.coerce??!1,...N(e)});class Q extends P{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==u.number){let t=this._getOrReturnCtx(e);return b(t,{code:d.invalid_type,expected:u.number,received:t.parsedType}),w}let r=new x;for(let n of this._def.checks)"int"===n.kind?i.isInteger(e.data)||(b(t=this._getOrReturnCtx(e,t),{code:d.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(b(t=this._getOrReturnCtx(e,t),{code:d.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(b(t=this._getOrReturnCtx(e,t),{code:d.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,n.value)&&(b(t=this._getOrReturnCtx(e,t),{code:d.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(b(t=this._getOrReturnCtx(e,t),{code:d.not_finite,message:n.message}),r.dirty()):i.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,s.toString(t))}gt(e,t){return this.setLimit("min",e,!1,s.toString(t))}lte(e,t){return this.setLimit("max",e,!0,s.toString(t))}lt(e,t){return this.setLimit("max",e,!1,s.toString(t))}setLimit(e,t,r,n){return new Q({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:s.toString(n)}]})}_addCheck(e){return new Q({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:s.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:s.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:s.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:s.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:s.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:s.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:s.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:s.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:s.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&i.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}Q.create=e=>new Q({checks:[],typeName:o.ZodNumber,coerce:e?.coerce||!1,...N(e)});class X extends P{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==u.bigint)return this._getInvalidInput(e);let r=new x;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(b(t=this._getOrReturnCtx(e,t),{code:d.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(b(t=this._getOrReturnCtx(e,t),{code:d.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(b(t=this._getOrReturnCtx(e,t),{code:d.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):i.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return b(t,{code:d.invalid_type,expected:u.bigint,received:t.parsedType}),w}gte(e,t){return this.setLimit("min",e,!0,s.toString(t))}gt(e,t){return this.setLimit("min",e,!1,s.toString(t))}lte(e,t){return this.setLimit("max",e,!0,s.toString(t))}lt(e,t){return this.setLimit("max",e,!1,s.toString(t))}setLimit(e,t,r,n){return new X({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:s.toString(n)}]})}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:s.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:s.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:s.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:s.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:s.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}X.create=e=>new X({checks:[],typeName:o.ZodBigInt,coerce:e?.coerce??!1,...N(e)});class ee extends P{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==u.boolean){let t=this._getOrReturnCtx(e);return b(t,{code:d.invalid_type,expected:u.boolean,received:t.parsedType}),w}return S(e.data)}}ee.create=e=>new ee({typeName:o.ZodBoolean,coerce:e?.coerce||!1,...N(e)});class et extends P{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==u.date){let t=this._getOrReturnCtx(e);return b(t,{code:d.invalid_type,expected:u.date,received:t.parsedType}),w}if(Number.isNaN(e.data.getTime()))return b(this._getOrReturnCtx(e),{code:d.invalid_date}),w;let r=new x;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(b(t=this._getOrReturnCtx(e,t),{code:d.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(b(t=this._getOrReturnCtx(e,t),{code:d.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):i.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new et({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:s.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:s.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}et.create=e=>new et({checks:[],coerce:e?.coerce||!1,typeName:o.ZodDate,...N(e)});class er extends P{_parse(e){if(this._getType(e)!==u.symbol){let t=this._getOrReturnCtx(e);return b(t,{code:d.invalid_type,expected:u.symbol,received:t.parsedType}),w}return S(e.data)}}er.create=e=>new er({typeName:o.ZodSymbol,...N(e)});class en extends P{_parse(e){if(this._getType(e)!==u.undefined){let t=this._getOrReturnCtx(e);return b(t,{code:d.invalid_type,expected:u.undefined,received:t.parsedType}),w}return S(e.data)}}en.create=e=>new en({typeName:o.ZodUndefined,...N(e)});class ei extends P{_parse(e){if(this._getType(e)!==u.null){let t=this._getOrReturnCtx(e);return b(t,{code:d.invalid_type,expected:u.null,received:t.parsedType}),w}return S(e.data)}}ei.create=e=>new ei({typeName:o.ZodNull,...N(e)});class ea extends P{constructor(){super(...arguments),this._any=!0}_parse(e){return S(e.data)}}ea.create=e=>new ea({typeName:o.ZodAny,...N(e)});class es extends P{constructor(){super(...arguments),this._unknown=!0}_parse(e){return S(e.data)}}es.create=e=>new es({typeName:o.ZodUnknown,...N(e)});class eo extends P{_parse(e){let t=this._getOrReturnCtx(e);return b(t,{code:d.invalid_type,expected:u.never,received:t.parsedType}),w}}eo.create=e=>new eo({typeName:o.ZodNever,...N(e)});class el extends P{_parse(e){if(this._getType(e)!==u.undefined){let t=this._getOrReturnCtx(e);return b(t,{code:d.invalid_type,expected:u.void,received:t.parsedType}),w}return S(e.data)}}el.create=e=>new el({typeName:o.ZodVoid,...N(e)});class eu extends P{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==u.array)return b(t,{code:d.invalid_type,expected:u.array,received:t.parsedType}),w;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(b(t,{code:e?d.too_big:d.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(b(t,{code:d.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(b(t,{code:d.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new I(t,e,t.path,r)))).then(e=>x.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new I(t,e,t.path,r)));return x.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new eu({...this._def,minLength:{value:e,message:s.toString(t)}})}max(e,t){return new eu({...this._def,maxLength:{value:e,message:s.toString(t)}})}length(e,t){return new eu({...this._def,exactLength:{value:e,message:s.toString(t)}})}nonempty(e){return this.min(1,e)}}eu.create=(e,t)=>new eu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:o.ZodArray,...N(t)});class ec extends P{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=i.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==u.object){let t=this._getOrReturnCtx(e);return b(t,{code:d.invalid_type,expected:u.object,received:t.parsedType}),w}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof eo&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||a.push(e);let s=[];for(let e of i){let t=n[e],i=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new I(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof eo){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(b(r,{code:d.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new I(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>x.mergeObjectSync(t,e)):x.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return s.errToObj,new ec({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:s.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new ec({...this._def,unknownKeys:"strip"})}passthrough(){return new ec({...this._def,unknownKeys:"passthrough"})}extend(e){return new ec({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ec({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:o.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ec({...this._def,catchall:e})}pick(e){let t={};for(let r of i.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new ec({...this._def,shape:()=>t})}omit(e){let t={};for(let r of i.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new ec({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof ec){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=eE.create(e(i))}return new ec({...t._def,shape:()=>r})}if(t instanceof eu)return new eu({...t._def,type:e(t.element)});if(t instanceof eE)return eE.create(e(t.unwrap()));if(t instanceof eA)return eA.create(e(t.unwrap()));if(t instanceof em)return em.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of i.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new ec({...this._def,shape:()=>t})}required(e){let t={};for(let r of i.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eE;)e=e._def.innerType;t[r]=e}return new ec({...this._def,shape:()=>t})}keyof(){return ew(i.objectKeys(this.shape))}}ec.create=(e,t)=>new ec({shape:()=>e,unknownKeys:"strip",catchall:eo.create(),typeName:o.ZodObject,...N(t)}),ec.strictCreate=(e,t)=>new ec({shape:()=>e,unknownKeys:"strict",catchall:eo.create(),typeName:o.ZodObject,...N(t)}),ec.lazycreate=(e,t)=>new ec({shape:e,unknownKeys:"strip",catchall:eo.create(),typeName:o.ZodObject,...N(t)});class ed extends P{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new h(e.ctx.common.issues));return b(t,{code:d.invalid_union,unionErrors:r}),w});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new h(e));return b(t,{code:d.invalid_union,unionErrors:i}),w}}get options(){return this._def.options}}ed.create=(e,t)=>new ed({options:e,typeName:o.ZodUnion,...N(t)});let ep=e=>{if(e instanceof eb)return ep(e.schema);if(e instanceof eT)return ep(e.innerType());if(e instanceof ex)return[e.value];if(e instanceof ek)return e.options;if(e instanceof eS)return i.objectValues(e.enum);else if(e instanceof eI)return ep(e._def.innerType);else if(e instanceof en)return[void 0];else if(e instanceof ei)return[null];else if(e instanceof eE)return[void 0,...ep(e.unwrap())];else if(e instanceof eA)return[null,...ep(e.unwrap())];else if(e instanceof eR)return ep(e.unwrap());else if(e instanceof eL)return ep(e.unwrap());else if(e instanceof eO)return ep(e._def.innerType);else return[]};class eh extends P{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.object)return b(t,{code:d.invalid_type,expected:u.object,received:t.parsedType}),w;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(b(t,{code:d.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),w)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=ep(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new eh({typeName:o.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...N(r)})}}class ef extends P{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(C(e)||C(n))return w;let a=function e(t,r){let n=c(t),a=c(r);if(t===r)return{valid:!0,data:t};if(n===u.object&&a===u.object){let n=i.objectKeys(r),a=i.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of a){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};s[n]=i.data}return{valid:!0,data:s}}if(n===u.array&&a===u.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}if(n===u.date&&a===u.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return a.valid?((T(e)||T(n))&&t.dirty(),{status:t.value,value:a.data}):(b(r,{code:d.invalid_intersection_types}),w)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ef.create=(e,t,r)=>new ef({left:e,right:t,typeName:o.ZodIntersection,...N(r)});class em extends P{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.array)return b(r,{code:d.invalid_type,expected:u.array,received:r.parsedType}),w;if(r.data.length<this._def.items.length)return b(r,{code:d.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),w;!this._def.rest&&r.data.length>this._def.items.length&&(b(r,{code:d.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new I(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>x.mergeArray(t,e)):x.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new em({...this._def,rest:e})}}em.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new em({items:e,typeName:o.ZodTuple,rest:null,...N(t)})};class eg extends P{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.object)return b(r,{code:d.invalid_type,expected:u.object,received:r.parsedType}),w;let n=[],i=this._def.keyType,a=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new I(r,e,r.path,e)),value:a._parse(new I(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?x.mergeObjectAsync(t,n):x.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new eg(t instanceof P?{keyType:e,valueType:t,typeName:o.ZodRecord,...N(r)}:{keyType:K.create(),valueType:e,typeName:o.ZodRecord,...N(t)})}}class ey extends P{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.map)return b(r,{code:d.invalid_type,expected:u.map,received:r.parsedType}),w;let n=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new I(r,e,r.path,[a,"key"])),value:i._parse(new I(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return w;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return w;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}ey.create=(e,t,r)=>new ey({valueType:t,keyType:e,typeName:o.ZodMap,...N(r)});class e_ extends P{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.set)return b(r,{code:d.invalid_type,expected:u.set,received:r.parsedType}),w;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(b(r,{code:d.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(b(r,{code:d.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let r=new Set;for(let n of e){if("aborted"===n.status)return w;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>i._parse(new I(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(e,t){return new e_({...this._def,minSize:{value:e,message:s.toString(t)}})}max(e,t){return new e_({...this._def,maxSize:{value:e,message:s.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}e_.create=(e,t)=>new e_({valueType:e,minSize:null,maxSize:null,typeName:o.ZodSet,...N(t)});class ev extends P{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.function)return b(t,{code:d.invalid_type,expected:u.function,received:t.parsedType}),w;function r(e,r){return _({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,m,f].filter(e=>!!e),issueData:{code:d.invalid_arguments,argumentsError:r}})}function n(e,r){return _({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,m,f].filter(e=>!!e),issueData:{code:d.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof eC){let e=this;return S(async function(...t){let s=new h([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw s.addIssue(r(t,e)),s}),l=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw s.addIssue(n(l,e)),s})})}{let e=this;return S(function(...t){let s=e._def.args.safeParse(t,i);if(!s.success)throw new h([r(t,s.error)]);let o=Reflect.apply(a,this,s.data),l=e._def.returns.safeParse(o,i);if(!l.success)throw new h([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ev({...this._def,args:em.create(e).rest(es.create())})}returns(e){return new ev({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ev({args:e||em.create([]).rest(es.create()),returns:t||es.create(),typeName:o.ZodFunction,...N(r)})}}class eb extends P{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eb.create=(e,t)=>new eb({getter:e,typeName:o.ZodLazy,...N(t)});class ex extends P{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return b(t,{received:t.data,code:d.invalid_literal,expected:this._def.value}),w}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ew(e,t){return new ek({values:e,typeName:o.ZodEnum,...N(t)})}ex.create=(e,t)=>new ex({value:e,typeName:o.ZodLiteral,...N(t)});class ek extends P{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return b(t,{expected:i.joinValues(r),received:t.parsedType,code:d.invalid_type}),w}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return b(t,{received:t.data,code:d.invalid_enum_value,options:r}),w}return S(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ek.create(e,{...this._def,...t})}exclude(e,t=this._def){return ek.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}ek.create=ew;class eS extends P{_parse(e){let t=i.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==u.string&&r.parsedType!==u.number){let e=i.objectValues(t);return b(r,{expected:i.joinValues(e),received:r.parsedType,code:d.invalid_type}),w}if(this._cache||(this._cache=new Set(i.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=i.objectValues(t);return b(r,{received:r.data,code:d.invalid_enum_value,options:e}),w}return S(e.data)}get enum(){return this._def.values}}eS.create=(e,t)=>new eS({values:e,typeName:o.ZodNativeEnum,...N(t)});class eC extends P{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==u.promise&&!1===t.common.async?(b(t,{code:d.invalid_type,expected:u.promise,received:t.parsedType}),w):S((t.parsedType===u.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eC.create=(e,t)=>new eC({type:e,typeName:o.ZodPromise,...N(t)});class eT extends P{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===o.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{b(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){let e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return w;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?w:"dirty"===n.status||"dirty"===t.value?k(n.value):n});{if("aborted"===t.value)return w;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?w:"dirty"===n.status||"dirty"===t.value?k(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?w:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?w:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>E(e)?Promise.resolve(n.transform(e.value,a)).then(e=>({status:t.value,value:e})):w);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!E(e))return w;let i=n.transform(e.value,a);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}i.assertNever(n)}}eT.create=(e,t,r)=>new eT({schema:e,typeName:o.ZodEffects,effect:t,...N(r)}),eT.createWithPreprocess=(e,t,r)=>new eT({schema:t,effect:{type:"preprocess",transform:e},typeName:o.ZodEffects,...N(r)});class eE extends P{_parse(e){return this._getType(e)===u.undefined?S(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eE.create=(e,t)=>new eE({innerType:e,typeName:o.ZodOptional,...N(t)});class eA extends P{_parse(e){return this._getType(e)===u.null?S(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eA.create=(e,t)=>new eA({innerType:e,typeName:o.ZodNullable,...N(t)});class eI extends P{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===u.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eI.create=(e,t)=>new eI({innerType:e,typeName:o.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...N(t)});class eO extends P{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return A(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new h(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new h(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eO.create=(e,t)=>new eO({innerType:e,typeName:o.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...N(t)});class eN extends P{_parse(e){if(this._getType(e)!==u.nan){let t=this._getOrReturnCtx(e);return b(t,{code:d.invalid_type,expected:u.nan,received:t.parsedType}),w}return{status:"valid",value:e.data}}}eN.create=e=>new eN({typeName:o.ZodNaN,...N(e)});let eP=Symbol("zod_brand");class eR extends P{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ej extends P{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?w:"dirty"===e.status?(t.dirty(),k(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?w:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ej({in:e,out:t,typeName:o.ZodPipeline})}}class eL extends P{_parse(e){let t=this._def.innerType._parse(e),r=e=>(E(e)&&(e.value=Object.freeze(e.value)),e);return A(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function eD(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function eM(e,t={},r){return e?ea.create().superRefine((n,i)=>{let a=e(n);if(a instanceof Promise)return a.then(e=>{if(!e){let e=eD(t,n),a=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:a})}});if(!a){let e=eD(t,n),a=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:a})}}):ea.create()}eL.create=(e,t)=>new eL({innerType:e,typeName:o.ZodReadonly,...N(t)});let eF={object:ec.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(o||(o={}));let eZ=(e,t={message:`Input not instance of ${e.name}`})=>eM(t=>t instanceof e,t),ez=K.create,e$=Q.create,eq=eN.create,eU=X.create,eB=ee.create,eV=et.create,eG=er.create,eH=en.create,eW=ei.create,eJ=ea.create,eY=es.create,eK=eo.create,eQ=el.create,eX=eu.create,e0=ec.create,e1=ec.strictCreate,e2=ed.create,e4=eh.create,e9=ef.create,e5=em.create,e3=eg.create,e6=ey.create,e7=e_.create,e8=ev.create,te=eb.create,tt=ex.create,tr=ek.create,tn=eS.create,ti=eC.create,ta=eT.create,ts=eE.create,to=eA.create,tl=eT.createWithPreprocess,tu=ej.create,tc=()=>ez().optional(),td=()=>e$().optional(),tp=()=>eB().optional(),th={string:e=>K.create({...e,coerce:!0}),number:e=>Q.create({...e,coerce:!0}),boolean:e=>ee.create({...e,coerce:!0}),bigint:e=>X.create({...e,coerce:!0}),date:e=>et.create({...e,coerce:!0})},tf=w},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9428:e=>{"use strict";e.exports=require("buffer")},9513:(e,t,r)=>{"use strict";e.exports=r(4041).vendored.contexts.HeadManagerContext},9551:e=>{"use strict";e.exports=require("url")},9566:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},s=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var n,i=t.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!a)return!1;for(n in e);return void 0===n||t.call(e,n)},o=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,r){if("__proto__"===r){if(!t.call(e,r))return;else if(i)return i(e,r).value}return e[r]};e.exports=function e(){var t,r,n,i,u,c,d=arguments[0],p=1,h=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<h;++p)if(t=arguments[p],null!=t)for(r in t)n=l(d,r),d!==(i=l(t,r))&&(f&&i&&(s(i)||(u=a(i)))?(u?(u=!1,c=n&&a(n)?n:[]):c=n&&s(n)?n:{},o(d,{name:r,newValue:e(f,c,i)})):void 0!==i&&o(d,{name:r,newValue:i}));return d}},9646:e=>{"use strict";e.exports=require("child_process")},9727:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,465],()=>r(1991));module.exports=n})();